"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7651],{7651:(R,m,e)=>{e.r(m),e.d(m,{AuthPageModule:()=>k});var g=e(177),a=e(4341),u=e(4742),c=e(4964),f=e(467),o=e(4438),p=e(385),v=e(5265),h=e(9381),P=e(3683);function A(t,s){1&t&&(o.j41(0,"div"),o.EFF(1,"El correo es requerido"),o.k0s())}function y(t,s){1&t&&(o.j41(0,"div"),o.EFF(1,"Ingrese un correo valido"),o.k0s())}function F(t,s){if(1&t&&(o.j41(0,"div",12),o.DNE(1,A,2,0,"div",13)(2,y,2,0,"div",13),o.k0s()),2&t){const r=o.XpG();o.R7$(),o.Y8G("ngIf",null==r.form.controls.email.errors?null:r.form.controls.email.errors.required),o.R7$(),o.Y8G("ngIf",null==r.form.controls.email.errors?null:r.form.controls.email.errors.email)}}function b(t,s){1&t&&(o.j41(0,"div"),o.EFF(1,"La contrase\xf1a es requerida"),o.k0s())}function G(t,s){if(1&t&&(o.j41(0,"div",12),o.DNE(1,b,2,0,"div",13),o.k0s()),2&t){const r=o.XpG();o.R7$(),o.Y8G("ngIf",null==r.form.controls.password.errors?null:r.form.controls.password.errors.required)}}const I=[{path:"",component:(()=>{var t;class s{constructor(){this.form=new a.gE({email:new a.MJ("",[a.k0.required,a.k0.email]),password:new a.MJ("",[a.k0.required])}),this.firebaseSvc=(0,o.WQX)(p.f),this.utilsSvc=(0,o.WQX)(v.T)}ngOnInit(){}submit(){var i=this;return(0,f.A)(function*(){if(i.form.valid){const n=yield i.utilsSvc.loading();yield n.present(),i.firebaseSvc.singIn(i.form.value).then(l=>{i.getUserInfo(l.user.uid)}).catch(l=>{console.log(l),i.utilsSvc.presentToast({message:l.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"})}).finally(()=>{n.dismiss()})}})()}getUserInfo(i){var n=this;return(0,f.A)(function*(){if(n.form.valid){const l=yield n.utilsSvc.loading();yield l.present(),n.firebaseSvc.getDocument(`users/${i}`).then(d=>{n.utilsSvc.saveInLocalStorage("user",d),n.utilsSvc.routerLink("/main/home"),n.form.reset(),n.utilsSvc.presentToast({message:`Te damos la bienvenida ${d.name}`,duration:1500,color:"primary",position:"middle",icon:"person-circle-outline"})}).catch(d=>{console.log(d),n.utilsSvc.presentToast({message:d.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"})}).finally(()=>{l.dismiss()})}})()}}return(t=s).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=o.VBU({type:t,selectors:[["app-auth"]],decls:17,vars:6,consts:[["title","Login"],[1,"d-flex-center"],["keypress.enter","submit()",1,"auth-form",3,"ngSubmit","formGroup"],["src","../../../assets/icon/kasskda.png","alt","login",1,"ion-padding"],["autocomplete","email","icon","mail-outline","type","email","label","Correo",3,"control"],["class","validators",4,"ngIf"],["icon","lock-closed-outline","type","password","label","Contrase\xf1a",3,"control"],["routerLink","forgot-password",1,"ion-text-start"],["expand","block","mode","ios","type","submit",1,"submit",3,"disabled"],["slot","end","name","log-in-outline"],["routerLink","sign-up","routerLinkActive","router-link-active","expand","block","mode","ios","fill","outline",1,"ion-margin-top"],["slot","end","name","person-add-outline"],[1,"validators"],[4,"ngIf"]],template:function(i,n){1&i&&(o.nrm(0,"app-header",0),o.j41(1,"ion-content")(2,"div",1)(3,"form",2),o.bIt("ngSubmit",function(){return n.submit()}),o.nrm(4,"img",3)(5,"app-custom-input",4),o.DNE(6,F,3,2,"div",5),o.nrm(7,"app-custom-input",6),o.DNE(8,G,2,1,"div",5),o.j41(9,"p",7),o.EFF(10,"\xbfOlvidaste la contrase\xf1a?"),o.k0s(),o.j41(11,"ion-button",8),o.EFF(12," Ingresar "),o.nrm(13,"ion-icon",9),o.k0s(),o.j41(14,"ion-button",10),o.EFF(15," Registrate "),o.nrm(16,"ion-icon",11),o.k0s()()()()),2&i&&(o.R7$(3),o.Y8G("formGroup",n.form),o.R7$(2),o.Y8G("control",n.form.controls.email),o.R7$(),o.Y8G("ngIf",n.form.controls.email.errors&&n.form.controls.email.touched),o.R7$(),o.Y8G("control",n.form.controls.password),o.R7$(),o.Y8G("ngIf",n.form.controls.password.errors&&n.form.controls.password.touched),o.R7$(3),o.Y8G("disabled",n.form.invalid))},dependencies:[g.bT,a.qT,a.cb,u.Jm,u.W9,u.iq,u.N7,c.Wk,c.wQ,h.l,P.H,a.j4],styles:["ion-content[_ngcontent-%COMP%]{--background: none;background-image:url(fondoAzul.ae061f8f929c587c.png);background-size:cover;background-position:center center;background-repeat:no-repeat;background-attachment:fixed}p[_ngcontent-%COMP%]{color:#fff}"]}),s})()},{path:"sign-up",loadChildren:()=>e.e(920).then(e.bind(e,920)).then(t=>t.SignUpPageModule)},{path:"forgot-password",loadChildren:()=>e.e(7005).then(e.bind(e,7005)).then(t=>t.ForgotPasswordPageModule)}];let M=(()=>{var t;class s{}return(t=s).\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.$C({type:t}),t.\u0275inj=o.G2t({imports:[c.iI.forChild(I),c.iI]}),s})();var S=e(3887);let k=(()=>{var t;class s{}return(t=s).\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.$C({type:t}),t.\u0275inj=o.G2t({imports:[g.MD,a.YN,u.bv,M,S.G]}),s})()}}]);