(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{5504:(vn,vt,L)=>{"use strict";L.d(vt,{$:()=>ls,A:()=>pe,G:()=>qe,K:()=>_s,L:()=>li,N:()=>jn,P:()=>Ah,R:()=>Si,U:()=>Lt,V:()=>qr,W:()=>Mo,X:()=>as,Y:()=>_l,Z:()=>Pr,_:()=>Mi,a:()=>fi,a0:()=>To,a1:()=>q,a2:()=>ie,a3:()=>_e,a4:()=>Ui,a5:()=>Bi,a6:()=>us,a7:()=>ql,a8:()=>cs,a9:()=>od,aA:()=>ur,aB:()=>De,aC:()=>Ie,aD:()=>md,aE:()=>Ye,aF:()=>hn,aG:()=>Zt,aH:()=>Du,aI:()=>wr,aJ:()=>wn,aN:()=>ga,aQ:()=>Vi,aa:()=>lc,ab:()=>Eu,ac:()=>Xl,ad:()=>Al,ae:()=>Au,af:()=>Us,ag:()=>Cl,ah:()=>cc,ak:()=>Do,al:()=>Ql,am:()=>xa,ap:()=>Qo,aq:()=>z,as:()=>_n,at:()=>vi,au:()=>Vt,av:()=>Ti,aw:()=>Qr,ax:()=>lt,ay:()=>Ai,az:()=>wl,b:()=>Fi,c:()=>ws,d:()=>ta,e:()=>bh,f:()=>wu,g:()=>sp,h:()=>op,i:()=>yh,j:()=>lp,k:()=>Ga,l:()=>bl,m:()=>ya,o:()=>Tm,p:()=>ze,r:()=>$a,s:()=>Ii,u:()=>Eh});var c=L(467),h=L(7852),F=L(1076),Re=L(8041),ue=L(1635),ge=L(1362);const ze={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},pe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const qe=function Ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},it=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ut=new F.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qe=new Re.Vy("@firebase/auth");function at(A,...p){Qe.logLevel<=Re.$b.ERROR&&Qe.error(`Auth (${h.SDK_VERSION}): ${A}`,...p)}function lt(A,...p){throw xt(A,...p)}function De(A,...p){return xt(A,...p)}function Le(A,p,v){const D=Object.assign(Object.assign({},it()),{[p]:v});return new F.FA("auth","Firebase",D).create(p,{appName:A.name})}function nt(A){return Le(A,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _t(A,p,v){if(!(p instanceof v))throw v.name!==p.constructor.name&&lt(A,"argument-error"),Le(A,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xt(A,...p){if("string"!=typeof A){const v=p[0],D=[...p.slice(1)];return D[0]&&(D[0].appName=A.name),A._errorFactory.create(v,...D)}return ut.create(A,...p)}function Ie(A,p,...v){if(!A)throw xt(p,...v)}function At(A){const p="INTERNAL ASSERTION FAILED: "+A;throw at(p),new Error(p)}function Vt(A,p){A||At(p)}function Qt(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function yn(){return"http:"===en()||"https:"===en()}function en(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class we{constructor(p,v){this.shortDelay=p,this.longDelay=v,Vt(v>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.jZ)()||(0,F.lV)()}get(){return function Dn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(yn()||(0,F.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xe(A,p){Vt(A.emulator,"Emulator should always be set here");const{url:v}=A.emulator;return p?`${v}${p.startsWith("/")?p.slice(1):p}`:v}class ee{static initialize(p,v,D){this.fetchImpl=p,v&&(this.headersImpl=v),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void At("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void At("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void At("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},fe=new we(3e4,6e4);function le(A,p){return A.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:A.tenantId}):p}function be(A,p,v,D){return Se.apply(this,arguments)}function Se(){return(Se=(0,c.A)(function*(A,p,v,D,X={}){return tt(A,X,(0,c.A)(function*(){let ve={},gt={};D&&("GET"===p?gt=D:ve={body:JSON.stringify(D)});const $t=(0,F.Am)(Object.assign({key:A.config.apiKey},gt)).slice(1),pn=yield A._getAdditionalHeaders();pn["Content-Type"]="application/json",A.languageCode&&(pn["X-Firebase-Locale"]=A.languageCode);const qn=Object.assign({method:p,headers:pn},ve);return(0,F.c1)()||(qn.referrerPolicy="no-referrer"),ee.fetch()(dn(A,A.config.apiHost,v,$t),qn)}))})).apply(this,arguments)}function tt(A,p,v){return He.apply(this,arguments)}function He(){return(He=(0,c.A)(function*(A,p,v){A._canInitEmulator=!1;const D=Object.assign(Object.assign({},oe),p);try{const X=new pr(A),ve=yield Promise.race([v(),X.promise]);X.clearNetworkTimeout();const gt=yield ve.json();if("needConfirmation"in gt)throw Sn(A,"account-exists-with-different-credential",gt);if(ve.ok&&!("errorMessage"in gt))return gt;{const $t=ve.ok?gt.errorMessage:gt.error.message,[pn,qn]=$t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===pn)throw Sn(A,"credential-already-in-use",gt);if("EMAIL_EXISTS"===pn)throw Sn(A,"email-already-in-use",gt);if("USER_DISABLED"===pn)throw Sn(A,"user-disabled",gt);const dr=D[pn]||pn.toLowerCase().replace(/[_\s]+/g,"-");if(qn)throw Le(A,dr,qn);lt(A,dr)}}catch(X){if(X instanceof F.g)throw X;lt(A,"network-request-failed",{message:String(X)})}})).apply(this,arguments)}function dt(A,p,v,D){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.A)(function*(A,p,v,D,X={}){const ve=yield be(A,p,v,D,X);return"mfaPendingCredential"in ve&&lt(A,"multi-factor-auth-required",{_serverResponse:ve}),ve})).apply(this,arguments)}function dn(A,p,v,D){const X=`${p}${v}?${D}`;return A.config.emulator?xe(A.config,X):`${A.config.apiScheme}://${X}`}function In(A){switch(A){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((v,D)=>{this.timer=setTimeout(()=>D(De(this.auth,"network-request-failed")),fe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sn(A,p,v){const D={appName:A.name};v.email&&(D.email=v.email),v.phoneNumber&&(D.phoneNumber=v.phoneNumber);const X=De(A,p,D);return X.customData._tokenResponse=v,X}function zn(A){return void 0!==A&&void 0!==A.getResponse}function Xn(A){return void 0!==A&&void 0!==A.enterprise}class Kn{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===p)return In(v.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function kt(){return(kt=(0,c.A)(function*(A){return(yield be(A,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ot(A,p){return fn.apply(this,arguments)}function fn(){return(fn=(0,c.A)(function*(A,p){return be(A,"GET","/v2/recaptchaConfig",le(A,p))})).apply(this,arguments)}function hr(){return(hr=(0,c.A)(function*(A,p){return be(A,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Cn(){return(Cn=(0,c.A)(function*(A,p){return be(A,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function En(A,p){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.A)(function*(A,p){return be(A,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function lr(A){if(A)try{const p=new Date(Number(A));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function fr(){return(fr=(0,c.A)(function*(A,p=!1){const v=(0,F.Ku)(A),D=yield v.getIdToken(p),X=sr(D);Ie(X&&X.exp&&X.auth_time&&X.iat,v.auth,"internal-error");const ve="object"==typeof X.firebase?X.firebase:void 0,gt=null==ve?void 0:ve.sign_in_provider;return{claims:X,token:D,authTime:lr(Fr(X.auth_time)),issuedAtTime:lr(Fr(X.iat)),expirationTime:lr(Fr(X.exp)),signInProvider:gt||null,signInSecondFactor:(null==ve?void 0:ve.sign_in_second_factor)||null}})).apply(this,arguments)}function Fr(A){return 1e3*Number(A)}function sr(A){const[p,v,D]=A.split(".");if(void 0===p||void 0===v||void 0===D)return at("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,F.u)(v);return X?JSON.parse(X):(at("Failed to decode base64 JWT payload"),null)}catch(X){return at("Caught error parsing JWT payload as JSON",null==X?void 0:X.toString()),null}}function Er(A){const p=sr(A);return Ie(p,"internal-error"),Ie(typeof p.exp<"u","internal-error"),Ie(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function mn(A,p){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,c.A)(function*(A,p,v=!1){if(v)return p;try{return yield p}catch(D){throw D instanceof F.g&&function or({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}(D)&&A.auth.currentUser===A&&(yield A.auth.signOut()),D}})).apply(this,arguments)}class Lr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var v;if(p){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const X=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(p=!1){var v=this;if(!this.isRunning)return;const D=this.getInterval(p);this.timerId=setTimeout((0,c.A)(function*(){yield v.iteration()}),D)}iteration(){var p=this;return(0,c.A)(function*(){try{yield p.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===(null==v?void 0:v.code)&&p.schedule(!0))}p.schedule()})()}}class Bn{constructor(p,v){this.createdAt=p,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=lr(this.lastLoginAt),this.creationTime=lr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yt(A){return nr.apply(this,arguments)}function nr(){return(nr=(0,c.A)(function*(A){var p;const v=A.auth,D=yield A.getIdToken(),X=yield mn(A,En(v,{idToken:D}));Ie(null==X?void 0:X.users.length,v,"internal-error");const ve=X.users[0];A._notifyReloadListener(ve);const gt=null!==(p=ve.providerUserInfo)&&void 0!==p&&p.length?rt(ve.providerUserInfo):[],$t=function Fe(A,p){return[...A.filter(D=>!p.some(X=>X.providerId===D.providerId)),...p]}(A.providerData,gt),dr=!!A.isAnonymous&&!(A.email&&ve.passwordHash||null!=$t&&$t.length),$r={uid:ve.localId,displayName:ve.displayName||null,photoURL:ve.photoUrl||null,email:ve.email||null,emailVerified:ve.emailVerified||!1,phoneNumber:ve.phoneNumber||null,tenantId:ve.tenantId||null,providerData:$t,metadata:new Bn(ve.createdAt,ve.lastLoginAt),isAnonymous:dr};Object.assign(A,$r)})).apply(this,arguments)}function St(){return(St=(0,c.A)(function*(A){const p=(0,F.Ku)(A);yield yt(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function rt(A){return A.map(p=>{var{providerId:v}=p,D=(0,ue.Tt)(p,["providerId"]);return{providerId:v,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function ke(){return(ke=(0,c.A)(function*(A,p){const v=yield tt(A,{},(0,c.A)(function*(){const D=(0,F.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:X,apiKey:ve}=A.config,gt=dn(A,X,"/v1/token",`key=${ve}`),$t=yield A._getAdditionalHeaders();return $t["Content-Type"]="application/x-www-form-urlencoded",ee.fetch()(gt,{method:"POST",headers:$t,body:D})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function W(){return(W=(0,c.A)(function*(A,p){return be(A,"POST","/v2/accounts:revokeToken",le(A,p))})).apply(this,arguments)}class R{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Ie(p.idToken,"internal-error"),Ie(typeof p.idToken<"u","internal-error"),Ie(typeof p.refreshToken<"u","internal-error");const v="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):Er(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,v)}updateFromIdToken(p){Ie(0!==p.length,"internal-error");const v=Er(p);this.updateTokensAndExpiration(p,null,v)}getToken(p,v=!1){var D=this;return(0,c.A)(function*(){return v||!D.accessToken||D.isExpired?(Ie(D.refreshToken,p,"user-token-expired"),D.refreshToken?(yield D.refresh(p,D.refreshToken),D.accessToken):null):D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,v){var D=this;return(0,c.A)(function*(){const{accessToken:X,refreshToken:ve,expiresIn:gt}=yield function ot(A,p){return ke.apply(this,arguments)}(p,v);D.updateTokensAndExpiration(X,ve,Number(gt))})()}updateTokensAndExpiration(p,v,D){this.refreshToken=v||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(p,v){const{refreshToken:D,accessToken:X,expirationTime:ve}=v,gt=new R;return D&&(Ie("string"==typeof D,"internal-error",{appName:p}),gt.refreshToken=D),X&&(Ie("string"==typeof X,"internal-error",{appName:p}),gt.accessToken=X),ve&&(Ie("number"==typeof ve,"internal-error",{appName:p}),gt.expirationTime=ve),gt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new R,this.toJSON())}_performRefresh(){return At("not implemented")}}function k(A,p){Ie("string"==typeof A||typeof A>"u","internal-error",{appName:p})}class ce{constructor(p){var{uid:v,auth:D,stsTokenManager:X}=p,ve=(0,ue.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=D,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=ve.displayName||null,this.email=ve.email||null,this.emailVerified=ve.emailVerified||!1,this.phoneNumber=ve.phoneNumber||null,this.photoURL=ve.photoURL||null,this.isAnonymous=ve.isAnonymous||!1,this.tenantId=ve.tenantId||null,this.providerData=ve.providerData?[...ve.providerData]:[],this.metadata=new Bn(ve.createdAt||void 0,ve.lastLoginAt||void 0)}getIdToken(p){var v=this;return(0,c.A)(function*(){const D=yield mn(v,v.stsTokenManager.getToken(v.auth,p));return Ie(D,v.auth,"internal-error"),v.accessToken!==D&&(v.accessToken=D,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),D})()}getIdTokenResult(p){return function Vn(A){return fr.apply(this,arguments)}(this,p)}reload(){return function rr(A){return St.apply(this,arguments)}(this)}_assign(p){this!==p&&(Ie(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(v=>Object.assign({},v)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const v=new ce(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(p){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,v=!1){var D=this;return(0,c.A)(function*(){let X=!1;p.idToken&&p.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(p),X=!0),v&&(yield yt(D)),yield D.auth._persistUserIfCurrent(D),X&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var p=this;return(0,c.A)(function*(){if((0,h._isFirebaseServerApp)(p.auth.app))return Promise.reject(nt(p.auth));const v=yield p.getIdToken();return yield mn(p,function Bt(A,p){return hr.apply(this,arguments)}(p.auth,{idToken:v})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,v){var D,X,ve,gt,$t,pn,qn,dr;const $r=null!==(D=v.displayName)&&void 0!==D?D:void 0,ns=null!==(X=v.email)&&void 0!==X?X:void 0,dl=null!==(ve=v.phoneNumber)&&void 0!==ve?ve:void 0,Mu=null!==(gt=v.photoURL)&&void 0!==gt?gt:void 0,Ed=null!==($t=v.tenantId)&&void 0!==$t?$t:void 0,Ss=null!==(pn=v._redirectEventId)&&void 0!==pn?pn:void 0,xu=null!==(qn=v.createdAt)&&void 0!==qn?qn:void 0,Rl=null!==(dr=v.lastLoginAt)&&void 0!==dr?dr:void 0,{uid:cu,emailVerified:Ec,isAnonymous:Ac,providerData:Nu,stsTokenManager:pp}=v;Ie(cu&&pp,p,"internal-error");const Lh=R.fromJSON(this.name,pp);Ie("string"==typeof cu,p,"internal-error"),k($r,p.name),k(ns,p.name),Ie("boolean"==typeof Ec,p,"internal-error"),Ie("boolean"==typeof Ac,p,"internal-error"),k(dl,p.name),k(Mu,p.name),k(Ed,p.name),k(Ss,p.name),k(xu,p.name),k(Rl,p.name);const Cc=new ce({uid:cu,auth:p,email:ns,emailVerified:Ec,displayName:$r,isAnonymous:Ac,photoURL:Mu,phoneNumber:dl,tenantId:Ed,stsTokenManager:Lh,createdAt:xu,lastLoginAt:Rl});return Nu&&Array.isArray(Nu)&&(Cc.providerData=Nu.map(Ad=>Object.assign({},Ad))),Ss&&(Cc._redirectEventId=Ss),Cc}static _fromIdTokenResponse(p,v,D=!1){return(0,c.A)(function*(){const X=new R;X.updateFromServerResponse(v);const ve=new ce({uid:v.localId,auth:p,stsTokenManager:X,isAnonymous:D});return yield yt(ve),ve})()}static _fromGetAccountInfoResponse(p,v,D){return(0,c.A)(function*(){const X=v.users[0];Ie(void 0!==X.localId,"internal-error");const ve=void 0!==X.providerUserInfo?rt(X.providerUserInfo):[],gt=!(X.email&&X.passwordHash||null!=ve&&ve.length),$t=new R;$t.updateFromIdToken(D);const pn=new ce({uid:X.localId,auth:p,stsTokenManager:$t,isAnonymous:gt}),qn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:ve,metadata:new Bn(X.createdAt,X.lastLoginAt),isAnonymous:!(X.email&&X.passwordHash||null!=ve&&ve.length)};return Object.assign(pn,qn),pn})()}}const se=new Map;function Ye(A){Vt(A instanceof Function,"Expected a class definition");let p=se.get(A);return p?(Vt(p instanceof A,"Instance stored in cache mismatched with class"),p):(p=new A,se.set(A,p),p)}const Lt=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.A)(function*(){return!0})()}_set(v,D){var X=this;return(0,c.A)(function*(){X.storage[v]=D})()}_get(v){var D=this;return(0,c.A)(function*(){const X=D.storage[v];return void 0===X?null:X})()}_remove(v){var D=this;return(0,c.A)(function*(){delete D.storage[v]})()}_addListener(v,D){}_removeListener(v,D){}}return A.type="NONE",A})();function hn(A,p,v){return`firebase:${A}:${p}:${v}`}class rn{constructor(p,v,D){this.persistence=p,this.auth=v,this.userKey=D;const{config:X,name:ve}=this.auth;this.fullUserKey=hn(this.userKey,X.apiKey,ve),this.fullPersistenceKey=hn("persistence",X.apiKey,ve),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.A)(function*(){const v=yield p.persistence._get(p.fullUserKey);return v?ce._fromJSON(p.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var v=this;return(0,c.A)(function*(){if(v.persistence===p)return;const D=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=p,D?v.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,v,D="authUser"){return(0,c.A)(function*(){if(!v.length)return new rn(Ye(Lt),p,D);const X=(yield Promise.all(v.map(function(){var qn=(0,c.A)(function*(dr){if(yield dr._isAvailable())return dr});return function(dr){return qn.apply(this,arguments)}}()))).filter(qn=>qn);let ve=X[0]||Ye(Lt);const gt=hn(D,p.config.apiKey,p.name);let $t=null;for(const qn of v)try{const dr=yield qn._get(gt);if(dr){const $r=ce._fromJSON(p,dr);qn!==ve&&($t=$r),ve=qn;break}}catch{}const pn=X.filter(qn=>qn._shouldAllowMigration);return ve._shouldAllowMigration&&pn.length?(ve=pn[0],$t&&(yield ve._set(gt,$t.toJSON())),yield Promise.all(v.map(function(){var qn=(0,c.A)(function*(dr){if(dr!==ve)try{yield dr._remove(gt)}catch{}});return function(dr){return qn.apply(this,arguments)}}())),new rn(ve,p,D)):new rn(ve,p,D)})()}}function gn(A){const p=A.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(xn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(on(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(_r(p))return"Blackberry";if(Mn(p))return"Webos";if(er(p))return"Safari";if((p.includes("chrome/")||Tn(p))&&!p.includes("edge/"))return"Chrome";if(Qr(p))return"Android";{const D=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function on(A=(0,F.ZQ)()){return/firefox\//i.test(A)}function er(A=(0,F.ZQ)()){const p=A.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Tn(A=(0,F.ZQ)()){return/crios\//i.test(A)}function xn(A=(0,F.ZQ)()){return/iemobile/i.test(A)}function Qr(A=(0,F.ZQ)()){return/android/i.test(A)}function _r(A=(0,F.ZQ)()){return/blackberry/i.test(A)}function Mn(A=(0,F.ZQ)()){return/webos/i.test(A)}function Ti(A=(0,F.ZQ)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function ur(A=(0,F.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(A)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(A)}function H(A=(0,F.ZQ)()){return Ti(A)||Qr(A)||Mn(A)||_r(A)||/windows phone/i.test(A)||xn(A)}function Ee(A,p=[]){let v;switch(A){case"Browser":v=gn((0,F.ZQ)());break;case"Worker":v=`${gn((0,F.ZQ)())}-${A}`;break;default:v=A}const D=p.length?p.join(","):"FirebaseCore-web";return`${v}/JsCore/${h.SDK_VERSION}/${D}`}class J{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,v){const D=ve=>new Promise((gt,$t)=>{try{gt(p(ve))}catch(pn){$t(pn)}});D.onAbort=v,this.queue.push(D);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(p){var v=this;return(0,c.A)(function*(){if(v.auth.currentUser===p)return;const D=[];try{for(const X of v.queue)yield X(p),X.onAbort&&D.push(X.onAbort)}catch(X){D.reverse();for(const ve of D)try{ve()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null==X?void 0:X.message})}})()}}function Me(){return(Me=(0,c.A)(function*(A,p={}){return be(A,"GET","/v2/passwordPolicy",le(A,p))})).apply(this,arguments)}class Gt{constructor(p){var v,D,X,ve;const gt=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=gt.minPasswordLength)&&void 0!==v?v:6,gt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=gt.maxPasswordLength),void 0!==gt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=gt.containsLowercaseCharacter),void 0!==gt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=gt.containsUppercaseCharacter),void 0!==gt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=gt.containsNumericCharacter),void 0!==gt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=gt.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(X=null===(D=p.allowedNonAlphanumericCharacters)||void 0===D?void 0:D.join(""))&&void 0!==X?X:"",this.forceUpgradeOnSignin=null!==(ve=p.forceUpgradeOnSignin)&&void 0!==ve&&ve,this.schemaVersion=p.schemaVersion}validatePassword(p){var v,D,X,ve,gt,$t;const pn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,pn),this.validatePasswordCharacterOptions(p,pn),pn.isValid&&(pn.isValid=null===(v=pn.meetsMinPasswordLength)||void 0===v||v),pn.isValid&&(pn.isValid=null===(D=pn.meetsMaxPasswordLength)||void 0===D||D),pn.isValid&&(pn.isValid=null===(X=pn.containsLowercaseLetter)||void 0===X||X),pn.isValid&&(pn.isValid=null===(ve=pn.containsUppercaseLetter)||void 0===ve||ve),pn.isValid&&(pn.isValid=null===(gt=pn.containsNumericCharacter)||void 0===gt||gt),pn.isValid&&(pn.isValid=null===($t=pn.containsNonAlphanumericCharacter)||void 0===$t||$t),pn}validatePasswordLengthOptions(p,v){const D=this.customStrengthOptions.minPasswordLength,X=this.customStrengthOptions.maxPasswordLength;D&&(v.meetsMinPasswordLength=p.length>=D),X&&(v.meetsMaxPasswordLength=p.length<=X)}validatePasswordCharacterOptions(p,v){let D;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let X=0;X<p.length;X++)D=p.charAt(X),this.updatePasswordCharacterOptionsStatuses(v,D>="a"&&D<="z",D>="A"&&D<="Z",D>="0"&&D<="9",this.allowedNonAlphanumericCharacters.includes(D))}updatePasswordCharacterOptionsStatuses(p,v,D,X,ve){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=D)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=X)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=ve))}}class an{constructor(p,v,D,X){this.app=p,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=D,this.config=X,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gr(this),this.idTokenSubscription=new gr(this),this.beforeStateQueue=new J(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ut,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=X.sdkClientVersion}_initializeWithPersistence(p,v){var D=this;return v&&(this._popupRedirectResolver=Ye(v)),this._initializationPromise=this.queue((0,c.A)(function*(){var X,ve;if(!D._deleted&&(D.persistenceManager=yield rn.create(D,p),!D._deleted)){if(null!==(X=D._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(v),D.lastNotifiedUid=(null===(ve=D.currentUser)||void 0===ve?void 0:ve.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.A)(function*(){if(p._deleted)return;const v=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||v){if(p.currentUser&&v&&p.currentUser.uid===v.uid)return p._currentUser._assign(v),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(v,!0)}})()}initializeCurrentUserFromIdToken(p){var v=this;return(0,c.A)(function*(){try{const D=yield En(v,{idToken:p}),X=yield ce._fromGetAccountInfoResponse(v,D,p);yield v.directlySetCurrentUser(X)}catch(D){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",D),yield v.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var v=this;return(0,c.A)(function*(){var D;if((0,h._isFirebaseServerApp)(v.app)){const $t=v.app.settings.authIdToken;return $t?new Promise(pn=>{setTimeout(()=>v.initializeCurrentUserFromIdToken($t).then(pn,pn))}):v.directlySetCurrentUser(null)}const X=yield v.assertedPersistence.getCurrentUser();let ve=X,gt=!1;if(p&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const $t=null===(D=v.redirectUser)||void 0===D?void 0:D._redirectEventId,pn=null==ve?void 0:ve._redirectEventId,qn=yield v.tryRedirectSignIn(p);(!$t||$t===pn)&&null!=qn&&qn.user&&(ve=qn.user,gt=!0)}if(!ve)return v.directlySetCurrentUser(null);if(!ve._redirectEventId){if(gt)try{yield v.beforeStateQueue.runMiddleware(ve)}catch($t){ve=X,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject($t))}return ve?v.reloadAndSetCurrentUserOrClear(ve):v.directlySetCurrentUser(null)}return Ie(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===ve._redirectEventId?v.directlySetCurrentUser(ve):v.reloadAndSetCurrentUserOrClear(ve)})()}tryRedirectSignIn(p){var v=this;return(0,c.A)(function*(){let D=null;try{D=yield v._popupRedirectResolver._completeRedirectFn(v,p,!0)}catch{yield v._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(p){var v=this;return(0,c.A)(function*(){try{yield yt(p)}catch(D){if("auth/network-request-failed"!==(null==D?void 0:D.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Et(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var p=this;return(0,c.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var v=this;return(0,c.A)(function*(){if((0,h._isFirebaseServerApp)(v.app))return Promise.reject(nt(v));const D=p?(0,F.Ku)(p):null;return D&&Ie(D.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(D&&D._clone(v))})()}_updateCurrentUser(p,v=!1){var D=this;return(0,c.A)(function*(){if(!D._deleted)return p&&Ie(D.tenantId===p.tenantId,D,"tenant-id-mismatch"),v||(yield D.beforeStateQueue.runMiddleware(p)),D.queue((0,c.A)(function*(){yield D.directlySetCurrentUser(p),D.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.A)(function*(){return(0,h._isFirebaseServerApp)(p.app)?Promise.reject(nt(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var v=this;return(0,h._isFirebaseServerApp)(this.app)?Promise.reject(nt(this)):this.queue((0,c.A)(function*(){yield v.assertedPersistence.setPersistence(Ye(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var v=this;return(0,c.A)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const D=v._getPasswordPolicyInternal();return D.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):D.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,c.A)(function*(){const v=yield function te(A){return Me.apply(this,arguments)}(p),D=new Gt(v);null===p.tenantId?p._projectPasswordPolicy=D:p._tenantPasswordPolicies[p.tenantId]=D})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.FA("auth","Firebase",p())}onAuthStateChanged(p,v,D){return this.registerStateListener(this.authStateSubscription,p,v,D)}beforeAuthStateChanged(p,v){return this.beforeStateQueue.pushCallback(p,v)}onIdTokenChanged(p,v,D){return this.registerStateListener(this.idTokenSubscription,p,v,D)}authStateReady(){return new Promise((p,v)=>{if(this.currentUser)p();else{const D=this.onAuthStateChanged(()=>{D(),p()},v)}})}revokeAccessToken(p){var v=this;return(0,c.A)(function*(){if(v.currentUser){const D=yield v.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:D};null!=v.tenantId&&(X.tenantId=v.tenantId),yield function Ue(A,p){return W.apply(this,arguments)}(v,X)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,v){var D=this;return(0,c.A)(function*(){const X=yield D.getOrInitRedirectPersistenceManager(v);return null===p?X.removeCurrentUser():X.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var v=this;return(0,c.A)(function*(){if(!v.redirectPersistenceManager){const D=p&&Ye(p)||v._popupRedirectResolver;Ie(D,v,"argument-error"),v.redirectPersistenceManager=yield rn.create(v,[Ye(D._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(p){var v=this;return(0,c.A)(function*(){var D,X;return v._isInitialized&&(yield v.queue((0,c.A)(function*(){}))),(null===(D=v._currentUser)||void 0===D?void 0:D._redirectEventId)===p?v._currentUser:(null===(X=v.redirectUser)||void 0===X?void 0:X._redirectEventId)===p?v.redirectUser:null})()}_persistUserIfCurrent(p){var v=this;return(0,c.A)(function*(){if(p===v.currentUser)return v.queue((0,c.A)(function*(){return v.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(v=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,v,D,X){if(this._deleted)return()=>{};const ve="function"==typeof v?v:v.next.bind(v);let gt=!1;const $t=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie($t,this,"internal-error"),$t.then(()=>{gt||ve(this.currentUser)}),"function"==typeof v){const pn=p.addObserver(v,D,X);return()=>{gt=!0,pn()}}{const pn=p.addObserver(v);return()=>{gt=!0,pn()}}}directlySetCurrentUser(p){var v=this;return(0,c.A)(function*(){v.currentUser&&v.currentUser!==p&&v._currentUser._stopProactiveRefresh(),p&&v.isProactiveRefreshEnabled&&p._startProactiveRefresh(),v.currentUser=p,p?yield v.assertedPersistence.setCurrentUser(p):yield v.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ee(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.A)(function*(){var v;const D={"X-Client-Version":p.clientVersion};p.app.options.appId&&(D["X-Firebase-gmpid"]=p.app.options.appId);const X=yield null===(v=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();X&&(D["X-Firebase-Client"]=X);const ve=yield p._getAppCheckToken();return ve&&(D["X-Firebase-AppCheck"]=ve),D})()}_getAppCheckToken(){var p=this;return(0,c.A)(function*(){var v;const D=yield null===(v=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return null!=D&&D.error&&function ct(A,...p){Qe.logLevel<=Re.$b.WARN&&Qe.warn(`Auth (${h.SDK_VERSION}): ${A}`,...p)}(`Error while retrieving App Check token: ${D.error}`),null==D?void 0:D.token})()}}function wn(A){return(0,F.Ku)(A)}class gr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.tD)(v=>this.observer=v)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nn={loadJS:()=>(0,c.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ir(A){return Nn.loadJS(A)}function It(A){return`__${A}${Math.floor(1e6*Math.random())}`}class Ki{constructor(p){this.type="recaptcha-enterprise",this.auth=wn(p)}verify(p="verify",v=!1){var D=this;return(0,c.A)(function*(){function ve(){return ve=(0,c.A)(function*($t){if(!v){if(null==$t.tenantId&&null!=$t._agentRecaptchaConfig)return $t._agentRecaptchaConfig.siteKey;if(null!=$t.tenantId&&void 0!==$t._tenantRecaptchaConfigs[$t.tenantId])return $t._tenantRecaptchaConfigs[$t.tenantId].siteKey}return new Promise(function(){var pn=(0,c.A)(function*(qn,dr){Ot($t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then($r=>{if(void 0!==$r.recaptchaKey){const ns=new Kn($r);return null==$t.tenantId?$t._agentRecaptchaConfig=ns:$t._tenantRecaptchaConfigs[$t.tenantId]=ns,qn(ns.siteKey)}dr(new Error("recaptcha Enterprise site key undefined"))}).catch($r=>{dr($r)})});return function(qn,dr){return pn.apply(this,arguments)}}())}),ve.apply(this,arguments)}function gt($t,pn,qn){const dr=window.grecaptcha;Xn(dr)?dr.enterprise.ready(()=>{dr.enterprise.execute($t,{action:p}).then($r=>{pn($r)}).catch(()=>{pn("NO_RECAPTCHA")})}):qn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(($t,pn)=>{(function X($t){return ve.apply(this,arguments)})(D.auth).then(qn=>{if(!v&&Xn(window.grecaptcha))gt(qn,$t,pn);else{if(typeof window>"u")return void pn(new Error("RecaptchaVerifier is only supported in browser"));let dr=function ei(){return Nn.recaptchaEnterpriseScript}();0!==dr.length&&(dr+=qn),ir(dr).then(()=>{gt(qn,$t,pn)}).catch($r=>{pn($r)})}}).catch(qn=>{pn(qn)})})})()}}function zo(A,p,v){return _o.apply(this,arguments)}function _o(){return(_o=(0,c.A)(function*(A,p,v,D=!1){const X=new Ki(A);let ve;try{ve=yield X.verify(v)}catch{ve=yield X.verify(v,!0)}const gt=Object.assign({},p);return Object.assign(gt,D?{captchaResp:ve}:{captchaResponse:ve}),Object.assign(gt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(gt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),gt})).apply(this,arguments)}function pi(A,p,v,D){return os.apply(this,arguments)}function os(){return os=(0,c.A)(function*(A,p,v,D){var X;if(null!==(X=A._getRecaptchaConfig())&&void 0!==X&&X.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ve=yield zo(A,p,v,"getOobCode"===v);return D(A,ve)}return D(A,p).catch(function(){var ve=(0,c.A)(function*(gt){if("auth/missing-recaptcha-token"===gt.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const $t=yield zo(A,p,v,"getOobCode"===v);return D(A,$t)}return Promise.reject(gt)});return function(gt){return ve.apply(this,arguments)}}())}),os.apply(this,arguments)}function _s(A,p,v){const D=wn(A);Ie(D._canInitEmulator,D,"emulator-config-failed"),Ie(/^https?:\/\//.test(p),D,"invalid-emulator-scheme");const X=!(null==v||!v.disableWarnings),ve=Jn(p),{host:gt,port:$t}=function Sr(A){const p=Jn(A),v=/(\/\/)?([^?#/]+)/.exec(A.substr(p.length));if(!v)return{host:"",port:null};const D=v[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(D);if(X){const ve=X[1];return{host:ve,port:ss(D.substr(ve.length+1))}}{const[ve,gt]=D.split(":");return{host:ve,port:ss(gt)}}}(p);D.config.emulator={url:`${ve}//${gt}${null===$t?"":`:${$t}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:gt,port:$t,protocol:ve.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function qs(){function A(){const p=document.createElement("p"),v=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}function Jn(A){const p=A.indexOf(":");return p<0?"":A.substr(0,p+1)}function ss(A){if(!A)return null;const p=Number(A);return isNaN(p)?null:p}class li{constructor(p,v){this.providerId=p,this.signInMethod=v}toJSON(){return At("not implemented")}_getIdTokenResponse(p){return At("not implemented")}_linkToIdToken(p,v){return At("not implemented")}_getReauthenticationResolver(p){return At("not implemented")}}function Xs(A,p){return ca.apply(this,arguments)}function ca(){return(ca=(0,c.A)(function*(A,p){return be(A,"POST","/v1/accounts:resetPassword",le(A,p))})).apply(this,arguments)}function Rr(){return(Rr=(0,c.A)(function*(A,p){return be(A,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Wo(A,p){return ys.apply(this,arguments)}function ys(){return(ys=(0,c.A)(function*(A,p){return be(A,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function Ko(){return(Ko=(0,c.A)(function*(A,p){return be(A,"POST","/v1/accounts:update",le(A,p))})).apply(this,arguments)}function Ls(A,p){return Is.apply(this,arguments)}function Is(){return(Is=(0,c.A)(function*(A,p){return dt(A,"POST","/v1/accounts:signInWithPassword",le(A,p))})).apply(this,arguments)}function Oo(A,p){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,c.A)(function*(A,p){return be(A,"POST","/v1/accounts:sendOobCode",le(A,p))})).apply(this,arguments)}function Y(){return(Y=(0,c.A)(function*(A,p){return Oo(A,p)})).apply(this,arguments)}function me(A,p){return O.apply(this,arguments)}function O(){return(O=(0,c.A)(function*(A,p){return Oo(A,p)})).apply(this,arguments)}function C(A,p){return j.apply(this,arguments)}function j(){return(j=(0,c.A)(function*(A,p){return Oo(A,p)})).apply(this,arguments)}function $e(){return($e=(0,c.A)(function*(A,p){return Oo(A,p)})).apply(this,arguments)}function st(){return(st=(0,c.A)(function*(A,p){return dt(A,"POST","/v1/accounts:signInWithEmailLink",le(A,p))})).apply(this,arguments)}function wt(){return(wt=(0,c.A)(function*(A,p){return dt(A,"POST","/v1/accounts:signInWithEmailLink",le(A,p))})).apply(this,arguments)}class qt extends li{constructor(p,v,D,X=null){super("password",D),this._email=p,this._password=v,this._tenantId=X}static _fromEmailAndPassword(p,v){return new qt(p,v,"password")}static _fromEmailAndCode(p,v,D=null){return new qt(p,v,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p;if(null!=v&&v.email&&null!=v&&v.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(p){var v=this;return(0,c.A)(function*(){switch(v.signInMethod){case"password":return pi(p,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ls);case"emailLink":return function ht(A,p){return st.apply(this,arguments)}(p,{email:v._email,oobCode:v._password});default:lt(p,"internal-error")}})()}_linkToIdToken(p,v){var D=this;return(0,c.A)(function*(){switch(D.signInMethod){case"password":return pi(p,{idToken:v,returnSecureToken:!0,email:D._email,password:D._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Wo);case"emailLink":return function Yt(A,p){return wt.apply(this,arguments)}(p,{idToken:v,email:D._email,oobCode:D._password});default:lt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function tn(A,p){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.A)(function*(A,p){return dt(A,"POST","/v1/accounts:signInWithIdp",le(A,p))})).apply(this,arguments)}class jn extends li{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const v=new jn(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(v.idToken=p.idToken),p.accessToken&&(v.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(v.nonce=p.nonce),p.pendingToken&&(v.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(v.accessToken=p.oauthToken,v.secret=p.oauthTokenSecret):lt("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:D,signInMethod:X}=v,ve=(0,ue.Tt)(v,["providerId","signInMethod"]);if(!D||!X)return null;const gt=new jn(D,X);return gt.idToken=ve.idToken||void 0,gt.accessToken=ve.accessToken||void 0,gt.secret=ve.secret,gt.nonce=ve.nonce,gt.pendingToken=ve.pendingToken||null,gt}_getIdTokenResponse(p){return tn(p,this.buildRequest())}_linkToIdToken(p,v){const D=this.buildRequest();return D.idToken=v,tn(p,D)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,tn(p,v)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),p.postBody=(0,F.Am)(v)}return p}}function kr(){return(kr=(0,c.A)(function*(A,p){return be(A,"POST","/v1/accounts:sendVerificationCode",le(A,p))})).apply(this,arguments)}function ui(){return(ui=(0,c.A)(function*(A,p){return dt(A,"POST","/v1/accounts:signInWithPhoneNumber",le(A,p))})).apply(this,arguments)}function cr(){return(cr=(0,c.A)(function*(A,p){const v=yield dt(A,"POST","/v1/accounts:signInWithPhoneNumber",le(A,p));if(v.temporaryProof)throw Sn(A,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const ho={USER_NOT_FOUND:"user-not-found"};function Tr(){return(Tr=(0,c.A)(function*(A,p){return dt(A,"POST","/v1/accounts:signInWithPhoneNumber",le(A,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ho)})).apply(this,arguments)}class io extends li{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,v){return new io({verificationId:p,verificationCode:v})}static _fromTokenResponse(p,v){return new io({phoneNumber:p,temporaryProof:v})}_getIdTokenResponse(p){return function jr(A,p){return ui.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,v){return function Yr(A,p){return cr.apply(this,arguments)}(p,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Jr(A,p){return Tr.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:v,verificationId:D,verificationCode:X}=this.params;return p&&v?{temporaryProof:p,phoneNumber:v}:{sessionInfo:D,code:X}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:v,verificationCode:D,phoneNumber:X,temporaryProof:ve}=p;return D||v||X||ve?new io({verificationId:v,verificationCode:D,phoneNumber:X,temporaryProof:ve}):null}}class ko{constructor(p){var v,D,X,ve,gt,$t;const pn=(0,F.I9)((0,F.hp)(p)),qn=null!==(v=pn.apiKey)&&void 0!==v?v:null,dr=null!==(D=pn.oobCode)&&void 0!==D?D:null,$r=function Co(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=pn.mode)&&void 0!==X?X:null);Ie(qn&&dr&&$r,"argument-error"),this.apiKey=qn,this.operation=$r,this.code=dr,this.continueUrl=null!==(ve=pn.continueUrl)&&void 0!==ve?ve:null,this.languageCode=null!==(gt=pn.languageCode)&&void 0!==gt?gt:null,this.tenantId=null!==($t=pn.tenantId)&&void 0!==$t?$t:null}static parseLink(p){const v=function Xi(A){const p=(0,F.I9)((0,F.hp)(A)).link,v=p?(0,F.I9)((0,F.hp)(p)).deep_link_id:null,D=(0,F.I9)((0,F.hp)(A)).deep_link_id;return(D?(0,F.I9)((0,F.hp)(D)).link:null)||D||v||p||A}(p);try{return new ko(v)}catch{return null}}}let qr=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(v,D){return qt._fromEmailAndPassword(v,D)}static credentialWithLink(v,D){const X=ko.parseLink(D);return Ie(X,"argument-error"),qt._fromEmailAndCode(v,X.code,X.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class qo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class yo extends qo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Pr extends yo{static credentialFromJSON(p){const v="string"==typeof p?JSON.parse(p):p;return Ie("providerId"in v&&"signInMethod"in v,"argument-error"),jn._fromParams(v)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Ie(p.idToken||p.accessToken,"argument-error"),jn._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Pr.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Pr.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:D,oauthTokenSecret:X,pendingToken:ve,nonce:gt,providerId:$t}=p;if(!D&&!X&&!v&&!ve||!$t)return null;try{return new Pr($t)._credential({idToken:v,accessToken:D,nonce:gt,pendingToken:ve})}catch{return null}}}let Mo=(()=>{class A extends yo{constructor(){super("facebook.com")}static credential(v){return jn._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return A.credentialFromTaggedObject(v)}static credentialFromError(v){return A.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return A.credential(v.oauthAccessToken)}catch{return null}}}return A.FACEBOOK_SIGN_IN_METHOD="facebook.com",A.PROVIDER_ID="facebook.com",A})(),as=(()=>{class A extends yo{constructor(){super("google.com"),this.addScope("profile")}static credential(v,D){return jn._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:D})}static credentialFromResult(v){return A.credentialFromTaggedObject(v)}static credentialFromError(v){return A.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:D,oauthAccessToken:X}=v;if(!D&&!X)return null;try{return A.credential(D,X)}catch{return null}}}return A.GOOGLE_SIGN_IN_METHOD="google.com",A.PROVIDER_ID="google.com",A})(),_l=(()=>{class A extends yo{constructor(){super("github.com")}static credential(v){return jn._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return A.credentialFromTaggedObject(v)}static credentialFromError(v){return A.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return A.credential(v.oauthAccessToken)}catch{return null}}}return A.GITHUB_SIGN_IN_METHOD="github.com",A.PROVIDER_ID="github.com",A})();class Vi extends li{constructor(p,v){super(p,p),this.pendingToken=v}_getIdTokenResponse(p){return tn(p,this.buildRequest())}_linkToIdToken(p,v){const D=this.buildRequest();return D.idToken=v,tn(p,D)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,tn(p,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:D,signInMethod:X,pendingToken:ve}=v;return D&&X&&ve&&D===X?new Vi(D,ve):null}static _create(p,v){return new Vi(p,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mi extends qo{constructor(p){Ie(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Mi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Mi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const v=Vi.fromJSON(p);return Ie(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:v,providerId:D}=p;if(!v||!D)return null;try{return Vi._create(D,v)}catch{return null}}}let ls=(()=>{class A extends yo{constructor(){super("twitter.com")}static credential(v,D){return jn._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:D})}static credentialFromResult(v){return A.credentialFromTaggedObject(v)}static credentialFromError(v){return A.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:D,oauthTokenSecret:X}=v;if(!D||!X)return null;try{return A.credential(D,X)}catch{return null}}}return A.TWITTER_SIGN_IN_METHOD="twitter.com",A.PROVIDER_ID="twitter.com",A})();function fo(A,p){return po.apply(this,arguments)}function po(){return(po=(0,c.A)(function*(A,p){return dt(A,"POST","/v1/accounts:signUp",le(A,p))})).apply(this,arguments)}class Ni{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,v,D,X=!1){return(0,c.A)(function*(){const ve=yield ce._fromIdTokenResponse(p,D,X),gt=Oi(D);return new Ni({user:ve,providerId:gt,_tokenResponse:D,operationType:v})})()}static _forOperation(p,v,D){return(0,c.A)(function*(){yield p._updateTokensIfNecessary(D,!0);const X=Oi(D);return new Ni({user:p,providerId:X,_tokenResponse:D,operationType:v})})()}}function Oi(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}function To(A){return yl.apply(this,arguments)}function yl(){return(yl=(0,c.A)(function*(A){var p;if((0,h._isFirebaseServerApp)(A.app))return Promise.reject(nt(A));const v=wn(A);if(yield v._initializationPromise,null!==(p=v.currentUser)&&void 0!==p&&p.isAnonymous)return new Ni({user:v.currentUser,providerId:null,operationType:"signIn"});const D=yield fo(v,{returnSecureToken:!0}),X=yield Ni._fromIdTokenResponse(v,"signIn",D,!0);return yield v._updateCurrentUser(X.user),X})).apply(this,arguments)}class Xo extends F.g{constructor(p,v,D,X){var ve;super(v.code,v.message),this.operationType=D,this.user=X,Object.setPrototypeOf(this,Xo.prototype),this.customData={appName:p.name,tenantId:null!==(ve=p.tenantId)&&void 0!==ve?ve:void 0,_serverResponse:v.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(p,v,D,X){return new Xo(p,v,D,X)}}function wa(A,p,v,D){return("reauthenticate"===p?v._getReauthenticationResolver(A):v._getIdTokenResponse(A)).catch(ve=>{throw"auth/multi-factor-auth-required"===ve.code?Xo._fromErrorAndOperation(A,ve,p,D):ve})}function Vs(A){return new Set(A.map(({providerId:p})=>p).filter(p=>!!p))}function Qo(A,p){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,c.A)(function*(A,p){const v=(0,F.Ku)(A);yield Yo(!0,v,p);const{providerUserInfo:D}=yield function Zn(A,p){return Cn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[p]}),X=Vs(D||[]);return v.providerData=v.providerData.filter(ve=>X.has(ve.providerId)),X.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),Qs.apply(this,arguments)}function As(A,p){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,c.A)(function*(A,p,v=!1){const D=yield mn(A,p._linkToIdToken(A.auth,yield A.getIdToken()),v);return Ni._forOperation(A,"link",D)})).apply(this,arguments)}function Yo(A,p,v){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,c.A)(function*(A,p,v){yield yt(p);const X=!1===A?"provider-already-linked":"no-such-provider";Ie(Vs(p.providerData).has(v)===A,p.auth,X)})).apply(this,arguments)}function Ja(A,p){return go.apply(this,arguments)}function go(){return(go=(0,c.A)(function*(A,p,v=!1){const{auth:D}=A;if((0,h._isFirebaseServerApp)(D.app))return Promise.reject(nt(D));const X="reauthenticate";try{const ve=yield mn(A,wa(D,X,p,A),v);Ie(ve.idToken,D,"internal-error");const gt=sr(ve.idToken);Ie(gt,D,"internal-error");const{sub:$t}=gt;return Ie(A.uid===$t,D,"user-mismatch"),Ni._forOperation(A,X,ve)}catch(ve){throw"auth/user-not-found"===(null==ve?void 0:ve.code)&&lt(D,"user-mismatch"),ve}})).apply(this,arguments)}function Il(A,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,c.A)(function*(A,p,v=!1){if((0,h._isFirebaseServerApp)(A.app))return Promise.reject(nt(A));const D="signIn",X=yield wa(A,D,p),ve=yield Ni._fromIdTokenResponse(A,D,X);return v||(yield A._updateCurrentUser(ve.user)),ve})).apply(this,arguments)}function q(A,p){return x.apply(this,arguments)}function x(){return(x=(0,c.A)(function*(A,p){return Il(wn(A),p)})).apply(this,arguments)}function ie(A,p){return G.apply(this,arguments)}function G(){return(G=(0,c.A)(function*(A,p){const v=(0,F.Ku)(A);return yield Yo(!1,v,p.providerId),As(v,p)})).apply(this,arguments)}function _e(A,p){return ln.apply(this,arguments)}function ln(){return(ln=(0,c.A)(function*(A,p){return Ja((0,F.Ku)(A),p)})).apply(this,arguments)}function Wr(){return(Wr=(0,c.A)(function*(A,p){return dt(A,"POST","/v1/accounts:signInWithCustomToken",le(A,p))})).apply(this,arguments)}function Ui(A,p){return $i.apply(this,arguments)}function $i(){return $i=(0,c.A)(function*(A,p){if((0,h._isFirebaseServerApp)(A.app))return Promise.reject(nt(A));const v=wn(A),D=yield function Ln(A,p){return Wr.apply(this,arguments)}(v,{token:p,returnSecureToken:!0}),X=yield Ni._fromIdTokenResponse(v,"signIn",D);return yield v._updateCurrentUser(X.user),X}),$i.apply(this,arguments)}class Io{constructor(p,v){this.factorId=p,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(p,v){return"phoneInfo"in v?Ys._fromServerResponse(p,v):"totpInfo"in v?Zs._fromServerResponse(p,v):lt(p,"internal-error")}}class Ys extends Io{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,v){return new Ys(v)}}class Zs extends Io{constructor(p){super("totp",p)}static _fromServerResponse(p,v){return new Zs(v)}}function Or(A,p,v){var D;Ie((null===(D=v.url)||void 0===D?void 0:D.length)>0,A,"invalid-continue-uri"),Ie(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),p.continueUrl=v.url,p.dynamicLinkDomain=v.dynamicLinkDomain,p.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ie(v.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),p.iOSBundleId=v.iOS.bundleId),v.android&&(Ie(v.android.packageName.length>0,A,"missing-android-pkg-name"),p.androidInstallApp=v.android.installApp,p.androidMinimumVersionCode=v.android.minimumVersion,p.androidPackageName=v.android.packageName)}function Zr(A){return br.apply(this,arguments)}function br(){return(br=(0,c.A)(function*(A){const p=wn(A);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function Bi(A,p,v){return xi.apply(this,arguments)}function xi(){return(xi=(0,c.A)(function*(A,p,v){const D=wn(A),X={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};v&&Or(D,X,v),yield pi(D,X,"getOobCode",me)})).apply(this,arguments)}function us(A,p,v){return ji.apply(this,arguments)}function ji(){return ji=(0,c.A)(function*(A,p,v){yield Xs((0,F.Ku)(A),{oobCode:p,newPassword:v}).catch(function(){var D=(0,c.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&Zr(A),X});return function(X){return D.apply(this,arguments)}}())}),ji.apply(this,arguments)}function ql(A,p){return Pa.apply(this,arguments)}function Pa(){return Pa=(0,c.A)(function*(A,p){yield function Li(A,p){return Ko.apply(this,arguments)}((0,F.Ku)(A),{oobCode:p})}),Pa.apply(this,arguments)}function cs(A,p){return el.apply(this,arguments)}function el(){return(el=(0,c.A)(function*(A,p){const v=(0,F.Ku)(A),D=yield Xs(v,{oobCode:p}),X=D.requestType;switch(Ie(X,v,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(D.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(D.mfaInfo,v,"internal-error");default:Ie(D.email,v,"internal-error")}let ve=null;return D.mfaInfo&&(ve=Io._fromServerResponse(wn(v),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:ve},operation:X}})).apply(this,arguments)}function od(A,p){return tl.apply(this,arguments)}function tl(){return(tl=(0,c.A)(function*(A,p){const{data:v}=yield cs((0,F.Ku)(A),p);return v.email})).apply(this,arguments)}function lc(A,p,v){return El.apply(this,arguments)}function El(){return(El=(0,c.A)(function*(A,p,v){if((0,h._isFirebaseServerApp)(A.app))return Promise.reject(nt(A));const D=wn(A),gt=yield pi(D,{returnSecureToken:!0,email:p,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fo).catch(pn=>{throw"auth/password-does-not-meet-requirements"===pn.code&&Zr(A),pn}),$t=yield Ni._fromIdTokenResponse(D,"signIn",gt);return yield D._updateCurrentUser($t.user),$t})).apply(this,arguments)}function Eu(A,p,v){return(0,h._isFirebaseServerApp)(A.app)?Promise.reject(nt(A)):q((0,F.Ku)(A),qr.credential(p,v)).catch(function(){var D=(0,c.A)(function*(X){throw"auth/password-does-not-meet-requirements"===X.code&&Zr(A),X});return function(X){return D.apply(this,arguments)}}())}function Xl(A,p,v){return uc.apply(this,arguments)}function uc(){return(uc=(0,c.A)(function*(A,p,v){const D=wn(A),X={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function ve(gt,$t){Ie($t.handleCodeInApp,D,"argument-error"),$t&&Or(D,gt,$t)})(X,v),yield pi(D,X,"getOobCode",C)})).apply(this,arguments)}function Al(A,p){const v=ko.parseLink(p);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function Au(A,p,v){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,c.A)(function*(A,p,v){if((0,h._isFirebaseServerApp)(A.app))return Promise.reject(nt(A));const D=(0,F.Ku)(A),X=qr.credentialWithLink(p,v||Qt());return Ie(X._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),q(D,X)})).apply(this,arguments)}function da(){return(da=(0,c.A)(function*(A,p){return be(A,"POST","/v1/accounts:createAuthUri",le(A,p))})).apply(this,arguments)}function Us(A,p){return nl.apply(this,arguments)}function nl(){return nl=(0,c.A)(function*(A,p){const D={identifier:p,continueUri:yn()?Qt():"http://localhost"},{signinMethods:X}=yield function Ma(A,p){return da.apply(this,arguments)}((0,F.Ku)(A),D);return X||[]}),nl.apply(this,arguments)}function Cl(A,p){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,c.A)(function*(A,p){const v=(0,F.Ku)(A),X={requestType:"VERIFY_EMAIL",idToken:yield A.getIdToken()};p&&Or(v.auth,X,p);const{email:ve}=yield function M(A,p){return Y.apply(this,arguments)}(v.auth,X);ve!==A.email&&(yield A.reload())}),Fo.apply(this,arguments)}function cc(A,p,v){return ds.apply(this,arguments)}function ds(){return ds=(0,c.A)(function*(A,p,v){const D=(0,F.Ku)(A),ve={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield A.getIdToken(),newEmail:p};v&&Or(D.auth,ve,v);const{email:gt}=yield function Ne(A,p){return $e.apply(this,arguments)}(D.auth,ve);gt!==A.email&&(yield A.reload())}),ds.apply(this,arguments)}function bo(){return(bo=(0,c.A)(function*(A,p){return be(A,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Do(A,p){return Qi.apply(this,arguments)}function Qi(){return Qi=(0,c.A)(function*(A,{displayName:p,photoURL:v}){if(void 0===p&&void 0===v)return;const D=(0,F.Ku)(A),ve={idToken:yield D.getIdToken(),displayName:p,photoUrl:v,returnSecureToken:!0},gt=yield mn(D,function rl(A,p){return bo.apply(this,arguments)}(D.auth,ve));D.displayName=gt.displayName||null,D.photoURL=gt.photoUrl||null;const $t=D.providerData.find(({providerId:pn})=>"password"===pn);$t&&($t.displayName=D.displayName,$t.photoURL=D.photoURL),yield D._updateTokensIfNecessary(gt)}),Qi.apply(this,arguments)}function Ql(A,p){const v=(0,F.Ku)(A);return(0,h._isFirebaseServerApp)(v.auth.app)?Promise.reject(nt(v.auth)):Na(v,p,null)}function xa(A,p){return Na((0,F.Ku)(A),null,p)}function Na(A,p,v){return Cs.apply(this,arguments)}function Cs(){return Cs=(0,c.A)(function*(A,p,v){const{auth:D}=A,ve={idToken:yield A.getIdToken(),returnSecureToken:!0};p&&(ve.email=p),v&&(ve.password=v);const gt=yield mn(A,function co(A,p){return Rr.apply(this,arguments)}(D,ve));yield A._updateTokensIfNecessary(gt,!0)}),Cs.apply(this,arguments)}class fa{constructor(p,v,D={}){this.isNewUser=p,this.providerId=v,this.profile=D}}class Ts extends fa{constructor(p,v,D,X){super(p,v,D),this.username=X}}class bs extends fa{constructor(p,v){super(p,"facebook.com",v)}}class Cu extends Ts{constructor(p,v){super(p,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class Yl extends fa{constructor(p,v){super(p,"google.com",v)}}class b extends Ts{constructor(p,v,D){super(p,"twitter.com",v,D)}}function z(A){const{user:p,_tokenResponse:v}=A;return p.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function ha(A){var p,v;if(!A)return null;const{providerId:D}=A,X=A.rawUserInfo?JSON.parse(A.rawUserInfo):{},ve=A.isNewUser||"identitytoolkit#SignupNewUserResponse"===A.kind;if(!D&&null!=A&&A.idToken){const gt=null===(v=null===(p=sr(A.idToken))||void 0===p?void 0:p.firebase)||void 0===v?void 0:v.sign_in_provider;if(gt)return new fa(ve,"anonymous"!==gt&&"custom"!==gt?gt:null)}if(!D)return null;switch(D){case"facebook.com":return new bs(ve,X);case"github.com":return new Cu(ve,X);case"google.com":return new Yl(ve,X);case"twitter.com":return new b(ve,X,A.screenName||null);case"custom":case"anonymous":return new fa(ve,null);default:return new fa(ve,D,X)}}(v)}class ci{constructor(p,v,D){this.type=p,this.credential=v,this.user=D}static _fromIdtoken(p,v){return new ci("enroll",p,v)}static _fromMfaPendingCredential(p){return new ci("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var v,D;if(null!=p&&p.multiFactorSession){if(null!==(v=p.multiFactorSession)&&void 0!==v&&v.pendingCredential)return ci._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(D=p.multiFactorSession)&&void 0!==D&&D.idToken)return ci._fromIdtoken(p.multiFactorSession.idToken)}return null}}class zr{constructor(p,v,D){this.session=p,this.hints=v,this.signInResolver=D}static _fromError(p,v){const D=wn(p),X=v.customData._serverResponse,ve=(X.mfaInfo||[]).map($t=>Io._fromServerResponse(D,$t));Ie(X.mfaPendingCredential,D,"internal-error");const gt=ci._fromMfaPendingCredential(X.mfaPendingCredential);return new zr(gt,ve,function(){var $t=(0,c.A)(function*(pn){const qn=yield pn._process(D,gt);delete X.mfaInfo,delete X.mfaPendingCredential;const dr=Object.assign(Object.assign({},X),{idToken:qn.idToken,refreshToken:qn.refreshToken});switch(v.operationType){case"signIn":const $r=yield Ni._fromIdTokenResponse(D,v.operationType,dr);return yield D._updateCurrentUser($r.user),$r;case"reauthenticate":return Ie(v.user,D,"internal-error"),Ni._forOperation(v.user,v.operationType,dr);default:lt(D,"internal-error")}});return function(pn){return $t.apply(this,arguments)}}())}resolveSignIn(p){var v=this;return(0,c.A)(function*(){return v.signInResolver(p)})()}}function _n(A,p){var v;const D=(0,F.Ku)(A),X=p;return Ie(p.customData.operationType,D,"argument-error"),Ie(null===(v=X.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,D,"argument-error"),zr._fromError(D,X)}class Eo{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(D=>Io._fromServerResponse(p.auth,D)))})}static _fromUser(p){return new Eo(p)}getSession(){var p=this;return(0,c.A)(function*(){return ci._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,v){var D=this;return(0,c.A)(function*(){const X=p,ve=yield D.getSession(),gt=yield mn(D.user,X._process(D.user.auth,ve,v));return yield D.user._updateTokensIfNecessary(gt),D.user.reload()})()}unenroll(p){var v=this;return(0,c.A)(function*(){const D="string"==typeof p?p:p.uid,X=yield v.user.getIdToken();try{const ve=yield mn(v.user,function ki(A,p){return be(A,"POST","/v2/accounts/mfaEnrollment:withdraw",le(A,p))}(v.user.auth,{idToken:X,mfaEnrollmentId:D}));v.enrolledFactors=v.enrolledFactors.filter(({uid:gt})=>gt!==D),yield v.user._updateTokensIfNecessary(ve),yield v.user.reload()}catch(ve){throw ve}})()}}const gi=new WeakMap;function vi(A){const p=(0,F.Ku)(A);return gi.has(p)||gi.set(p,Eo._fromUser(p)),gi.get(p)}const Lo="__sak";class vr{constructor(p,v){this.storageRetriever=p,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Lo,"1"),this.storage.removeItem(Lo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,v){return this.storage.setItem(p,JSON.stringify(v)),Promise.resolve()}_get(p){const v=this.storage.getItem(p);return Promise.resolve(v?JSON.parse(v):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fi=(()=>{class A extends vr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,D)=>this.onStorageEvent(v,D),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const D of Object.keys(this.listeners)){const X=this.storage.getItem(D),ve=this.localCache[D];X!==ve&&v(D,ve,X)}}onStorageEvent(v,D=!1){if(!v.key)return void this.forAllChangedKeys(($t,pn,qn)=>{this.notifyListeners($t,qn)});const X=v.key;D?this.detachListener():this.stopPolling();const ve=()=>{const $t=this.storage.getItem(X);!D&&this.localCache[X]===$t||this.notifyListeners(X,$t)},gt=this.storage.getItem(X);!function ne(){return(0,F.lT)()&&10===document.documentMode}()||gt===v.newValue||v.newValue===v.oldValue?ve():setTimeout(ve,10)}notifyListeners(v,D){this.localCache[v]=D;const X=this.listeners[v];if(X)for(const ve of Array.from(X))ve(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,D,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:D,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(D)}_removeListener(v,D){this.listeners[v]&&(this.listeners[v].delete(D),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,D){var X=()=>super._set,ve=this;return(0,c.A)(function*(){yield X().call(ve,v,D),ve.localCache[v]=JSON.stringify(D)})()}_get(v){var D=()=>super._get,X=this;return(0,c.A)(function*(){const ve=yield D().call(X,v);return X.localCache[v]=JSON.stringify(ve),ve})()}_remove(v){var D=()=>super._remove,X=this;return(0,c.A)(function*(){yield D().call(X,v),delete X.localCache[v]})()}}return A.type="LOCAL",A})(),fi=(()=>{class A extends vr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,D){}_removeListener(v,D){}}return A.type="SESSION",A})();let Js=(()=>{class A{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const D=this.receivers.find(ve=>ve.isListeningto(v));if(D)return D;const X=new A(v);return this.receivers.push(X),X}isListeningto(v){return this.eventTarget===v}handleEvent(v){var D=this;return(0,c.A)(function*(){const X=v,{eventId:ve,eventType:gt,data:$t}=X.data,pn=D.handlersMap[gt];if(null==pn||!pn.size)return;X.ports[0].postMessage({status:"ack",eventId:ve,eventType:gt});const qn=Array.from(pn).map(function(){var $r=(0,c.A)(function*(ns){return ns(X.origin,$t)});return function(ns){return $r.apply(this,arguments)}}()),dr=yield function Jo(A){return Promise.all(A.map(function(){var p=(0,c.A)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(D){return{fulfilled:!1,reason:D}}});return function(v){return p.apply(this,arguments)}}()))}(qn);X.ports[0].postMessage({status:"done",eventId:ve,eventType:gt,response:dr})})()}_subscribe(v,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(D)}_unsubscribe(v,D){this.handlersMap[v]&&D&&this.handlersMap[v].delete(D),(!D||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function ga(A="",p=10){let v="";for(let D=0;D<p;D++)v+=Math.floor(10*Math.random());return A+v}class Oa{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,v,D=50){var X=this;return(0,c.A)(function*(){const ve=typeof MessageChannel<"u"?new MessageChannel:null;if(!ve)throw new Error("connection_unavailable");let gt,$t;return new Promise((pn,qn)=>{const dr=ga("",20);ve.port1.start();const $r=setTimeout(()=>{qn(new Error("unsupported_event"))},D);$t={messageChannel:ve,onMessage(ns){const dl=ns;if(dl.data.eventId===dr)switch(dl.data.status){case"ack":clearTimeout($r),gt=setTimeout(()=>{qn(new Error("timeout"))},3e3);break;case"done":clearTimeout(gt),pn(dl.data.response);break;default:clearTimeout($r),clearTimeout(gt),qn(new Error("invalid_response"))}}},X.handlers.add($t),ve.port1.addEventListener("message",$t.onMessage),X.target.postMessage({eventType:p,eventId:dr,data:v},[ve.port2])}).finally(()=>{$t&&X.removeMessageHandler($t)})})()}}function _i(){return window}function tr(){return typeof _i().WorkerGlobalScope<"u"&&"function"==typeof _i().importScripts}function es(){return(es=(0,c.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Fa="firebaseLocalStorageDb",La="firebaseLocalStorage",Hi="fbase_key";class Yi{constructor(p){this.request=p}toPromise(){return new Promise((p,v)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Va(A,p){return A.transaction([La],p?"readwrite":"readonly").objectStore(La)}function Tl(){const A=indexedDB.open(Fa,1);return new Promise((p,v)=>{A.addEventListener("error",()=>{v(A.error)}),A.addEventListener("upgradeneeded",()=>{const D=A.result;try{D.createObjectStore(La,{keyPath:Hi})}catch(X){v(X)}}),A.addEventListener("success",(0,c.A)(function*(){const D=A.result;D.objectStoreNames.contains(La)?p(D):(D.close(),yield function Ua(){const A=indexedDB.deleteDatabase(Fa);return new Yi(A).toPromise()}(),p(yield Tl()))}))})}function di(A,p,v){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,c.A)(function*(A,p,v){const D=Va(A,!0).put({[Hi]:p,value:v});return new Yi(D).toPromise()})).apply(this,arguments)}function Jl(){return(Jl=(0,c.A)(function*(A,p){const v=Va(A,!1).get(p),D=yield new Yi(v).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function ol(A,p){const v=Va(A,!0).delete(p);return new Yi(v).toPromise()}const yh=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,c.A)(function*(){return v.db||(v.db=yield Tl()),v.db})()}_withRetries(v){var D=this;return(0,c.A)(function*(){let X=0;for(;;)try{const ve=yield D._openDb();return yield v(ve)}catch(ve){if(X++>3)throw ve;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,c.A)(function*(){return tr()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,c.A)(function*(){v.receiver=Js._getInstance(function Tu(){return tr()?self:null}()),v.receiver._subscribe("keyChanged",function(){var D=(0,c.A)(function*(X,ve){return{keyProcessed:(yield v._poll()).includes(ve.key)}});return function(X,ve){return D.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var D=(0,c.A)(function*(X,ve){return["keyChanged"]});return function(X,ve){return D.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,c.A)(function*(){var D,X;if(v.activeServiceWorker=yield function ka(){return es.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Oa(v.activeServiceWorker);const ve=yield v.sender._send("ping",{},800);ve&&null!==(D=ve[0])&&void 0!==D&&D.fulfilled&&null!==(X=ve[0])&&void 0!==X&&X.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var D=this;return(0,c.A)(function*(){if(D.sender&&D.activeServiceWorker&&function ea(){var A;return(null===(A=null==navigator?void 0:navigator.serviceWorker)||void 0===A?void 0:A.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:v},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.A)(function*(){try{if(!indexedDB)return!1;const v=yield Tl();return yield di(v,Lo,"1"),yield ol(v,Lo),!0}catch{}return!1})()}_withPendingWrite(v){var D=this;return(0,c.A)(function*(){D.pendingWrites++;try{yield v()}finally{D.pendingWrites--}})()}_set(v,D){var X=this;return(0,c.A)(function*(){return X._withPendingWrite((0,c.A)(function*(){return yield X._withRetries(ve=>di(ve,v,D)),X.localCache[v]=D,X.notifyServiceWorker(v)}))})()}_get(v){var D=this;return(0,c.A)(function*(){const X=yield D._withRetries(ve=>function dc(A,p){return Jl.apply(this,arguments)}(ve,v));return D.localCache[v]=X,X})()}_remove(v){var D=this;return(0,c.A)(function*(){return D._withPendingWrite((0,c.A)(function*(){return yield D._withRetries(X=>ol(X,v)),delete D.localCache[v],D.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,c.A)(function*(){const D=yield v._withRetries(gt=>{const $t=Va(gt,!1).getAll();return new Yi($t).toPromise()});if(!D)return[];if(0!==v.pendingWrites)return[];const X=[],ve=new Set;if(0!==D.length)for(const{fbase_key:gt,value:$t}of D)ve.add(gt),JSON.stringify(v.localCache[gt])!==JSON.stringify($t)&&(v.notifyListeners(gt,$t),X.push(gt));for(const gt of Object.keys(v.localCache))v.localCache[gt]&&!ve.has(gt)&&(v.notifyListeners(gt,null),X.push(gt));return X})()}notifyListeners(v,D){this.localCache[v]=D;const X=this.listeners[v];if(X)for(const ve of Array.from(X))ve(D)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,c.A)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(D)}_removeListener(v,D){this.listeners[v]&&(this.listeners[v].delete(D),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})(),S=1e12;class V{constructor(p){this.auth=p,this.counter=S,this._widgets=new Map}render(p,v){const D=this.counter;return this._widgets.set(D,new de(p,this.auth.name,v||{})),this.counter++,D}reset(p){var v;const D=p||S;null===(v=this._widgets.get(D))||void 0===v||v.delete(),this._widgets.delete(D)}getResponse(p){var v;return(null===(v=this._widgets.get(p||S))||void 0===v?void 0:v.getResponse())||""}execute(p){var v=this;return(0,c.A)(function*(){var D;return null===(D=v._widgets.get(p||S))||void 0===D||D.execute(),""})()}}class de{constructor(p,v,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof p?document.getElementById(p):p;Ie(X,"argument-error",{appName:v}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ye(A){const p=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<A;D++)p.push(v.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":v}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Dt=It("rcb"),nn=new we(3e4,6e4);class Pt{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=_i().grecaptcha)||void 0===p||!p.render)}load(p,v=""){return Ie(function On(A){return A.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(A)}(v),p,"argument-error"),this.shouldResolveImmediately(v)&&zn(_i().grecaptcha)?Promise.resolve(_i().grecaptcha):new Promise((D,X)=>{const ve=_i().setTimeout(()=>{X(De(p,"network-request-failed"))},nn.get());_i()[Dt]=()=>{_i().clearTimeout(ve),delete _i()[Dt];const $t=_i().grecaptcha;if(!$t||!zn($t))return void X(De(p,"internal-error"));const pn=$t.render;$t.render=(qn,dr)=>{const $r=pn(qn,dr);return this.counter++,$r},this.hostLanguage=v,D($t)},ir(`${function ai(){return Nn.recaptchaV2Script}()}?${(0,F.Am)({onload:Dt,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(ve),X(De(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var v;return!(null===(v=_i().grecaptcha)||void 0===v||!v.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Cr{load(p){return(0,c.A)(function*(){return new V(p)})()}clearedOneInstance(){}}const ti="recaptcha",Dr={theme:"light",type:"image"};class Si{constructor(p,v,D=Object.assign({},Dr)){this.parameters=D,this.type=ti,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wn(p),this.isInvisible="invisible"===this.parameters.size,Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof v?document.getElementById(v):v;Ie(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cr:new Pt,this.validateStartingState()}verify(){var p=this;return(0,c.A)(function*(){p.assertNotDestroyed();const v=yield p.render(),D=p.getAssertedRecaptcha();return D.getResponse(v)||new Promise(ve=>{const gt=$t=>{$t&&(p.tokenChangeListeners.delete(gt),ve($t))};p.tokenChangeListeners.add(gt),p.isInvisible&&D.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return v=>{if(this.tokenChangeListeners.forEach(D=>D(v)),"function"==typeof p)p(v);else if("string"==typeof p){const D=_i()[p];"function"==typeof D&&D(v)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.A)(function*(){if(yield p.init(),!p.widgetId){let v=p.container;if(!p.isInvisible){const D=document.createElement("div");v.appendChild(D),v=D}p.widgetId=p.getAssertedRecaptcha().render(v,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.A)(function*(){Ie(yn()&&!tr(),p.auth,"internal-error"),yield function Vo(){let A=null;return new Promise(p=>{"complete"!==document.readyState?(A=()=>p(),window.addEventListener("load",A)):p()}).catch(p=>{throw A&&window.removeEventListener("load",A),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const v=yield function Wt(A){return kt.apply(this,arguments)}(p.auth);Ie(v,p.auth,"internal-error"),p.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xo{constructor(p,v){this.verificationId=p,this.onConfirmation=v}confirm(p){const v=io._fromVerification(this.verificationId,p);return this.onConfirmation(v)}}function Ii(A,p,v){return wo.apply(this,arguments)}function wo(){return(wo=(0,c.A)(function*(A,p,v){if((0,h._isFirebaseServerApp)(A.app))return Promise.reject(nt(A));const D=wn(A),X=yield Ba(D,p,(0,F.Ku)(v));return new xo(X,ve=>q(D,ve))})).apply(this,arguments)}function bl(A,p,v){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,c.A)(function*(A,p,v){const D=(0,F.Ku)(A);yield Yo(!1,D,"phone");const X=yield Ba(D.auth,p,(0,F.Ku)(v));return new xo(X,ve=>ie(D,ve))})).apply(this,arguments)}function $a(A,p,v){return hs.apply(this,arguments)}function hs(){return(hs=(0,c.A)(function*(A,p,v){const D=(0,F.Ku)(A);if((0,h._isFirebaseServerApp)(D.auth.app))return Promise.reject(nt(D.auth));const X=yield Ba(D.auth,p,(0,F.Ku)(v));return new xo(X,ve=>_e(D,ve))})).apply(this,arguments)}function Ba(A,p,v){return bu.apply(this,arguments)}function bu(){return bu=(0,c.A)(function*(A,p,v){var D;const X=yield v.verify();try{let ve;if(Ie("string"==typeof X,A,"argument-error"),Ie(v.type===ti,A,"argument-error"),ve="string"==typeof p?{phoneNumber:p}:p,"session"in ve){const gt=ve.session;if("phoneNumber"in ve)return Ie("enroll"===gt.type,A,"internal-error"),(yield function Yn(A,p){return be(A,"POST","/v2/accounts/mfaEnrollment:start",le(A,p))}(A,{idToken:gt.credential,phoneEnrollmentInfo:{phoneNumber:ve.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{Ie("signin"===gt.type,A,"internal-error");const $t=(null===(D=ve.multiFactorHint)||void 0===D?void 0:D.uid)||ve.multiFactorUid;return Ie($t,A,"missing-multi-factor-info"),(yield function Ih(A,p){return be(A,"POST","/v2/accounts/mfaSignIn:start",le(A,p))}(A,{mfaPendingCredential:gt.credential,mfaEnrollmentId:$t,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:gt}=yield function Un(A,p){return kr.apply(this,arguments)}(A,{phoneNumber:ve.phoneNumber,recaptchaToken:X});return gt}}finally{v._reset()}}),bu.apply(this,arguments)}function Eh(A,p){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,c.A)(function*(A,p){const v=(0,F.Ku)(A);if((0,h._isFirebaseServerApp)(v.auth.app))return Promise.reject(nt(v.auth));yield As(v,p)})).apply(this,arguments)}let Ah=(()=>{class A{constructor(v){this.providerId=A.PROVIDER_ID,this.auth=wn(v)}verifyPhoneNumber(v,D){return Ba(this.auth,v,(0,F.Ku)(D))}static credential(v,D){return io._fromVerification(v,D)}static credentialFromResult(v){return A.credentialFromTaggedObject(v)}static credentialFromError(v){return A.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:D,temporaryProof:X}=v;return D&&X?io._fromTokenResponse(D,X):null}}return A.PROVIDER_ID="phone",A.PHONE_SIGN_IN_METHOD="phone",A})();function sl(A,p){return p?Ye(p):(Ie(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}class ni extends li{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return tn(p,this._buildIdpRequest())}_linkToIdToken(p,v){return tn(p,this._buildIdpRequest(v))}_getReauthenticationResolver(p){return tn(p,this._buildIdpRequest())}_buildIdpRequest(p){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(v.idToken=p),v}}function Ch(A){return Il(A.auth,new ni(A),A.bypassAuthState)}function al(A){const{auth:p,user:v}=A;return Ie(v,p,"internal-error"),Ja(v,new ni(A),A.bypassAuthState)}function Uo(A){return Th.apply(this,arguments)}function Th(){return(Th=(0,c.A)(function*(A){const{auth:p,user:v}=A;return Ie(v,p,"internal-error"),As(v,new ni(A),A.bypassAuthState)})).apply(this,arguments)}class eu{constructor(p,v,D,X,ve=!1){this.auth=p,this.resolver=D,this.user=X,this.bypassAuthState=ve,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var p=this;return new Promise(function(){var v=(0,c.A)(function*(D,X){p.pendingPromise={resolve:D,reject:X};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(ve){p.reject(ve)}});return function(D,X){return v.apply(this,arguments)}}())}onAuthEvent(p){var v=this;return(0,c.A)(function*(){const{urlResponse:D,sessionId:X,postBody:ve,tenantId:gt,error:$t,type:pn}=p;if($t)return void v.reject($t);const qn={auth:v.auth,requestUri:D,sessionId:X,tenantId:gt||void 0,postBody:ve||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(pn)(qn))}catch(dr){v.reject(dr)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ch;case"linkViaPopup":case"linkViaRedirect":return Uo;case"reauthViaPopup":case"reauthViaRedirect":return al;default:lt(this.auth,"internal-error")}}resolve(p){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ja=new we(2e3,1e4);function ws(A,p,v){return ld.apply(this,arguments)}function ld(){return(ld=(0,c.A)(function*(A,p,v){if((0,h._isFirebaseServerApp)(A.app))return Promise.reject(De(A,"operation-not-supported-in-this-environment"));const D=wn(A);_t(A,p,qo);const X=sl(D,v);return new dd(D,"signInViaPopup",p,X).executeNotNull()})).apply(this,arguments)}function bh(A,p,v){return ud.apply(this,arguments)}function ud(){return(ud=(0,c.A)(function*(A,p,v){const D=(0,F.Ku)(A);if((0,h._isFirebaseServerApp)(D.auth.app))return Promise.reject(De(D.auth,"operation-not-supported-in-this-environment"));_t(D.auth,p,qo);const X=sl(D.auth,v);return new dd(D.auth,"reauthViaPopup",p,X,D).executeNotNull()})).apply(this,arguments)}function ta(A,p,v){return cd.apply(this,arguments)}function cd(){return(cd=(0,c.A)(function*(A,p,v){const D=(0,F.Ku)(A);_t(D.auth,p,qo);const X=sl(D.auth,v);return new dd(D.auth,"linkViaPopup",p,X,D).executeNotNull()})).apply(this,arguments)}let dd=(()=>{class A extends eu{constructor(v,D,X,ve,gt){super(v,D,ve,gt),this.provider=X,this.authWindow=null,this.pollId=null,A.currentPopupAction&&A.currentPopupAction.cancel(),A.currentPopupAction=this}executeNotNull(){var v=this;return(0,c.A)(function*(){const D=yield v.execute();return Ie(D,v.auth,"internal-error"),D})()}onExecution(){var v=this;return(0,c.A)(function*(){Vt(1===v.filter.length,"Popup operations only handle one event");const D=ga();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],D),v.authWindow.associatedEvent=D,v.resolver._originValidation(v.auth).catch(X=>{v.reject(X)}),v.resolver._isIframeWebStorageSupported(v.auth,X=>{X||v.reject(De(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,A.currentPopupAction=null}pollUserCancellation(){const v=()=>{var D,X;this.pollId=null!==(X=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,ja.get())};v()}}return A.currentPopupAction=null,A})();const ll="pendingRedirect",js=new Map;class hd extends eu{constructor(p,v,D=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,D),this.eventId=null}execute(){var p=()=>super.execute,v=this;return(0,c.A)(function*(){let D=js.get(v.auth._key());if(!D){try{const ve=(yield function fd(A,p){return tu.apply(this,arguments)}(v.resolver,v.auth))?yield p().call(v):null;D=()=>Promise.resolve(ve)}catch(X){D=()=>Promise.reject(X)}js.set(v.auth._key(),D)}return v.bypassAuthState||js.set(v.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(p){var v=()=>super.onAuthEvent,D=this;return(0,c.A)(function*(){if("signInViaRedirect"===p.type)return v().call(D,p);if("unknown"!==p.type){if(p.eventId){const X=yield D.auth._redirectUserForId(p.eventId);if(X)return D.user=X,v().call(D,p);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,c.A)(function*(){})()}cleanUp(){}}function tu(){return(tu=(0,c.A)(function*(A,p){const v=ul(p),D=nu(A);if(!(yield D._isAvailable()))return!1;const X="true"===(yield D._get(v));return yield D._remove(v),X})).apply(this,arguments)}function Hs(A,p){return na.apply(this,arguments)}function na(){return(na=(0,c.A)(function*(A,p){return nu(A)._set(ul(p),"true")})).apply(this,arguments)}function wr(){js.clear()}function Du(A,p){js.set(A._key(),p)}function nu(A){return Ye(A._redirectPersistence)}function ul(A){return hn(ll,A.config.apiKey,A.name)}function wu(A,p,v){return function ru(A,p,v){return iu.apply(this,arguments)}(A,p,v)}function iu(){return(iu=(0,c.A)(function*(A,p,v){if((0,h._isFirebaseServerApp)(A.app))return Promise.reject(nt(A));const D=wn(A);_t(A,p,qo),yield D._initializationPromise;const X=sl(D,v);return yield Hs(X,D),X._openRedirect(D,p,"signInViaRedirect")})).apply(this,arguments)}function op(A,p,v){return function pd(A,p,v){return ma.apply(this,arguments)}(A,p,v)}function ma(){return(ma=(0,c.A)(function*(A,p,v){const D=(0,F.Ku)(A);if(_t(D.auth,p,qo),(0,h._isFirebaseServerApp)(D.auth.app))return Promise.reject(nt(D.auth));yield D.auth._initializationPromise;const X=sl(D.auth,v);yield Hs(X,D.auth);const ve=yield wh(D);return X._openRedirect(D.auth,p,"reauthViaRedirect",ve)})).apply(this,arguments)}function sp(A,p,v){return function ap(A,p,v){return Dh.apply(this,arguments)}(A,p,v)}function Dh(){return(Dh=(0,c.A)(function*(A,p,v){const D=(0,F.Ku)(A);_t(D.auth,p,qo),yield D.auth._initializationPromise;const X=sl(D.auth,v);yield Yo(!1,D,p.providerId),yield Hs(X,D.auth);const ve=yield wh(D);return X._openRedirect(D.auth,p,"linkViaRedirect",ve)})).apply(this,arguments)}function lp(A,p){return gd.apply(this,arguments)}function gd(){return(gd=(0,c.A)(function*(A,p){return yield wn(A)._initializationPromise,Zt(A,p,!1)})).apply(this,arguments)}function Zt(A,p){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,c.A)(function*(A,p,v=!1){if((0,h._isFirebaseServerApp)(A.app))return Promise.reject(nt(A));const D=wn(A),X=sl(D,p),gt=yield new hd(D,X,v).execute();return gt&&!v&&(delete gt.user._redirectEventId,yield D._persistUserIfCurrent(gt.user),yield D._setRedirectUser(null,p)),gt})).apply(this,arguments)}function wh(A){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,c.A)(function*(A){const p=ga(`${A.uid}:::`);return A._redirectEventId=p,yield A.auth._setRedirectUser(A),yield A.auth._persistUserIfCurrent(A),p})).apply(this,arguments)}class md{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let v=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(p,D)&&(v=!0,this.sendToConsumer(p,D),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Sh(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ra(A);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=p,v=!0)),v}sendToConsumer(p,v){var D;if(p.error&&!ra(p)){const X=(null===(D=p.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";v.onError(De(this.auth,X))}else v.onAuthEvent(p)}isEventForConsumer(p,v){const D=null===v.eventId||!!p.eventId&&p.eventId===v.eventId;return v.filter.includes(p.type)&&D}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Su(p))}saveEventToCache(p){this.cachedEventUids.add(Su(p)),this.lastProcessedEventTime=Date.now()}}function Su(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(p=>p).join("-")}function ra({type:A,error:p}){return"unknown"===A&&"auth/no-auth-event"===(null==p?void 0:p.code)}function wl(A){return za.apply(this,arguments)}function za(){return(za=(0,c.A)(function*(A,p={}){return be(A,"GET","/v1/projects",p)})).apply(this,arguments)}const ou=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Im=/^https?/;function fc(){return(fc=(0,c.A)(function*(A){if(A.config.emulator)return;const{authorizedDomains:p}=yield wl(A);for(const v of p)try{if(up(v))return}catch{}lt(A,"unauthorized-domain")})).apply(this,arguments)}function up(A){const p=Qt(),{protocol:v,hostname:D}=new URL(p);if(A.startsWith("chrome-extension://")){const gt=new URL(A);return""===gt.hostname&&""===D?"chrome-extension:"===v&&A.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===v&&gt.hostname===D}if(!Im.test(v))return!1;if(ou.test(A))return D===A;const X=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(D)}const $o=new we(3e4,6e4);function ia(){const A=_i().___jsl;if(null!=A&&A.H)for(const p of Object.keys(A.H))if(A.H[p].r=A.H[p].r||[],A.H[p].L=A.H[p].L||[],A.H[p].r=[...A.H[p].L],A.CP)for(let v=0;v<A.CP.length;v++)A.CP[v]=null}let ts=null;const cp=new we(5e3,15e3),pc="__/auth/iframe",Em="emulator/auth/iframe",Mh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ru=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xh(A){const p=A.config;Ie(p.authDomain,A,"auth-domain-config-required");const v=p.emulator?xe(p,Em):`https://${A.config.authDomain}/${pc}`,D={apiKey:p.apiKey,appName:A.name,v:h.SDK_VERSION},X=Ru.get(A.config.apiHost);X&&(D.eid=X);const ve=A._getFrameworks();return ve.length&&(D.fw=ve.join(",")),`${v}?${(0,F.Am)(D).slice(1)}`}function _a(){return _a=(0,c.A)(function*(A){const p=yield function va(A){return ts=ts||function Ph(A){return new Promise((p,v)=>{var D,X,ve;function gt(){ia(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ia(),v(De(A,"network-request-failed"))},timeout:$o.get()})}if(null!==(X=null===(D=_i().gapi)||void 0===D?void 0:D.iframes)&&void 0!==X&&X.Iframe)p(gapi.iframes.getContext());else{if(null===(ve=_i().gapi)||void 0===ve||!ve.load){const $t=It("iframefcb");return _i()[$t]=()=>{gapi.load?gt():v(De(A,"network-request-failed"))},ir(`${function Wi(){return Nn.gapiScript}()}?onload=${$t}`).catch(pn=>v(pn))}gt()}}).catch(p=>{throw ts=null,p})}(A),ts}(A),v=_i().gapi;return Ie(v,A,"internal-error"),p.open({where:document.body,url:xh(A),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mh,dontclear:!0},D=>new Promise(function(){var X=(0,c.A)(function*(ve,gt){yield D.restyle({setHideOnLeave:!1});const $t=De(A,"network-request-failed"),pn=_i().setTimeout(()=>{gt($t)},cp.get());function qn(){_i().clearTimeout(pn),ve(D)}D.ping(qn).then(qn,()=>{gt($t)})});return function(ve,gt){return X.apply(this,arguments)}}()))}),_a.apply(this,arguments)}const gc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yd{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const dp="__/auth/handler",Zi="emulator/auth/handler",oa=encodeURIComponent("fac");function Ai(A,p,v,D,X,ve){return cl.apply(this,arguments)}function cl(){return(cl=(0,c.A)(function*(A,p,v,D,X,ve){Ie(A.config.authDomain,A,"auth-domain-config-required"),Ie(A.config.apiKey,A,"invalid-api-key");const gt={apiKey:A.config.apiKey,appName:A.name,authType:v,redirectUrl:D,v:h.SDK_VERSION,eventId:X};if(p instanceof qo){p.setDefaultLanguage(A.languageCode),gt.providerId=p.providerId||"",(0,F.Im)(p.getCustomParameters())||(gt.customParameters=JSON.stringify(p.getCustomParameters()));for(const[dr,$r]of Object.entries(ve||{}))gt[dr]=$r}if(p instanceof yo){const dr=p.getScopes().filter($r=>""!==$r);dr.length>0&&(gt.scopes=dr.join(","))}A.tenantId&&(gt.tid=A.tenantId);const $t=gt;for(const dr of Object.keys($t))void 0===$t[dr]&&delete $t[dr];const pn=yield A._getAppCheckToken(),qn=pn?`#${oa}=${encodeURIComponent(pn)}`:"";return`${function Am({config:A}){return A.emulator?xe(A,Zi):`https://${A.authDomain}/${dp}`}(A)}?${(0,F.Am)($t).slice(1)}${qn}`})).apply(this,arguments)}const Sl="webStorageSupport",Ga=class hp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fi,this._completeRedirectFn=Zt,this._overrideRedirectResult=Du}_openPopup(p,v,D,X){var ve=this;return(0,c.A)(function*(){var gt;Vt(null===(gt=ve.eventManagers[p._key()])||void 0===gt?void 0:gt.manager,"_initialize() not called before _openPopup()");const $t=yield Ai(p,v,D,Qt(),X);return function mc(A,p,v,D=500,X=600){const ve=Math.max((window.screen.availHeight-X)/2,0).toString(),gt=Math.max((window.screen.availWidth-D)/2,0).toString();let $t="";const pn=Object.assign(Object.assign({},gc),{width:D.toString(),height:X.toString(),top:ve,left:gt}),qn=(0,F.ZQ)().toLowerCase();v&&($t=Tn(qn)?"_blank":v),on(qn)&&(p=p||"http://localhost",pn.scrollbars="yes");const dr=Object.entries(pn).reduce((ns,[dl,Mu])=>`${ns}${dl}=${Mu},`,"");if(function Ar(A=(0,F.ZQ)()){var p;return Ti(A)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(qn)&&"_self"!==$t)return function Pu(A,p){const v=document.createElement("a");v.href=A,v.target=p;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(D)}(p||"",$t),new yd(null);const $r=window.open(p||"",$t,dr);Ie($r,A,"popup-blocked");try{$r.focus()}catch{}return new yd($r)}(p,$t,ga())})()}_openRedirect(p,v,D,X){var ve=this;return(0,c.A)(function*(){return yield ve._originValidation(p),function $s(A){_i().location.href=A}(yield Ai(p,v,D,Qt(),X)),new Promise(()=>{})})()}_initialize(p){const v=p._key();if(this.eventManagers[v]){const{manager:X,promise:ve}=this.eventManagers[v];return X?Promise.resolve(X):(Vt(ve,"If manager is not set, promise should be"),ve)}const D=this.initAndGetManager(p);return this.eventManagers[v]={promise:D},D.catch(()=>{delete this.eventManagers[v]}),D}initAndGetManager(p){var v=this;return(0,c.A)(function*(){const D=yield function vd(A){return _a.apply(this,arguments)}(p),X=new md(p);return D.register("authEvent",ve=>(Ie(null==ve?void 0:ve.authEvent,p,"invalid-auth-event"),{status:X.onEvent(ve.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[p._key()]={manager:X},v.iframes[p._key()]=D,X})()}_isIframeWebStorageSupported(p,v){this.iframes[p._key()].send(Sl,{type:Sl},X=>{var ve;const gt=null===(ve=null==X?void 0:X[0])||void 0===ve?void 0:ve[Sl];void 0!==gt&&v(!!gt),lt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const v=p._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Rh(A){return fc.apply(this,arguments)}(p)),this.originValidationPromises[v]}get _shouldInitProactively(){return H()||er()||Ti()}};class Id{constructor(p){this.factorId=p}_process(p,v,D){switch(v.type){case"enroll":return this._finalizeEnroll(p,v.credential,D);case"signin":return this._finalizeSignIn(p,v.credential);default:return At("unexpected MultiFactorSessionType")}}}class au extends Id{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new au(p)}_finalizeEnroll(p,v,D){return function Di(A,p){return be(A,"POST","/v2/accounts/mfaEnrollment:finalize",le(A,p))}(p,{idToken:v,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,v){return function hc(A,p){return be(A,"POST","/v2/accounts/mfaSignIn:finalize",le(A,p))}(p,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ya=(()=>{class A{constructor(){}static assertion(v){return au._fromCredential(v)}}return A.FACTOR_ID="phone",A})();var _c="@firebase/auth";class kh{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var v=this;return(0,c.A)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const v=this.auth.onIdTokenChanged(D=>{p((null==D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,v),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const v=this.internalListeners.get(p);v&&(this.internalListeners.delete(p),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const yc=(0,F.XA)("authIdTokenMaxAge")||300;let Ic=null;const Fh=A=>function(){var p=(0,c.A)(function*(v){const D=v&&(yield v.getIdTokenResult()),X=D&&((new Date).getTime()-Date.parse(D.issuedAtTime))/1e3;if(X&&X>yc)return;const ve=null==D?void 0:D.token;Ic!==ve&&(Ic=ve,yield fetch(A,{method:ve?"POST":"DELETE",headers:ve?{Authorization:`Bearer ${ve}`}:{}}))});return function(v){return p.apply(this,arguments)}}();function Tm(A=(0,h.getApp)()){const p=(0,h._getProvider)(A,"auth");if(p.isInitialized())return p.getImmediate();const v=function qi(A,p){const v=(0,h._getProvider)(A,"auth");if(v.isInitialized()){const X=v.getImmediate(),ve=v.getOptions();if((0,F.bD)(ve,null!=p?p:{}))return X;lt(X,"already-initialized")}return v.initialize({options:p})}(A,{popupRedirectResolver:Ga,persistence:[yh,Fi,fi]}),D=(0,F.XA)("authTokenSyncURL");if(D&&"boolean"==typeof isSecureContext&&isSecureContext){const ve=new URL(D,location.origin);if(location.origin===ve.origin){const gt=Fh(ve.toString());(function cn(A,p,v){(0,F.Ku)(A).beforeAuthStateChanged(p,v)})(v,gt,()=>gt(v.currentUser)),function Ht(A,p,v,D){(0,F.Ku)(A).onIdTokenChanged(p,v,D)}(v,$t=>gt($t))}}const X=(0,F.Tj)("auth");return X&&_s(v,`http://${X}`),v}(function si(A){Nn=A})({loadJS:A=>new Promise((p,v)=>{const D=document.createElement("script");D.setAttribute("src",A),D.onload=p,D.onerror=X=>{const ve=De("internal-error");ve.customData=X,v(ve)},D.type="text/javascript",D.charset="UTF-8",function fp(){var A,p;return null!==(p=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==p?p:document}().appendChild(D)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function uu(A){(0,h._registerComponent)(new ge.uA("auth",(p,{options:v})=>{const D=p.getProvider("app").getImmediate(),X=p.getProvider("heartbeat"),ve=p.getProvider("app-check-internal"),{apiKey:gt,authDomain:$t}=D.options;Ie(gt&&!gt.includes(":"),"invalid-api-key",{appName:D.name});const pn={apiKey:gt,authDomain:$t,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ee(A)},qn=new an(D,X,ve,pn);return function bi(A,p){const v=(null==p?void 0:p.persistence)||[],D=(Array.isArray(v)?v:[v]).map(Ye);null!=p&&p.errorMap&&A._updateErrorMap(p.errorMap),A._initializeWithPersistence(D,null==p?void 0:p.popupRedirectResolver)}(qn,v),qn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,v,D)=>{p.getProvider("auth-internal").initialize()})),(0,h._registerComponent)(new ge.uA("auth-internal",p=>{const v=wn(p.getProvider("auth").getImmediate());return new kh(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,h.registerVersion)(_c,"1.7.9",function Cm(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(A)),(0,h.registerVersion)(_c,"1.7.9","esm2017")}("Browser")},1076:(vn,vt,L)=>{"use strict";L.d(vt,{Am:()=>Zn,Bd:()=>At,FA:()=>tt,Fy:()=>nt,I9:()=>Cn,Im:()=>kt,Ku:()=>Ue,Ll:()=>Ie,T9:()=>lt,Tj:()=>ct,Uj:()=>et,XA:()=>De,ZQ:()=>_t,bD:()=>fn,c1:()=>Qt,cY:()=>Le,eX:()=>fe,g:()=>Se,gR:()=>Kn,hp:()=>En,jZ:()=>xt,lT:()=>Et,lV:()=>en,mS:()=>qe,nr:()=>ee,p7:()=>Vt,sr:()=>yn,tD:()=>lr,u:()=>Pe,yU:()=>at,zW:()=>oe,zw:()=>Ge});const Re=function(W){const R=[];let k=0;for(let ce=0;ce<W.length;ce++){let se=W.charCodeAt(ce);se<128?R[k++]=se:se<2048?(R[k++]=se>>6|192,R[k++]=63&se|128):55296==(64512&se)&&ce+1<W.length&&56320==(64512&W.charCodeAt(ce+1))?(se=65536+((1023&se)<<10)+(1023&W.charCodeAt(++ce)),R[k++]=se>>18|240,R[k++]=se>>12&63|128,R[k++]=se>>6&63|128,R[k++]=63&se|128):(R[k++]=se>>12|224,R[k++]=se>>6&63|128,R[k++]=63&se|128)}return R},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,R){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=R?this.byteToCharMapWebSafe_:this.byteToCharMap_,ce=[];for(let se=0;se<W.length;se+=3){const Ye=W[se],bt=se+1<W.length,Lt=bt?W[se+1]:0,hn=se+2<W.length,rn=hn?W[se+2]:0;let er=(15&Lt)<<2|rn>>6,Tn=63&rn;hn||(Tn=64,bt||(er=64)),ce.push(k[Ye>>2],k[(3&Ye)<<4|Lt>>4],k[er],k[Tn])}return ce.join("")},encodeString(W,R){return this.HAS_NATIVE_SUPPORT&&!R?btoa(W):this.encodeByteArray(Re(W),R)},decodeString(W,R){return this.HAS_NATIVE_SUPPORT&&!R?atob(W):function(W){const R=[];let k=0,ce=0;for(;k<W.length;){const se=W[k++];if(se<128)R[ce++]=String.fromCharCode(se);else if(se>191&&se<224){const Ye=W[k++];R[ce++]=String.fromCharCode((31&se)<<6|63&Ye)}else if(se>239&&se<365){const hn=((7&se)<<18|(63&W[k++])<<12|(63&W[k++])<<6|63&W[k++])-65536;R[ce++]=String.fromCharCode(55296+(hn>>10)),R[ce++]=String.fromCharCode(56320+(1023&hn))}else{const Ye=W[k++],bt=W[k++];R[ce++]=String.fromCharCode((15&se)<<12|(63&Ye)<<6|63&bt)}}return R.join("")}(this.decodeStringToByteArray(W,R))},decodeStringToByteArray(W,R){this.init_();const k=R?this.charToByteMapWebSafe_:this.charToByteMap_,ce=[];for(let se=0;se<W.length;){const Ye=k[W.charAt(se++)],Lt=se<W.length?k[W.charAt(se)]:0;++se;const rn=se<W.length?k[W.charAt(se)]:64;++se;const on=se<W.length?k[W.charAt(se)]:64;if(++se,null==Ye||null==Lt||null==rn||null==on)throw new Ce;ce.push(Ye<<2|Lt>>4),64!==rn&&(ce.push(Lt<<4&240|rn>>2),64!==on&&ce.push(rn<<6&192|on))}return ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}};class Ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const et=function(W){return function(W){const R=Re(W);return ge.encodeByteArray(R,!0)}(W).replace(/\./g,"")},Pe=function(W){try{return ge.decodeString(W,!0)}catch(R){console.error("base64Decode failed: ",R)}return null};function Ge(W,R){if(!(R instanceof Object))return R;switch(R.constructor){case Date:return new Date(R.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return R}for(const k in R)!R.hasOwnProperty(k)||!Ke(k)||(W[k]=Ge(W[k],R[k]));return W}function Ke(W){return"__proto__"!==W}function qe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Qe=()=>{try{return qe().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const R=W&&Pe(W[1]);return R&&JSON.parse(R)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},ct=W=>{var R,k;return null===(k=null===(R=Qe())||void 0===R?void 0:R.emulatorHosts)||void 0===k?void 0:k[W]},at=W=>{const R=ct(W);if(!R)return;const k=R.lastIndexOf(":");if(k<=0||k+1===R.length)throw new Error(`Invalid host ${R} with no separate hostname and port!`);const ce=parseInt(R.substring(k+1),10);return"["===R[0]?[R.substring(1,k-1),ce]:[R.substring(0,k),ce]},lt=()=>{var W;return null===(W=Qe())||void 0===W?void 0:W.config},De=W=>{var R;return null===(R=Qe())||void 0===R?void 0:R[`_${W}`]};class Le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((R,k)=>{this.resolve=R,this.reject=k})}wrapCallback(R){return(k,ce)=>{k?this.reject(k):this.resolve(ce),"function"==typeof R&&(this.promise.catch(()=>{}),1===R.length?R(k):R(k,ce))}}}function nt(W,R){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ce=R||"demo-project",se=W.iat||0,Ye=W.sub||W.user_id;if(!Ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const bt=Object.assign({iss:`https://securetoken.google.com/${ce}`,aud:ce,iat:se,exp:se+3600,auth_time:se,sub:Ye,user_id:Ye,firebase:{sign_in_provider:"custom",identities:{}}},W);return[et(JSON.stringify({alg:"none",type:"JWT"})),et(JSON.stringify(bt)),""].join(".")}function _t(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function Ie(){var W;const R=null===(W=Qe())||void 0===W?void 0:W.forceEnvironment;if("node"===R)return!0;if("browser"===R)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function At(){return typeof window<"u"||Vt()}function Vt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Qt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function yn(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function en(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Et(){const W=_t();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function ee(){return!Ie()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){try{return"object"==typeof indexedDB}catch{return!1}}function fe(){return new Promise((W,R)=>{try{let k=!0;const ce="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(ce);se.onsuccess=()=>{se.result.close(),k||self.indexedDB.deleteDatabase(ce),W(!0)},se.onupgradeneeded=()=>{k=!1},se.onerror=()=>{var Ye;R((null===(Ye=se.error)||void 0===Ye?void 0:Ye.message)||"")}}catch(k){R(k)}})}class Se extends Error{constructor(R,k,ce){super(k),this.code=R,this.customData=ce,this.name="FirebaseError",Object.setPrototypeOf(this,Se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tt.prototype.create)}}class tt{constructor(R,k,ce){this.service=R,this.serviceName=k,this.errors=ce}create(R,...k){const ce=k[0]||{},se=`${this.service}/${R}`,Ye=this.errors[R],bt=Ye?function He(W,R){return W.replace(dt,(k,ce)=>{const se=R[ce];return null!=se?String(se):`<${ce}?>`})}(Ye,ce):"Error";return new Se(se,`${this.serviceName}: ${bt} (${se}).`,ce)}}const dt=/\{\$([^}]+)}/g;function Kn(W,R){return Object.prototype.hasOwnProperty.call(W,R)}function kt(W){for(const R in W)if(Object.prototype.hasOwnProperty.call(W,R))return!1;return!0}function fn(W,R){if(W===R)return!0;const k=Object.keys(W),ce=Object.keys(R);for(const se of k){if(!ce.includes(se))return!1;const Ye=W[se],bt=R[se];if(Bt(Ye)&&Bt(bt)){if(!fn(Ye,bt))return!1}else if(Ye!==bt)return!1}for(const se of ce)if(!k.includes(se))return!1;return!0}function Bt(W){return null!==W&&"object"==typeof W}function Zn(W){const R=[];for(const[k,ce]of Object.entries(W))Array.isArray(ce)?ce.forEach(se=>{R.push(encodeURIComponent(k)+"="+encodeURIComponent(se))}):R.push(encodeURIComponent(k)+"="+encodeURIComponent(ce));return R.length?"&"+R.join("&"):""}function Cn(W){const R={};return W.replace(/^\?/,"").split("&").forEach(ce=>{if(ce){const[se,Ye]=ce.split("=");R[decodeURIComponent(se)]=decodeURIComponent(Ye)}}),R}function En(W){const R=W.indexOf("?");if(!R)return"";const k=W.indexOf("#",R);return W.substring(R,k>0?k:void 0)}function lr(W,R){const k=new $n(W,R);return k.subscribe.bind(k)}class $n{constructor(R,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{R(this)}).catch(ce=>{this.error(ce)})}next(R){this.forEachObserver(k=>{k.next(R)})}error(R){this.forEachObserver(k=>{k.error(R)}),this.close(R)}complete(){this.forEachObserver(R=>{R.complete()}),this.close()}subscribe(R,k,ce){let se;if(void 0===R&&void 0===k&&void 0===ce)throw new Error("Missing Observer.");se=function fr(W,R){if("object"!=typeof W||null===W)return!1;for(const k of R)if(k in W&&"function"==typeof W[k])return!0;return!1}(R,["next","error","complete"])?R:{next:R,error:k,complete:ce},void 0===se.next&&(se.next=Fr),void 0===se.error&&(se.error=Fr),void 0===se.complete&&(se.complete=Fr);const Ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch{}}),this.observers.push(se),Ye}unsubscribeOne(R){void 0===this.observers||void 0===this.observers[R]||(delete this.observers[R],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(R){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,R)}sendOne(R,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[R])try{k(this.observers[R])}catch(ce){typeof console<"u"&&console.error&&console.error(ce)}})}close(R){this.finalized||(this.finalized=!0,void 0!==R&&(this.finalError=R),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fr(){}function Ue(W){return W&&W._delegate?W._delegate:W}},4442:(vn,vt,L)=>{"use strict";L.d(vt,{L:()=>ue,a:()=>ge,b:()=>Ce,c:()=>ze,d:()=>et,g:()=>Et}),L(5531);const ue="ionViewWillEnter",ge="ionViewDidEnter",Ce="ionViewWillLeave",ze="ionViewDidLeave",et="ionViewWillUnload",Et=we=>we.classList.contains("ion-page")?we:we.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||we},5531:(vn,vt,L)=>{"use strict";L.d(vt,{a:()=>Pe,c:()=>h,g:()=>et});class c{constructor(){this.m=new Map}reset(we){this.m=new Map(Object.entries(we))}get(we,xe){const ee=this.m.get(we);return void 0!==ee?ee:xe}getBoolean(we,xe=!1){const ee=this.m.get(we);return void 0===ee?xe:"string"==typeof ee?"true"===ee:!!ee}getNumber(we,xe){const ee=parseFloat(this.m.get(we));return isNaN(ee)?void 0!==xe?xe:NaN:ee}set(we,xe){this.m.set(we,xe)}}const h=new c,et=Et=>pe(Et),Pe=(Et,we)=>("string"==typeof Et&&(we=Et,Et=void 0),et(Et).includes(we)),pe=(Et=window)=>{if(typeof Et>"u")return[];Et.Ionic=Et.Ionic||{};let we=Et.Ionic.platforms;return null==we&&(we=Et.Ionic.platforms=Ge(Et),we.forEach(xe=>Et.document.documentElement.classList.add(`plt-${xe}`))),we},Ge=Et=>{const we=h.get("platform");return Object.keys(Qt).filter(xe=>{const ee=null==we?void 0:we[xe];return"function"==typeof ee?ee(Et):Qt[xe](Et)})},qe=Et=>!!(At(Et,/iPad/i)||At(Et,/Macintosh/i)&&lt(Et)),Be=Et=>At(Et,/android|sink/i),lt=Et=>Vt(Et,"(any-pointer:coarse)"),Le=Et=>nt(Et)||_t(Et),nt=Et=>!!(Et.cordova||Et.phonegap||Et.PhoneGap),_t=Et=>{const we=Et.Capacitor;return!(null==we||!we.isNative)},At=(Et,we)=>we.test(Et.navigator.userAgent),Vt=(Et,we)=>{var xe;return null===(xe=Et.matchMedia)||void 0===xe?void 0:xe.call(Et,we).matches},Qt={ipad:qe,iphone:Et=>At(Et,/iPhone/i),ios:Et=>At(Et,/iPhone|iPod/i)||qe(Et),android:Be,phablet:Et=>{const we=Et.innerWidth,xe=Et.innerHeight,ee=Math.min(we,xe),oe=Math.max(we,xe);return ee>390&&ee<520&&oe>620&&oe<800},tablet:Et=>{const we=Et.innerWidth,xe=Et.innerHeight,ee=Math.min(we,xe),oe=Math.max(we,xe);return qe(Et)||(Et=>Be(Et)&&!At(Et,/mobile/i))(Et)||ee>460&&ee<820&&oe>780&&oe<1400},cordova:nt,capacitor:_t,electron:Et=>At(Et,/electron/i),pwa:Et=>{var we;return!!(null!==(we=Et.matchMedia)&&void 0!==we&&we.call(Et,"(display-mode: standalone)").matches||Et.navigator.standalone)},mobile:lt,mobileweb:Et=>lt(Et)&&!Le(Et),desktop:Et=>!lt(Et),hybrid:Le}},9986:(vn,vt,L)=>{"use strict";L.d(vt,{c:()=>ge});var c=L(8476);let h;const Re=(Ce,ze,et)=>{const Pe=ze.startsWith("animation")?(Ce=>(void 0===h&&(h=void 0===Ce.style.animationName&&void 0!==Ce.style.webkitAnimationName?"-webkit-":""),h))(Ce):"";Ce.style.setProperty(Pe+ze,et)},ue=(Ce=[],ze)=>{if(void 0!==ze){const et=Array.isArray(ze)?ze:[ze];return[...Ce,...et]}return Ce},ge=Ce=>{let ze,et,Pe,pe,Ge,Ke,Qe,xt,Ie,At,en,qe=[],it=[],ut=[],Be=!1,ct={},at=[],lt=[],De={},Le=0,nt=!1,_t=!1,Vt=!0,Qt=!1,yn=!0,Dn=!1;const Et=Ce,we=[],xe=[],ee=[],oe=[],fe=[],le=[],be=[],Se=[],tt=[],He=[],dt=[],Nt="function"==typeof AnimationEffect||void 0!==c.w&&"function"==typeof c.w.AnimationEffect,dn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Nt,In=()=>dt,Kn=(te,Me)=>{const mt=Me.findIndex(Gt=>Gt.c===te);mt>-1&&Me.splice(mt,1)},kt=(te,Me)=>((null!=Me&&Me.oneTimeCallback?xe:we).push({c:te,o:Me}),en),fn=()=>{dn&&(dt.forEach(te=>{te.cancel()}),dt.length=0)},Bt=()=>{le.forEach(te=>{null!=te&&te.parentNode&&te.parentNode.removeChild(te)}),le.length=0},mn=()=>void 0!==Ge?Ge:Qe?Qe.getFill():"both",Gr=()=>void 0!==xt?xt:void 0!==Ke?Ke:Qe?Qe.getDirection():"normal",or=()=>nt?"linear":void 0!==Pe?Pe:Qe?Qe.getEasing():"linear",Lr=()=>_t?0:void 0!==Ie?Ie:void 0!==et?et:Qe?Qe.getDuration():0,Bn=()=>void 0!==pe?pe:Qe?Qe.getIterations():1,yt=()=>void 0!==At?At:void 0!==ze?ze:Qe?Qe.getDelay():0,bt=()=>{0!==Le&&(Le--,0===Le&&((()=>{tt.forEach(an=>an()),He.forEach(an=>an());const te=Vt?1:0,Me=at,mt=lt,Gt=De;oe.forEach(an=>{const wn=an.classList;Me.forEach(gr=>wn.add(gr)),mt.forEach(gr=>wn.remove(gr));for(const gr in Gt)Gt.hasOwnProperty(gr)&&Re(an,gr,Gt[gr])}),Ie=void 0,xt=void 0,At=void 0,we.forEach(an=>an.c(te,en)),xe.forEach(an=>an.c(te,en)),xe.length=0,yn=!0,Vt&&(Qt=!0),Vt=!0})(),Qe&&Qe.animationFinish()))},hn=()=>{(()=>{be.forEach(Gt=>Gt()),Se.forEach(Gt=>Gt());const te=it,Me=ut,mt=ct;oe.forEach(Gt=>{const an=Gt.classList;te.forEach(wn=>an.add(wn)),Me.forEach(wn=>an.remove(wn));for(const wn in mt)mt.hasOwnProperty(wn)&&Re(Gt,wn,mt[wn])})})(),qe.length>0&&dn&&(oe.forEach(te=>{const Me=te.animate(qe,{id:Et,delay:yt(),duration:Lr(),easing:or(),iterations:Bn(),fill:mn(),direction:Gr()});Me.pause(),dt.push(Me)}),dt.length>0&&(dt[0].onfinish=()=>{bt()})),Be=!0},rn=te=>{te=Math.min(Math.max(te,0),.9999),dn&&dt.forEach(Me=>{Me.currentTime=Me.effect.getComputedTiming().delay+Lr()*te,Me.pause()})},gn=te=>{dt.forEach(Me=>{Me.effect.updateTiming({delay:yt(),duration:Lr(),easing:or(),iterations:Bn(),fill:mn(),direction:Gr()})}),void 0!==te&&rn(te)},on=(te=!1,Me=!0,mt)=>(te&&fe.forEach(Gt=>{Gt.update(te,Me,mt)}),dn&&gn(mt),en),Qr=()=>{Be&&(dn?dt.forEach(te=>{te.pause()}):oe.forEach(te=>{Re(te,"animation-play-state","paused")}),Dn=!0)},Ar=te=>new Promise(Me=>{null!=te&&te.sync&&(_t=!0,kt(()=>_t=!1,{oneTimeCallback:!0})),Be||hn(),Qt&&(dn&&(rn(0),gn()),Qt=!1),yn&&(Le=fe.length+1,yn=!1);const mt=()=>{Kn(Gt,xe),Me()},Gt=()=>{Kn(mt,ee),Me()};kt(Gt,{oneTimeCallback:!0}),(te=>{ee.push({c:te,o:{oneTimeCallback:!0}})})(mt),fe.forEach(an=>{an.play()}),dn?(dt.forEach(te=>{te.play()}),(0===qe.length||0===oe.length)&&bt()):bt(),Dn=!1}),H=(te,Me)=>{const mt=qe[0];return void 0===mt||void 0!==mt.offset&&0!==mt.offset?qe=[{offset:0,[te]:Me},...qe]:mt[te]=Me,en};return en={parentAnimation:Qe,elements:oe,childAnimations:fe,id:Et,animationFinish:bt,from:H,to:(te,Me)=>{const mt=qe[qe.length-1];return void 0===mt||void 0!==mt.offset&&1!==mt.offset?qe=[...qe,{offset:1,[te]:Me}]:mt[te]=Me,en},fromTo:(te,Me,mt)=>H(te,Me).to(te,mt),parent:te=>(Qe=te,en),play:Ar,pause:()=>(fe.forEach(te=>{te.pause()}),Qr(),en),stop:()=>{fe.forEach(te=>{te.stop()}),Be&&(fn(),Be=!1),nt=!1,_t=!1,yn=!0,xt=void 0,Ie=void 0,At=void 0,Le=0,Qt=!1,Vt=!0,Dn=!1,ee.forEach(te=>te.c(0,en)),ee.length=0},destroy:te=>(fe.forEach(Me=>{Me.destroy(te)}),(te=>{fn(),te&&Bt()})(te),oe.length=0,fe.length=0,qe.length=0,we.length=0,xe.length=0,Be=!1,yn=!0,en),keyframes:te=>{const Me=qe!==te;return qe=te,Me&&(te=>{dn&&In().forEach(Me=>{const mt=Me.effect;if(mt.setKeyframes)mt.setKeyframes(te);else{const Gt=new KeyframeEffect(mt.target,te,mt.getTiming());Me.effect=Gt}})})(qe),en},addAnimation:te=>{if(null!=te)if(Array.isArray(te))for(const Me of te)Me.parent(en),fe.push(Me);else te.parent(en),fe.push(te);return en},addElement:te=>{if(null!=te)if(1===te.nodeType)oe.push(te);else if(te.length>=0)for(let Me=0;Me<te.length;Me++)oe.push(te[Me]);else console.error("Invalid addElement value");return en},update:on,fill:te=>(Ge=te,on(!0),en),direction:te=>(Ke=te,on(!0),en),iterations:te=>(pe=te,on(!0),en),duration:te=>(!dn&&0===te&&(te=1),et=te,on(!0),en),easing:te=>(Pe=te,on(!0),en),delay:te=>(ze=te,on(!0),en),getWebAnimations:In,getKeyframes:()=>qe,getFill:mn,getDirection:Gr,getDelay:yt,getIterations:Bn,getEasing:or,getDuration:Lr,afterAddRead:te=>(tt.push(te),en),afterAddWrite:te=>(He.push(te),en),afterClearStyles:(te=[])=>{for(const Me of te)De[Me]="";return en},afterStyles:(te={})=>(De=te,en),afterRemoveClass:te=>(lt=ue(lt,te),en),afterAddClass:te=>(at=ue(at,te),en),beforeAddRead:te=>(be.push(te),en),beforeAddWrite:te=>(Se.push(te),en),beforeClearStyles:(te=[])=>{for(const Me of te)ct[Me]="";return en},beforeStyles:(te={})=>(ct=te,en),beforeRemoveClass:te=>(ut=ue(ut,te),en),beforeAddClass:te=>(it=ue(it,te),en),onFinish:kt,isRunning:()=>0!==Le&&!Dn,progressStart:(te=!1,Me)=>(fe.forEach(mt=>{mt.progressStart(te,Me)}),Qr(),nt=te,Be||hn(),on(!1,!0,Me),en),progressStep:te=>(fe.forEach(Me=>{Me.progressStep(te)}),rn(te),en),progressEnd:(te,Me,mt)=>(nt=!1,fe.forEach(Gt=>{Gt.progressEnd(te,Me,mt)}),void 0!==mt&&(Ie=mt),Qt=!1,Vt=!0,0===te?(xt="reverse"===Gr()?"normal":"reverse","reverse"===xt&&(Vt=!1),dn?(on(),rn(1-Me)):(At=(1-Me)*Lr()*-1,on(!1,!1))):1===te&&(dn?(on(),rn(Me)):(At=Me*Lr()*-1,on(!1,!1))),void 0!==te&&!Qe&&Ar(),en)}}},464:(vn,vt,L)=>{"use strict";L.d(vt,{E:()=>Pe,a:()=>c,s:()=>ze});const c=pe=>{try{if(pe instanceof Ce)return pe.value;if(!Re()||"string"!=typeof pe||""===pe)return pe;if(pe.includes("onload="))return"";const Ge=document.createDocumentFragment(),Ke=document.createElement("div");Ge.appendChild(Ke),Ke.innerHTML=pe,ge.forEach(Be=>{const Qe=Ge.querySelectorAll(Be);for(let ct=Qe.length-1;ct>=0;ct--){const at=Qe[ct];at.parentNode?at.parentNode.removeChild(at):Ge.removeChild(at);const lt=F(at);for(let De=0;De<lt.length;De++)h(lt[De])}});const qe=F(Ge);for(let Be=0;Be<qe.length;Be++)h(qe[Be]);const it=document.createElement("div");it.appendChild(Ge);const ut=it.querySelector("div");return null!==ut?ut.innerHTML:it.innerHTML}catch(Ge){return console.error(Ge),""}},h=pe=>{if(pe.nodeType&&1!==pe.nodeType)return;if(typeof NamedNodeMap<"u"&&!(pe.attributes instanceof NamedNodeMap))return void pe.remove();for(let Ke=pe.attributes.length-1;Ke>=0;Ke--){const qe=pe.attributes.item(Ke),it=qe.name;if(!ue.includes(it.toLowerCase())){pe.removeAttribute(it);continue}const ut=qe.value,Be=pe[it];(null!=ut&&ut.toLowerCase().includes("javascript:")||null!=Be&&Be.toLowerCase().includes("javascript:"))&&pe.removeAttribute(it)}const Ge=F(pe);for(let Ke=0;Ke<Ge.length;Ke++)h(Ge[Ke])},F=pe=>null!=pe.children?pe.children:pe.childNodes,Re=()=>{var pe;const Ge=window,Ke=null===(pe=null==Ge?void 0:Ge.Ionic)||void 0===pe?void 0:pe.config;return!Ke||(Ke.get?Ke.get("sanitizerEnabled",!0):!0===Ke.sanitizerEnabled||void 0===Ke.sanitizerEnabled)},ue=["class","id","href","src","name","slot"],ge=["script","style","iframe","meta","link","object","embed"];class Ce{constructor(Ge){this.value=Ge}}const ze=pe=>{const Ge=window,Ke=Ge.Ionic;if(!Ke||!Ke.config||"Object"===Ke.config.constructor.name)return Ge.Ionic=Ge.Ionic||{},Ge.Ionic.config=Object.assign(Object.assign({},Ge.Ionic.config),pe),Ge.Ionic.config},Pe=!1},8621:(vn,vt,L)=>{"use strict";L.d(vt,{C:()=>ue,a:()=>F,d:()=>Re});var c=L(467),h=L(4920);const F=function(){var ge=(0,c.A)(function*(Ce,ze,et,Pe,pe,Ge){var Ke;if(Ce)return Ce.attachViewToDom(ze,et,pe,Pe);if(!(Ge||"string"==typeof et||et instanceof HTMLElement))throw new Error("framework delegate is missing");const qe="string"==typeof et?null===(Ke=ze.ownerDocument)||void 0===Ke?void 0:Ke.createElement(et):et;return Pe&&Pe.forEach(it=>qe.classList.add(it)),pe&&Object.assign(qe,pe),ze.appendChild(qe),yield new Promise(it=>(0,h.c)(qe,it)),qe});return function(ze,et,Pe,pe,Ge,Ke){return ge.apply(this,arguments)}}(),Re=(ge,Ce)=>{if(Ce){if(ge)return ge.removeViewFromDom(Ce.parentElement,Ce);Ce.remove()}return Promise.resolve()},ue=()=>{let ge,Ce;return{attachViewToDom:function(){var Pe=(0,c.A)(function*(pe,Ge,Ke={},qe=[]){var it,ut;let Be;if(ge=pe,Ge){const ct="string"==typeof Ge?null===(it=ge.ownerDocument)||void 0===it?void 0:it.createElement(Ge):Ge;qe.forEach(at=>ct.classList.add(at)),Object.assign(ct,Ke),ge.appendChild(ct),Be=ct,yield new Promise(at=>(0,h.c)(ct,at))}else if(ge.children.length>0&&("ION-MODAL"===ge.tagName||"ION-POPOVER"===ge.tagName)&&!(Be=ge.children[0]).classList.contains("ion-delegate-host")){const at=null===(ut=ge.ownerDocument)||void 0===ut?void 0:ut.createElement("div");at.classList.add("ion-delegate-host"),qe.forEach(lt=>at.classList.add(lt)),at.append(...ge.children),ge.appendChild(at),Be=at}const Qe=document.querySelector("ion-app")||document.body;return Ce=document.createComment("ionic teleport"),ge.parentNode.insertBefore(Ce,ge),Qe.appendChild(ge),null!=Be?Be:ge});return function(Ge,Ke){return Pe.apply(this,arguments)}}(),removeViewFromDom:()=>(ge&&Ce&&(Ce.parentNode.insertBefore(ge,Ce),Ce.remove()),Promise.resolve())}}},1970:(vn,vt,L)=>{"use strict";L.d(vt,{B:()=>Re,G:()=>ue});class h{constructor(Ce,ze,et,Pe,pe){this.id=ze,this.name=et,this.disableScroll=pe,this.priority=1e6*Pe+ze,this.ctrl=Ce}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Ce=this.ctrl.capture(this.name,this.id,this.priority);return Ce&&this.disableScroll&&this.ctrl.disableScroll(this.id),Ce}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class F{constructor(Ce,ze,et,Pe){this.id=ze,this.disable=et,this.disableScroll=Pe,this.ctrl=Ce}block(){if(this.ctrl){if(this.disable)for(const Ce of this.disable)this.ctrl.disableGesture(Ce,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Ce of this.disable)this.ctrl.enableGesture(Ce,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Re="backdrop-no-scroll",ue=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Ce){var ze;return new h(this,this.newID(),Ce.name,null!==(ze=Ce.priority)&&void 0!==ze?ze:0,!!Ce.disableScroll)}createBlocker(Ce={}){return new F(this,this.newID(),Ce.disable,!!Ce.disableScroll)}start(Ce,ze,et){return this.canStart(Ce)?(this.requestedStart.set(ze,et),!0):(this.requestedStart.delete(ze),!1)}capture(Ce,ze,et){if(!this.start(Ce,ze,et))return!1;const Pe=this.requestedStart;let pe=-1e4;if(Pe.forEach(Ge=>{pe=Math.max(pe,Ge)}),pe===et){this.capturedId=ze,Pe.clear();const Ge=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Ce}});return document.dispatchEvent(Ge),!0}return Pe.delete(ze),!1}release(Ce){this.requestedStart.delete(Ce),this.capturedId===Ce&&(this.capturedId=void 0)}disableGesture(Ce,ze){let et=this.disabledGestures.get(Ce);void 0===et&&(et=new Set,this.disabledGestures.set(Ce,et)),et.add(ze)}enableGesture(Ce,ze){const et=this.disabledGestures.get(Ce);void 0!==et&&et.delete(ze)}disableScroll(Ce){this.disabledScroll.add(Ce),1===this.disabledScroll.size&&document.body.classList.add(Re)}enableScroll(Ce){this.disabledScroll.delete(Ce),0===this.disabledScroll.size&&document.body.classList.remove(Re)}canStart(Ce){return!(void 0!==this.capturedId||this.isDisabled(Ce))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Ce){const ze=this.disabledGestures.get(Ce);return!!(ze&&ze.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(vn,vt,L)=>{"use strict";L.r(vt),L.d(vt,{MENU_BACK_BUTTON_PRIORITY:()=>et,OVERLAY_BACK_BUTTON_PRIORITY:()=>ze,blockHardwareBackButton:()=>ge,shouldUseCloseWatcher:()=>ue,startHardwareBackButton:()=>Ce});var c=L(467),h=L(8476),F=L(9483);L(4261);const ue=()=>F.c.get("experimentalCloseWatcher",!1)&&void 0!==h.w&&"CloseWatcher"in h.w,ge=()=>{document.addEventListener("backbutton",()=>{})},Ce=()=>{const Pe=document;let pe=!1;const Ge=()=>{if(pe)return;let Ke=0,qe=[];const it=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Qe,ct){qe.push({priority:Qe,handler:ct,id:Ke++})}}});Pe.dispatchEvent(it);const ut=function(){var Qe=(0,c.A)(function*(ct){try{if(null!=ct&&ct.handler){const at=ct.handler(Be);null!=at&&(yield at)}}catch(at){console.error(at)}});return function(at){return Qe.apply(this,arguments)}}(),Be=()=>{if(qe.length>0){let Qe={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};qe.forEach(ct=>{ct.priority>=Qe.priority&&(Qe=ct)}),pe=!0,qe=qe.filter(ct=>ct.id!==Qe.id),ut(Qe).then(()=>pe=!1)}};Be()};if(ue()){let Ke;const qe=()=>{null==Ke||Ke.destroy(),Ke=new h.w.CloseWatcher,Ke.onclose=()=>{Ge(),qe()}};qe()}else Pe.addEventListener("backbutton",Ge)},ze=100,et=99},4920:(vn,vt,L)=>{"use strict";L.d(vt,{a:()=>ze,b:()=>et,c:()=>F,d:()=>qe,e:()=>ct,f:()=>Ke,g:()=>Pe,h:()=>ue,i:()=>Ce,j:()=>it,k:()=>Re,l:()=>Ge,m:()=>ut,n:()=>Qe,o:()=>at,p:()=>Be,r:()=>pe,s:()=>lt,t:()=>c});const c=(De,Le=0)=>new Promise(nt=>{h(De,Le,nt)}),h=(De,Le=0,nt)=>{let _t,xt;const Ie={passive:!0},Vt=()=>{_t&&_t()},Qt=yn=>{(void 0===yn||De===yn.target)&&(Vt(),nt(yn))};return De&&(De.addEventListener("webkitTransitionEnd",Qt,Ie),De.addEventListener("transitionend",Qt,Ie),xt=setTimeout(Qt,Le+500),_t=()=>{void 0!==xt&&(clearTimeout(xt),xt=void 0),De.removeEventListener("webkitTransitionEnd",Qt,Ie),De.removeEventListener("transitionend",Qt,Ie)}),Vt},F=(De,Le)=>{De.componentOnReady?De.componentOnReady().then(nt=>Le(nt)):pe(()=>Le(De))},Re=De=>void 0!==De.componentOnReady,ue=(De,Le=[])=>{const nt={};return Le.forEach(_t=>{De.hasAttribute(_t)&&(null!==De.getAttribute(_t)&&(nt[_t]=De.getAttribute(_t)),De.removeAttribute(_t))}),nt},ge=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Ce=(De,Le)=>{let nt=ge;return Le&&Le.length>0&&(nt=nt.filter(_t=>!Le.includes(_t))),ue(De,nt)},ze=(De,Le,nt,_t)=>{var xt;if(typeof window<"u"){const Ie=window,At=null===(xt=null==Ie?void 0:Ie.Ionic)||void 0===xt?void 0:xt.config;if(At){const Vt=At.get("_ael");if(Vt)return Vt(De,Le,nt,_t);if(At._ael)return At._ael(De,Le,nt,_t)}}return De.addEventListener(Le,nt,_t)},et=(De,Le,nt,_t)=>{var xt;if(typeof window<"u"){const Ie=window,At=null===(xt=null==Ie?void 0:Ie.Ionic)||void 0===xt?void 0:xt.config;if(At){const Vt=At.get("_rel");if(Vt)return Vt(De,Le,nt,_t);if(At._rel)return At._rel(De,Le,nt,_t)}}return De.removeEventListener(Le,nt,_t)},Pe=(De,Le=De)=>De.shadowRoot||Le,pe=De=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(De):"function"==typeof requestAnimationFrame?requestAnimationFrame(De):setTimeout(De),Ge=De=>!!De.shadowRoot&&!!De.attachShadow,Ke=De=>{if(De.focus(),De.classList.contains("ion-focusable")){const Le=De.closest("ion-app");Le&&Le.setFocus([De])}},qe=(De,Le,nt,_t,xt)=>{if(De||Ge(Le)){let Ie=Le.querySelector("input.aux-input");Ie||(Ie=Le.ownerDocument.createElement("input"),Ie.type="hidden",Ie.classList.add("aux-input"),Le.appendChild(Ie)),Ie.disabled=xt,Ie.name=nt,Ie.value=_t||""}},it=(De,Le,nt)=>Math.max(De,Math.min(Le,nt)),ut=(De,Le)=>{if(!De){const nt="ASSERT: "+Le;throw console.error(nt),new Error(nt)}},Be=De=>{if(De){const Le=De.changedTouches;if(Le&&Le.length>0){const nt=Le[0];return{x:nt.clientX,y:nt.clientY}}if(void 0!==De.pageX)return{x:De.pageX,y:De.pageY}}return{x:0,y:0}},Qe=De=>{const Le="rtl"===document.dir;switch(De){case"start":return Le;case"end":return!Le;default:throw new Error(`"${De}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ct=(De,Le)=>{const nt=De._original||De;return{_original:De,emit:at(nt.emit.bind(nt),Le)}},at=(De,Le=0)=>{let nt;return(..._t)=>{clearTimeout(nt),nt=setTimeout(De,Le,..._t)}},lt=(De,Le)=>{if(null!=De||(De={}),null!=Le||(Le={}),De===Le)return!0;const nt=Object.keys(De);if(nt.length!==Object.keys(Le).length)return!1;for(const _t of nt)if(!(_t in Le)||De[_t]!==Le[_t])return!1;return!0}},4261:(vn,vt,L)=>{"use strict";L.d(vt,{B:()=>ge,a:()=>yn,b:()=>Oo,c:()=>mn,d:()=>Bn,e:()=>tt,f:()=>En,g:()=>Gr,h:()=>Zn,i:()=>Lr,j:()=>It,k:()=>dt,r:()=>et,w:()=>He});var c=L(467);var Re=Object.defineProperty,ge={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Ce=new WeakMap,ze=C=>Ce.get(C),et=(C,j)=>Ce.set(j.$lazyInstance$=C,j),pe=(C,j)=>j in C,Ge=(C,j)=>(0,console.error)(C,j),Ke=new Map,it=new Map,ut=[],lt="s-id",_t="slot-fb{display:contents}slot-fb[hidden]{display:none}",xt="http://www.w3.org/1999/xlink",Ie=typeof window<"u"?window:{},At=Ie.document||{head:{}},Qt={$flags$:0,$resourcesUrl$:"",jmp:C=>C(),raf:C=>requestAnimationFrame(C),ael:(C,j,Ne,$e)=>C.addEventListener(j,Ne,$e),rel:(C,j,Ne,$e)=>C.removeEventListener(j,Ne,$e),ce:(C,j)=>new CustomEvent(C,j)},yn=C=>{Object.assign(Qt,C)},Dn=(()=>{let C=!1;try{At.addEventListener("e",null,Object.defineProperty({},"passive",{get(){C=!0}}))}catch{}return C})(),we=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),xe=!1,ee=[],oe=[],fe=(C,j)=>Ne=>{C.push(Ne),xe||(xe=!0,j&&4&Qt.$flags$?Se(be):Qt.raf(be))},le=C=>{for(let j=0;j<C.length;j++)try{C[j](performance.now())}catch(Ne){Ge(Ne)}C.length=0},be=()=>{le(ee),le(oe),(xe=ee.length>0)&&Qt.raf(be)},Se=C=>Promise.resolve(void 0).then(C),tt=fe(ee,!1),He=fe(oe,!0),dt=C=>{const j=new URL(C,Qt.$resourcesUrl$);return j.origin!==Ie.location.origin?j.href:j.pathname},Nt={},Sn=C=>"object"==(C=typeof C)||"function"===C;function zn(C){var j,Ne,$e;return null!=($e=null==(Ne=null==(j=C.head)?void 0:j.querySelector('meta[name="csp-nonce"]'))?void 0:Ne.getAttribute("content"))?$e:void 0}((C,j)=>{for(var Ne in j)Re(C,Ne,{get:j[Ne],enumerable:!0})})({},{err:()=>Wt,map:()=>kt,ok:()=>Kn,unwrap:()=>Ot,unwrapErr:()=>fn});var Kn=C=>({isOk:!0,isErr:!1,value:C}),Wt=C=>({isOk:!1,isErr:!0,value:C});function kt(C,j){if(C.isOk){const Ne=j(C.value);return Ne instanceof Promise?Ne.then($e=>Kn($e)):Kn(Ne)}if(C.isErr)return Wt(C.value);throw"should never get here"}var Ot=C=>{if(C.isOk)return C.value;throw C.value},fn=C=>{if(C.isErr)return C.value;throw C.value},Zn=(C,j,...Ne)=>{let $e=null,ht=null,st=null,Yt=!1,wt=!1;const qt=[],tn=Fn=>{for(let jn=0;jn<Fn.length;jn++)$e=Fn[jn],Array.isArray($e)?tn($e):null!=$e&&"boolean"!=typeof $e&&((Yt="function"!=typeof C&&!Sn($e))&&($e=String($e)),Yt&&wt?qt[qt.length-1].$text$+=$e:qt.push(Yt?Cn(null,$e):$e),wt=Yt)};if(tn(Ne),j){j.key&&(ht=j.key),j.name&&(st=j.name);{const Fn=j.className||j.class;Fn&&(j.class="object"!=typeof Fn?Fn:Object.keys(Fn).filter(jn=>Fn[jn]).join(" "))}}if("function"==typeof C)return C(null===j?{}:j,qt,lr);const bn=Cn(C,null);return bn.$attrs$=j,qt.length>0&&(bn.$children$=qt),bn.$key$=ht,bn.$name$=st,bn},Cn=(C,j)=>({$flags$:0,$tag$:C,$text$:j,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),En={},lr={forEach:(C,j)=>C.map($n).forEach(j),map:(C,j)=>C.map($n).map(j).map(Vn)},$n=C=>({vattrs:C.$attrs$,vchildren:C.$children$,vkey:C.$key$,vname:C.$name$,vtag:C.$tag$,vtext:C.$text$}),Vn=C=>{if("function"==typeof C.vtag){const Ne={...C.vattrs};return C.vkey&&(Ne.key=C.vkey),C.vname&&(Ne.name=C.vname),Zn(C.vtag,Ne,...C.vchildren||[])}const j=Cn(C.vtag,C.vtext);return j.$attrs$=C.vattrs,j.$children$=C.vchildren,j.$key$=C.vkey,j.$name$=C.vname,j},Fr=(C,j,Ne,$e,ht,st,Yt)=>{let wt,qt,tn,bn;if(1===st.nodeType){if(wt=st.getAttribute("c-id"),wt&&(qt=wt.split("."),(qt[0]===Yt||"0"===qt[0])&&(tn={$flags$:0,$hostId$:qt[0],$nodeId$:qt[1],$depth$:qt[2],$index$:qt[3],$tag$:st.tagName.toLowerCase(),$elm$:st,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},j.push(tn),st.removeAttribute("c-id"),C.$children$||(C.$children$=[]),C.$children$[tn.$index$]=tn,C=tn,$e&&"0"===tn.$depth$&&($e[tn.$index$]=tn.$elm$))),st.shadowRoot)for(bn=st.shadowRoot.childNodes.length-1;bn>=0;bn--)Fr(C,j,Ne,$e,ht,st.shadowRoot.childNodes[bn],Yt);for(bn=st.childNodes.length-1;bn>=0;bn--)Fr(C,j,Ne,$e,ht,st.childNodes[bn],Yt)}else if(8===st.nodeType)qt=st.nodeValue.split("."),(qt[1]===Yt||"0"===qt[1])&&(wt=qt[0],tn={$flags$:0,$hostId$:qt[1],$nodeId$:qt[2],$depth$:qt[3],$index$:qt[4],$elm$:st,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===wt?(tn.$elm$=st.nextSibling,tn.$elm$&&3===tn.$elm$.nodeType&&(tn.$text$=tn.$elm$.textContent,j.push(tn),st.remove(),C.$children$||(C.$children$=[]),C.$children$[tn.$index$]=tn,$e&&"0"===tn.$depth$&&($e[tn.$index$]=tn.$elm$))):tn.$hostId$===Yt&&("s"===wt?(tn.$tag$="slot",st["s-sn"]=qt[5]?tn.$name$=qt[5]:"",st["s-sr"]=!0,$e&&(tn.$elm$=At.createElement(tn.$tag$),tn.$name$&&tn.$elm$.setAttribute("name",tn.$name$),st.parentNode.insertBefore(tn.$elm$,st),st.remove(),"0"===tn.$depth$&&($e[tn.$index$]=tn.$elm$)),Ne.push(tn),C.$children$||(C.$children$=[]),C.$children$[tn.$index$]=tn):"r"===wt&&($e?st.remove():(ht["s-cr"]=st,st["s-cn"]=!0))));else if(C&&"style"===C.$tag$){const Fn=Cn(null,st.textContent);Fn.$elm$=st,Fn.$index$="0",C.$children$=[Fn]}},sr=(C,j)=>{if(1===C.nodeType){let Ne=0;if(C.shadowRoot)for(;Ne<C.shadowRoot.childNodes.length;Ne++)sr(C.shadowRoot.childNodes[Ne],j);for(Ne=0;Ne<C.childNodes.length;Ne++)sr(C.childNodes[Ne],j)}else if(8===C.nodeType){const Ne=C.nodeValue.split(".");"o"===Ne[0]&&(j.set(Ne[1]+"."+Ne[2],C),C.nodeValue="",C["s-en"]=Ne[3])}},mn=C=>ut.push(C),Gr=C=>ze(C).$modeName$,Lr=C=>ze(C).$hostElement$,Bn=(C,j,Ne)=>{const $e=Lr(C);return{emit:ht=>yt($e,j,{bubbles:!!(4&Ne),composed:!!(2&Ne),cancelable:!!(1&Ne),detail:ht})}},yt=(C,j,Ne)=>{const $e=Qt.ce(j,Ne);return C.dispatchEvent($e),$e},nr=new WeakMap,St=(C,j,Ne)=>{var $e;const ht=rt(j,Ne),st=it.get(ht);if(C=11===C.nodeType?C:At,st)if("string"==typeof st){let wt,Yt=nr.get(C=C.head||C);if(Yt||nr.set(C,Yt=new Set),!Yt.has(ht)){if(C.host&&(wt=C.querySelector(`[sty-id="${ht}"]`)))wt.innerHTML=st;else{wt=At.createElement("style"),wt.innerHTML=st;const qt=null!=($e=Qt.$nonce$)?$e:zn(At);null!=qt&&wt.setAttribute("nonce",qt),(!(1&j.$flags$)||1&j.$flags$&&"HEAD"!==C.nodeName)&&C.insertBefore(wt,C.querySelector("link"))}4&j.$flags$&&(wt.innerHTML+=_t),Yt&&Yt.add(ht)}}else C.adoptedStyleSheets.includes(st)||(C.adoptedStyleSheets=[...C.adoptedStyleSheets,st]);return ht},rt=(C,j)=>"sc-"+(j&&32&C.$flags$?C.$tagName$+"-"+j:C.$tagName$),ot=(C,j,Ne,$e,ht,st)=>{if(Ne!==$e){let Yt=pe(C,j),wt=j.toLowerCase();if("class"===j){const qt=C.classList,tn=Ue(Ne),bn=Ue($e);qt.remove(...tn.filter(Fn=>Fn&&!bn.includes(Fn))),qt.add(...bn.filter(Fn=>Fn&&!tn.includes(Fn)))}else if("style"===j){for(const qt in Ne)(!$e||null==$e[qt])&&(qt.includes("-")?C.style.removeProperty(qt):C.style[qt]="");for(const qt in $e)(!Ne||$e[qt]!==Ne[qt])&&(qt.includes("-")?C.style.setProperty(qt,$e[qt]):C.style[qt]=$e[qt])}else if("key"!==j)if("ref"===j)$e&&$e(C);else if(Yt||"o"!==j[0]||"n"!==j[1]){const qt=Sn($e);if((Yt||qt&&null!==$e)&&!ht)try{if(C.tagName.includes("-"))C[j]=$e;else{const bn=null==$e?"":$e;"list"===j?Yt=!1:(null==Ne||C[j]!=bn)&&(C[j]=bn)}}catch{}let tn=!1;wt!==(wt=wt.replace(/^xlink\:?/,""))&&(j=wt,tn=!0),null==$e||!1===$e?(!1!==$e||""===C.getAttribute(j))&&(tn?C.removeAttributeNS(xt,j):C.removeAttribute(j)):(!Yt||4&st||ht)&&!qt&&($e=!0===$e?"":$e,tn?C.setAttributeNS(xt,j,$e):C.setAttribute(j,$e))}else if(j="-"===j[2]?j.slice(3):pe(Ie,wt)?wt.slice(2):wt[2]+j.slice(3),Ne||$e){const qt=j.endsWith(W);j=j.replace(R,""),Ne&&Qt.rel(C,j,Ne,qt),$e&&Qt.ael(C,j,$e,qt)}}},ke=/\s/,Ue=C=>C?C.split(ke):[],W="Capture",R=new RegExp(W+"$"),k=(C,j,Ne)=>{const $e=11===j.$elm$.nodeType&&j.$elm$.host?j.$elm$.host:j.$elm$,ht=C&&C.$attrs$||Nt,st=j.$attrs$||Nt;for(const Yt of ce(Object.keys(ht)))Yt in st||ot($e,Yt,ht[Yt],void 0,Ne,j.$flags$);for(const Yt of ce(Object.keys(st)))ot($e,Yt,ht[Yt],st[Yt],Ne,j.$flags$)};function ce(C){return C.includes("ref")?[...C.filter(j=>"ref"!==j),"ref"]:C}var se,Ye,bt,Lt=!1,hn=!1,rn=!1,gn=!1,on=(C,j,Ne,$e)=>{var ht;const st=j.$children$[Ne];let wt,qt,tn,Yt=0;if(Lt||(rn=!0,"slot"===st.$tag$&&(se&&$e.classList.add(se+"-s"),st.$flags$|=st.$children$?2:1)),null!==st.$text$)wt=st.$elm$=At.createTextNode(st.$text$);else if(1&st.$flags$)wt=st.$elm$=At.createTextNode("");else{if(gn||(gn="svg"===st.$tag$),wt=st.$elm$=At.createElementNS(gn?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Lt&&2&st.$flags$?"slot-fb":st.$tag$),gn&&"foreignObject"===st.$tag$&&(gn=!1),k(null,st,gn),!!wt.getRootNode().querySelector("body")&&(C=>null!=C)(se)&&wt["s-si"]!==se&&wt.classList.add(wt["s-si"]=se),Gt(wt,$e),st.$children$)for(Yt=0;Yt<st.$children$.length;++Yt)qt=on(C,st,Yt,wt),qt&&wt.appendChild(qt);"svg"===st.$tag$?gn=!1:"foreignObject"===wt.tagName&&(gn=!0)}return wt["s-hn"]=bt,3&st.$flags$&&(wt["s-sr"]=!0,wt["s-cr"]=Ye,wt["s-sn"]=st.$name$||"",wt["s-rf"]=null==(ht=st.$attrs$)?void 0:ht.ref,tn=C&&C.$children$&&C.$children$[Ne],tn&&tn.$tag$===st.$tag$&&C.$elm$&&er(C.$elm$)),wt},er=C=>{Qt.$flags$|=1;const j=C.closest(bt.toLowerCase());if(null!=j){const Ne=Array.from(j.childNodes).find(ht=>ht["s-cr"]),$e=Array.from(C.childNodes);for(const ht of Ne?$e.reverse():$e)null!=ht["s-sh"]&&(Me(j,ht,null!=Ne?Ne:null),ht["s-sh"]=void 0,rn=!0)}Qt.$flags$&=-2},Tn=(C,j)=>{Qt.$flags$|=1;const Ne=Array.from(C.childNodes);if(C["s-sr"]){let $e=C;for(;$e=$e.nextSibling;)$e&&$e["s-sn"]===C["s-sn"]&&$e["s-sh"]===bt&&Ne.push($e)}for(let $e=Ne.length-1;$e>=0;$e--){const ht=Ne[$e];ht["s-hn"]!==bt&&ht["s-ol"]&&(Me(ur(ht),ht,Ti(ht)),ht["s-ol"].remove(),ht["s-ol"]=void 0,ht["s-sh"]=void 0,rn=!0),j&&Tn(ht,j)}Qt.$flags$&=-2},xn=(C,j,Ne,$e,ht,st)=>{let wt,Yt=C["s-cr"]&&C["s-cr"].parentNode||C;for(Yt.shadowRoot&&Yt.tagName===bt&&(Yt=Yt.shadowRoot);ht<=st;++ht)$e[ht]&&(wt=on(null,Ne,ht,C),wt&&($e[ht].$elm$=wt,Me(Yt,wt,Ti(j))))},Qr=(C,j,Ne)=>{for(let $e=j;$e<=Ne;++$e){const ht=C[$e];if(ht){const st=ht.$elm$;te(ht),st&&(hn=!0,st["s-ol"]?st["s-ol"].remove():Tn(st,!0),st.remove())}}},Mn=(C,j,Ne=!1)=>!(C.$tag$!==j.$tag$||("slot"===C.$tag$?"$nodeId$"in C&&Ne&&8!==C.$elm$.nodeType||C.$name$!==j.$name$:!Ne&&C.$key$!==j.$key$)),Ti=C=>C&&C["s-ol"]||C,ur=C=>(C["s-ol"]?C["s-ol"]:C).parentNode,Ar=(C,j,Ne=!1)=>{const $e=j.$elm$=C.$elm$,ht=C.$children$,st=j.$children$,Yt=j.$tag$,wt=j.$text$;let qt;null===wt?(gn="svg"===Yt||"foreignObject"!==Yt&&gn,"slot"!==Yt||Lt?k(C,j,gn):C.$name$!==j.$name$&&(j.$elm$["s-sn"]=j.$name$||"",er(j.$elm$.parentElement)),null!==ht&&null!==st?((C,j,Ne,$e,ht=!1)=>{let jr,ui,st=0,Yt=0,wt=0,qt=0,tn=j.length-1,bn=j[0],Fn=j[tn],jn=$e.length-1,Un=$e[0],kr=$e[jn];for(;st<=tn&&Yt<=jn;)if(null==bn)bn=j[++st];else if(null==Fn)Fn=j[--tn];else if(null==Un)Un=$e[++Yt];else if(null==kr)kr=$e[--jn];else if(Mn(bn,Un,ht))Ar(bn,Un,ht),bn=j[++st],Un=$e[++Yt];else if(Mn(Fn,kr,ht))Ar(Fn,kr,ht),Fn=j[--tn],kr=$e[--jn];else if(Mn(bn,kr,ht))("slot"===bn.$tag$||"slot"===kr.$tag$)&&Tn(bn.$elm$.parentNode,!1),Ar(bn,kr,ht),Me(C,bn.$elm$,Fn.$elm$.nextSibling),bn=j[++st],kr=$e[--jn];else if(Mn(Fn,Un,ht))("slot"===bn.$tag$||"slot"===kr.$tag$)&&Tn(Fn.$elm$.parentNode,!1),Ar(Fn,Un,ht),Me(C,Fn.$elm$,bn.$elm$),Fn=j[--tn],Un=$e[++Yt];else{for(wt=-1,qt=st;qt<=tn;++qt)if(j[qt]&&null!==j[qt].$key$&&j[qt].$key$===Un.$key$){wt=qt;break}wt>=0?(ui=j[wt],ui.$tag$!==Un.$tag$?jr=on(j&&j[Yt],Ne,wt,C):(Ar(ui,Un,ht),j[wt]=void 0,jr=ui.$elm$),Un=$e[++Yt]):(jr=on(j&&j[Yt],Ne,Yt,C),Un=$e[++Yt]),jr&&Me(ur(bn.$elm$),jr,Ti(bn.$elm$))}st>tn?xn(C,null==$e[jn+1]?null:$e[jn+1].$elm$,Ne,$e,Yt,jn):Yt>jn&&Qr(j,st,tn)})($e,ht,j,st,Ne):null!==st?(null!==C.$text$&&($e.textContent=""),xn($e,null,j,st,0,st.length-1)):!Ne&&null!==ht&&Qr(ht,0,ht.length-1),gn&&"svg"===Yt&&(gn=!1)):(qt=$e["s-cr"])?qt.parentNode.textContent=wt:C.$text$!==wt&&($e.data=wt)},ne=C=>{const j=C.childNodes;for(const Ne of j)if(1===Ne.nodeType){if(Ne["s-sr"]){const $e=Ne["s-sn"];Ne.hidden=!1;for(const ht of j)if(ht!==Ne)if(ht["s-hn"]!==Ne["s-hn"]||""!==$e){if(1===ht.nodeType&&($e===ht.getAttribute("slot")||$e===ht["s-sn"])||3===ht.nodeType&&$e===ht["s-sn"]){Ne.hidden=!0;break}}else if(1===ht.nodeType||3===ht.nodeType&&""!==ht.textContent.trim()){Ne.hidden=!0;break}}ne(Ne)}},H=[],Ee=C=>{let j,Ne,$e;for(const ht of C.childNodes){if(ht["s-sr"]&&(j=ht["s-cr"])&&j.parentNode){Ne=j.parentNode.childNodes;const st=ht["s-sn"];for($e=Ne.length-1;$e>=0;$e--)if(j=Ne[$e],!(j["s-cn"]||j["s-nr"]||j["s-hn"]===ht["s-hn"]||j["s-sh"]&&j["s-sh"]===ht["s-hn"]))if(J(j,st)){let Yt=H.find(wt=>wt.$nodeToRelocate$===j);hn=!0,j["s-sn"]=j["s-sn"]||st,Yt?(Yt.$nodeToRelocate$["s-sh"]=ht["s-hn"],Yt.$slotRefNode$=ht):(j["s-sh"]=ht["s-hn"],H.push({$slotRefNode$:ht,$nodeToRelocate$:j})),j["s-sr"]&&H.map(wt=>{J(wt.$nodeToRelocate$,j["s-sn"])&&(Yt=H.find(qt=>qt.$nodeToRelocate$===j),Yt&&!wt.$slotRefNode$&&(wt.$slotRefNode$=Yt.$slotRefNode$))})}else H.some(Yt=>Yt.$nodeToRelocate$===j)||H.push({$nodeToRelocate$:j})}1===ht.nodeType&&Ee(ht)}},J=(C,j)=>1===C.nodeType?null===C.getAttribute("slot")&&""===j||C.getAttribute("slot")===j:C["s-sn"]===j||""===j,te=C=>{C.$attrs$&&C.$attrs$.ref&&C.$attrs$.ref(null),C.$children$&&C.$children$.map(te)},Me=(C,j,Ne)=>{const $e=null==C?void 0:C.insertBefore(j,Ne);return Gt(j,C),$e},mt=C=>{const j=[];return C&&j.push(...C["s-scs"]||[],C["s-si"],C["s-sc"],...mt(C.parentElement)),j},Gt=(C,j,Ne=!1)=>{var $e;if(C&&j&&1===C.nodeType){const ht=new Set(mt(j).filter(Boolean));if(ht.size&&(null==($e=C.classList)||$e.add(...C["s-scs"]=[...ht]),C["s-ol"]||Ne))for(const st of Array.from(C.childNodes))Gt(st,C,!0)}},wn=(C,j)=>{j&&!C.$onRenderResolve$&&j["s-p"]&&j["s-p"].push(new Promise(Ne=>C.$onRenderResolve$=Ne))},gr=(C,j)=>{if(C.$flags$|=16,!(4&C.$flags$))return wn(C,C.$ancestorComponent$),He(()=>Nn(C,j));C.$flags$|=512},Nn=(C,j)=>{const ht=C.$lazyInstance$;if(!ht)throw new Error(`Can't render component <${C.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let st;return j&&(C.$flags$|=256,C.$queuedListeners$&&(C.$queuedListeners$.map(([Yt,wt])=>ii(ht,Yt,wt)),C.$queuedListeners$=void 0),st=ii(ht,"componentWillLoad")),st=si(st,()=>ii(ht,"componentWillRender")),si(st,()=>ai(C,ht,j))},si=(C,j)=>ir(C)?C.then(j).catch(Ne=>{console.error(Ne),j()}):j(),ir=C=>C instanceof Promise||C&&C.then&&"function"==typeof C.then,ai=function(){var C=(0,c.A)(function*(j,Ne,$e){var ht;const st=j.$hostElement$,wt=st["s-rc"];$e&&(C=>{const j=C.$cmpMeta$,Ne=C.$hostElement$,$e=j.$flags$,st=St(Ne.shadowRoot?Ne.shadowRoot:Ne.getRootNode(),j,C.$modeName$);10&$e&&2&$e&&(Ne["s-sc"]=st,Ne.classList.add(st+"-h"),2&$e&&Ne.classList.add(st+"-s"))})(j);ei(j,Ne,st,$e),wt&&(wt.map(tn=>tn()),st["s-rc"]=void 0);{const tn=null!=(ht=st["s-p"])?ht:[],bn=()=>Wi(j);0===tn.length?bn():(Promise.all(tn).then(bn),j.$flags$|=4,tn.length=0)}});return function(Ne,$e,ht){return C.apply(this,arguments)}}(),ei=(C,j,Ne,$e)=>{try{j=j.render&&j.render(),C.$flags$&=-17,C.$flags$|=2,((C,j,Ne=!1)=>{var $e,ht,st,Yt,wt;const qt=C.$hostElement$,tn=C.$cmpMeta$,bn=C.$vnode$||Cn(null,null),Fn=(C=>C&&C.$tag$===En)(j)?j:Zn(null,null,j);if(bt=qt.tagName,tn.$attrsToReflect$&&(Fn.$attrs$=Fn.$attrs$||{},tn.$attrsToReflect$.map(([jn,Un])=>Fn.$attrs$[Un]=qt[jn])),Ne&&Fn.$attrs$)for(const jn of Object.keys(Fn.$attrs$))qt.hasAttribute(jn)&&!["key","ref","style","class"].includes(jn)&&(Fn.$attrs$[jn]=qt[jn]);if(Fn.$tag$=null,Fn.$flags$|=4,C.$vnode$=Fn,Fn.$elm$=bn.$elm$=qt.shadowRoot||qt,se=qt["s-sc"],Lt=!!(1&tn.$flags$),Ye=qt["s-cr"],hn=!1,Ar(bn,Fn,Ne),Qt.$flags$|=1,rn){Ee(Fn.$elm$);for(const jn of H){const Un=jn.$nodeToRelocate$;if(!Un["s-ol"]){const kr=At.createTextNode("");kr["s-nr"]=Un,Me(Un.parentNode,Un["s-ol"]=kr,Un)}}for(const jn of H){const Un=jn.$nodeToRelocate$,kr=jn.$slotRefNode$;if(kr){const jr=kr.parentNode;let ui=kr.nextSibling;if(ui&&1===ui.nodeType){let Yr=null==($e=Un["s-ol"])?void 0:$e.previousSibling;for(;Yr;){let cr=null!=(ht=Yr["s-nr"])?ht:null;if(cr&&cr["s-sn"]===Un["s-sn"]&&jr===cr.parentNode){for(cr=cr.nextSibling;cr===Un||null!=cr&&cr["s-sr"];)cr=null==cr?void 0:cr.nextSibling;if(!cr||!cr["s-nr"]){ui=cr;break}}Yr=Yr.previousSibling}}(!ui&&jr!==Un.parentNode||Un.nextSibling!==ui)&&Un!==ui&&(Me(jr,Un,ui),1===Un.nodeType&&(Un.hidden=null!=(st=Un["s-ih"])&&st)),Un&&"function"==typeof kr["s-rf"]&&kr["s-rf"](Un)}else 1===Un.nodeType&&(Ne&&(Un["s-ih"]=null!=(Yt=Un.hidden)&&Yt),Un.hidden=!0)}}if(hn&&ne(Fn.$elm$),Qt.$flags$&=-2,H.length=0,2&tn.$flags$)for(const jn of Fn.$elm$.childNodes)jn["s-hn"]!==bt&&!jn["s-sh"]&&(Ne&&null==jn["s-ih"]&&(jn["s-ih"]=null!=(wt=jn.hidden)&&wt),jn.hidden=!0);Ye=void 0})(C,j,$e)}catch(ht){Ge(ht,C.$hostElement$)}return null},Wi=C=>{const Ne=C.$hostElement$,ht=C.$lazyInstance$,st=C.$ancestorComponent$;ii(ht,"componentDidRender"),64&C.$flags$?ii(ht,"componentDidUpdate"):(C.$flags$|=64,Ki(Ne),ii(ht,"componentDidLoad"),C.$onReadyResolve$(Ne),st||lo()),C.$onInstanceResolve$(Ne),C.$onRenderResolve$&&(C.$onRenderResolve$(),C.$onRenderResolve$=void 0),512&C.$flags$&&Se(()=>gr(C,!1)),C.$flags$&=-517},It=C=>{{const j=ze(C),Ne=j.$hostElement$.isConnected;return Ne&&2==(18&j.$flags$)&&gr(j,!1),Ne}},lo=C=>{Ki(At.documentElement),Se(()=>yt(Ie,"appload",{detail:{namespace:"ionic"}}))},ii=(C,j,Ne)=>{if(C&&C[j])try{return C[j](Ne)}catch($e){Ge($e)}},Ki=C=>C.classList.add("hydrated"),pi=(C,j,Ne)=>{var $e,ht;const st=C.prototype;if(j.$members$||j.$watchers$||C.watchers){C.watchers&&!j.$watchers$&&(j.$watchers$=C.watchers);const Yt=Object.entries(null!=($e=j.$members$)?$e:{});if(Yt.map(([wt,[qt]])=>{31&qt||2&Ne&&32&qt?Object.defineProperty(st,wt,{get(){return((C,j)=>ze(this).$instanceValues$.get(j))(0,wt)},set(tn){((C,j,Ne,$e)=>{const ht=ze(C);if(!ht)throw new Error(`Couldn't find host element for "${$e.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const st=ht.$hostElement$,Yt=ht.$instanceValues$.get(j),wt=ht.$flags$,qt=ht.$lazyInstance$;Ne=((C,j)=>null==C||Sn(C)?C:4&j?"false"!==C&&(""===C||!!C):2&j?parseFloat(C):1&j?String(C):C)(Ne,$e.$members$[j][0]);const tn=Number.isNaN(Yt)&&Number.isNaN(Ne);if((!(8&wt)||void 0===Yt)&&Ne!==Yt&&!tn&&(ht.$instanceValues$.set(j,Ne),qt)){if($e.$watchers$&&128&wt){const Fn=$e.$watchers$[j];Fn&&Fn.map(jn=>{try{qt[jn](Ne,Yt,j)}catch(Un){Ge(Un,st)}})}2==(18&wt)&&gr(ht,!1)}})(this,wt,tn,j)},configurable:!0,enumerable:!0}):1&Ne&&64&qt&&Object.defineProperty(st,wt,{value(...tn){var bn;const Fn=ze(this);return null==(bn=null==Fn?void 0:Fn.$onInstancePromise$)?void 0:bn.then(()=>{var jn;return null==(jn=Fn.$lazyInstance$)?void 0:jn[wt](...tn)})}})}),1&Ne){const wt=new Map;st.attributeChangedCallback=function(qt,tn,bn){Qt.jmp(()=>{var Fn;const jn=wt.get(qt);if(this.hasOwnProperty(jn))bn=this[jn],delete this[jn];else{if(st.hasOwnProperty(jn)&&"number"==typeof this[jn]&&this[jn]==bn)return;if(null==jn){const Un=ze(this),kr=null==Un?void 0:Un.$flags$;if(kr&&!(8&kr)&&128&kr&&bn!==tn){const jr=Un.$lazyInstance$,ui=null==(Fn=j.$watchers$)?void 0:Fn[qt];null==ui||ui.forEach(Yr=>{null!=jr[Yr]&&jr[Yr].call(jr,bn,tn,qt)})}return}}this[jn]=(null!==bn||"boolean"!=typeof this[jn])&&bn})},C.observedAttributes=Array.from(new Set([...Object.keys(null!=(ht=j.$watchers$)?ht:{}),...Yt.filter(([qt,tn])=>15&tn[0]).map(([qt,tn])=>{var bn;const Fn=tn[1]||qt;return wt.set(Fn,qt),512&tn[0]&&(null==(bn=j.$attrsToReflect$)||bn.push([qt,Fn])),Fn})]))}}return C},os=function(){var C=(0,c.A)(function*(j,Ne,$e,ht){let st;if(!(32&Ne.$flags$)){if(Ne.$flags$|=32,$e.$lazyBundleId$){const tn=(C=>{const $e=C.$tagName$.replace(/-/g,"_"),ht=C.$lazyBundleId$;if(!ht)return;const st=Ke.get(ht);return st?st[$e]:L(8996)(`./${ht}.entry.js`).then(Yt=>(Ke.set(ht,Yt),Yt[$e]),Ge)})($e);if(tn&&"then"in tn){const Fn=()=>{};st=yield tn,Fn()}else st=tn;if(!st)throw new Error(`Constructor for "${$e.$tagName$}#${Ne.$modeName$}" was not found`);st.isProxied||($e.$watchers$=st.watchers,pi(st,$e,2),st.isProxied=!0);const bn=()=>{};Ne.$flags$|=8;try{new st(Ne)}catch(Fn){Ge(Fn)}Ne.$flags$&=-9,Ne.$flags$|=128,bn(),uo(Ne.$lazyInstance$)}else st=j.constructor,customElements.whenDefined(j.localName).then(()=>Ne.$flags$|=128);if(st&&st.style){let tn;"string"==typeof st.style?tn=st.style:"string"!=typeof st.style&&(Ne.$modeName$=(C=>ut.map(j=>j(C)).find(j=>!!j))(j),Ne.$modeName$&&(tn=st.style[Ne.$modeName$]));const bn=rt($e,Ne.$modeName$);if(!it.has(bn)){const Fn=()=>{};((C,j,Ne)=>{let $e=it.get(C);we&&Ne?($e=$e||new CSSStyleSheet,"string"==typeof $e?$e=j:$e.replaceSync(j)):$e=j,it.set(C,$e)})(bn,tn,!!(1&$e.$flags$)),Fn()}}}const Yt=Ne.$ancestorComponent$,wt=()=>gr(Ne,!0);Yt&&Yt["s-rc"]?Yt["s-rc"].push(wt):wt()});return function(Ne,$e,ht,st){return C.apply(this,arguments)}}(),uo=C=>{ii(C,"connectedCallback")},qi=C=>{const j=C["s-cr"]=At.createComment("");j["s-cn"]=!0,Me(C,j,C.firstChild)},bi=C=>{ii(C,"disconnectedCallback")},_s=function(){var C=(0,c.A)(function*(j){if(!(1&Qt.$flags$)){const Ne=ze(j);Ne.$rmListeners$&&(Ne.$rmListeners$.map($e=>$e()),Ne.$rmListeners$=void 0),null!=Ne&&Ne.$lazyInstance$?bi(Ne.$lazyInstance$):null!=Ne&&Ne.$onReadyPromise$&&Ne.$onReadyPromise$.then(()=>bi(Ne.$lazyInstance$))}});return function(Ne){return C.apply(this,arguments)}}(),Sr=C=>{const j=C.cloneNode;C.cloneNode=function(Ne){const $e=this,ht=$e.shadowRoot&&true,st=j.call($e,!!ht&&Ne);if(!ht&&Ne){let wt,qt,Yt=0;const tn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;Yt<$e.childNodes.length;Yt++)wt=$e.childNodes[Yt]["s-nr"],qt=tn.every(bn=>!$e.childNodes[Yt][bn]),wt&&(st.__appendChild?st.__appendChild(wt.cloneNode(!0)):st.appendChild(wt.cloneNode(!0))),qt&&st.appendChild($e.childNodes[Yt].cloneNode(!0))}return st}},ss=C=>{C.__appendChild=C.appendChild,C.appendChild=function(j){const Ne=j["s-sn"]=Ko(j),$e=Ls(this.childNodes,Ne,this.tagName);if($e){const ht=Is($e,Ne),st=ht[ht.length-1],Yt=Me(st.parentNode,j,st.nextSibling);return ne(this),Yt}return this.__appendChild(j)}},qs=C=>{C.__removeChild=C.removeChild,C.removeChild=function(j){if(j&&typeof j["s-sn"]<"u"){const Ne=Ls(this.childNodes,j["s-sn"],this.tagName);if(Ne){const ht=Is(Ne,j["s-sn"]).find(st=>st===j);if(ht)return ht.remove(),void ne(this)}}return this.__removeChild(j)}},li=C=>{const j=C.prepend;C.prepend=function(...Ne){Ne.forEach($e=>{"string"==typeof $e&&($e=this.ownerDocument.createTextNode($e));const ht=$e["s-sn"]=Ko($e),st=Ls(this.childNodes,ht,this.tagName);if(st){const Yt=document.createTextNode("");Yt["s-nr"]=$e,st["s-cr"].parentNode.__appendChild(Yt),$e["s-ol"]=Yt;const qt=Is(st,ht)[0];return Me(qt.parentNode,$e,qt.nextSibling)}return 1===$e.nodeType&&$e.getAttribute("slot")&&($e.hidden=!0),j.call(this,$e)})}},Xs=C=>{C.append=function(...j){j.forEach(Ne=>{"string"==typeof Ne&&(Ne=this.ownerDocument.createTextNode(Ne)),this.appendChild(Ne)})}},ca=C=>{const j=C.insertAdjacentHTML;C.insertAdjacentHTML=function(Ne,$e){if("afterbegin"!==Ne&&"beforeend"!==Ne)return j.call(this,Ne,$e);const ht=this.ownerDocument.createElement("_");let st;if(ht.innerHTML=$e,"afterbegin"===Ne)for(;st=ht.firstChild;)this.prepend(st);else if("beforeend"===Ne)for(;st=ht.firstChild;)this.append(st)}},co=C=>{C.insertAdjacentText=function(j,Ne){this.insertAdjacentHTML(j,Ne)}},Rr=C=>{const j=C.insertAdjacentElement;C.insertAdjacentElement=function(Ne,$e){return"afterbegin"!==Ne&&"beforeend"!==Ne?j.call(this,Ne,$e):"afterbegin"===Ne?(this.prepend($e),$e):("beforeend"===Ne&&this.append($e),$e)}},Wo=C=>{const j=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(C,"__textContent",j),Object.defineProperty(C,"textContent",{get(){return" "+Li(this.childNodes).map(ht=>{var st,Yt;const wt=[];let qt=ht.nextSibling;for(;qt&&qt["s-sn"]===ht["s-sn"];)(3===qt.nodeType||1===qt.nodeType)&&wt.push(null!=(Yt=null==(st=qt.textContent)?void 0:st.trim())?Yt:""),qt=qt.nextSibling;return wt.filter(tn=>""!==tn).join(" ")}).filter(ht=>""!==ht).join(" ")+" "},set(Ne){Li(this.childNodes).forEach(ht=>{let st=ht.nextSibling;for(;st&&st["s-sn"]===ht["s-sn"];){const Yt=st;st=st.nextSibling,Yt.remove()}if(""===ht["s-sn"]){const Yt=this.ownerDocument.createTextNode(Ne);Yt["s-sn"]="",Me(ht.parentElement,Yt,ht.nextSibling)}else ht.remove()})}})},ys=(C,j)=>{class Ne extends Array{item(ht){return this[ht]}}if(8&j.$flags$){const $e=C.__lookupGetter__("childNodes");Object.defineProperty(C,"children",{get(){return this.childNodes.map(ht=>1===ht.nodeType)}}),Object.defineProperty(C,"childElementCount",{get:()=>C.children.length}),Object.defineProperty(C,"childNodes",{get(){const ht=$e.call(this);if(!(1&Qt.$flags$)&&2&ze(this).$flags$){const st=new Ne;for(let Yt=0;Yt<ht.length;Yt++){const wt=ht[Yt]["s-nr"];wt&&st.push(wt)}return st}return Ne.from(ht)}})}},Li=C=>{const j=[];for(const Ne of Array.from(C))Ne["s-sr"]&&j.push(Ne),j.push(...Li(Ne.childNodes));return j},Ko=C=>C["s-sn"]||1===C.nodeType&&C.getAttribute("slot")||"",Ls=(C,j,Ne)=>{let ht,$e=0;for(;$e<C.length;$e++)if(ht=C[$e],ht["s-sr"]&&ht["s-sn"]===j&&ht["s-hn"]===Ne||(ht=Ls(ht.childNodes,j,Ne),ht))return ht;return null},Is=(C,j)=>{const Ne=[C];for(;(C=C.nextSibling)&&C["s-sn"]===j;)Ne.push(C);return Ne},Oo=(C,j={})=>{var Ne;const ht=[],st=j.exclude||[],Yt=Ie.customElements,wt=At.head,qt=wt.querySelector("meta[charset]"),tn=At.createElement("style"),bn=[];let Fn,jn=!0;Object.assign(Qt,j),Qt.$resourcesUrl$=new URL(j.resourcesUrl||"./",At.baseURI).href,Qt.$flags$|=2;let Un=!1;if(C.map(kr=>{kr[1].map(jr=>{var ui;const Yr={$flags$:jr[0],$tagName$:jr[1],$members$:jr[2],$listeners$:jr[3]};4&Yr.$flags$&&(Un=!0),Yr.$members$=jr[2],Yr.$listeners$=jr[3],Yr.$attrsToReflect$=[],Yr.$watchers$=null!=(ui=jr[4])?ui:{};const cr=Yr.$tagName$,ho=class extends HTMLElement{constructor(Jr){if(super(Jr),this.hasRegisteredEventListeners=!1,((C,j)=>{const Ne={$flags$:0,$hostElement$:C,$cmpMeta$:j,$instanceValues$:new Map};Ne.$onInstancePromise$=new Promise($e=>Ne.$onInstanceResolve$=$e),Ne.$onReadyPromise$=new Promise($e=>Ne.$onReadyResolve$=$e),C["s-p"]=[],C["s-rc"]=[],Ce.set(C,Ne)})(Jr=this,Yr),1&Yr.$flags$)if(Jr.shadowRoot){if("open"!==Jr.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Yr.$tagName$}! Mode is set to ${Jr.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Jr.attachShadow({mode:"open",delegatesFocus:!!(16&Yr.$flags$)})}connectedCallback(){const Jr=ze(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Pi(this,Jr,Yr.$listeners$)),Fn&&(clearTimeout(Fn),Fn=null),jn?bn.push(this):Qt.jmp(()=>(C=>{if(!(1&Qt.$flags$)){const j=ze(C),Ne=j.$cmpMeta$,$e=()=>{};if(1&j.$flags$)Pi(C,j,Ne.$listeners$),null!=j&&j.$lazyInstance$?uo(j.$lazyInstance$):null!=j&&j.$onReadyPromise$&&j.$onReadyPromise$.then(()=>uo(j.$lazyInstance$));else{let ht;if(j.$flags$|=1,ht=C.getAttribute(lt),ht){if(1&Ne.$flags$){const st=St(C.shadowRoot,Ne,C.getAttribute("s-mode"));C.classList.remove(st+"-h",st+"-s")}((C,j,Ne,$e)=>{const st=C.shadowRoot,Yt=[],qt=st?[]:null,tn=$e.$vnode$=Cn(j,null);Qt.$orgLocNodes$||sr(At.body,Qt.$orgLocNodes$=new Map),C[lt]=Ne,C.removeAttribute(lt),Fr(tn,Yt,[],qt,C,C,Ne),Yt.map(bn=>{const Fn=bn.$hostId$+"."+bn.$nodeId$,jn=Qt.$orgLocNodes$.get(Fn),Un=bn.$elm$;jn&&""===jn["s-en"]&&jn.parentNode.insertBefore(Un,jn.nextSibling),st||(Un["s-hn"]=j,jn&&(Un["s-ol"]=jn,Un["s-ol"]["s-nr"]=Un)),Qt.$orgLocNodes$.delete(Fn)}),st&&qt.map(bn=>{bn&&st.appendChild(bn)})})(C,Ne.$tagName$,ht,j)}ht||12&Ne.$flags$&&qi(C);{let st=C;for(;st=st.parentNode||st.host;)if(1===st.nodeType&&st.hasAttribute("s-id")&&st["s-p"]||st["s-p"]){wn(j,j.$ancestorComponent$=st);break}}Ne.$members$&&Object.entries(Ne.$members$).map(([st,[Yt]])=>{if(31&Yt&&C.hasOwnProperty(st)){const wt=C[st];delete C[st],C[st]=wt}}),os(C,j,Ne)}$e()}})(this))}disconnectedCallback(){Qt.jmp(()=>_s(this))}componentOnReady(){return ze(this).$onReadyPromise$}};2&Yr.$flags$&&((C,j)=>{Sr(C),ss(C),Xs(C),li(C),Rr(C),ca(C),co(C),Wo(C),ys(C,j),qs(C)})(ho.prototype,Yr),Yr.$lazyBundleId$=kr[0],!st.includes(cr)&&!Yt.get(cr)&&(ht.push(cr),Yt.define(cr,pi(ho,Yr,1)))})}),ht.length>0&&(Un&&(tn.textContent+=_t),tn.textContent+=ht.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",tn.innerHTML.length)){tn.setAttribute("data-styles","");const kr=null!=(Ne=Qt.$nonce$)?Ne:zn(At);null!=kr&&tn.setAttribute("nonce",kr),wt.insertBefore(tn,qt?qt.nextSibling:wt.firstChild)}jn=!1,bn.length?bn.map(kr=>kr.connectedCallback()):Qt.jmp(()=>Fn=setTimeout(lo,30))},Pi=(C,j,Ne,$e)=>{Ne&&Ne.map(([ht,st,Yt])=>{const wt=Y(C,ht),qt=M(j,Yt),tn=me(ht);Qt.ael(wt,st,qt,tn),(j.$rmListeners$=j.$rmListeners$||[]).push(()=>Qt.rel(wt,st,qt,tn))})},M=(C,j)=>Ne=>{var $e;try{256&C.$flags$?null==($e=C.$lazyInstance$)||$e[j](Ne):(C.$queuedListeners$=C.$queuedListeners$||[]).push([j,Ne])}catch(ht){Ge(ht)}},Y=(C,j)=>4&j?At:8&j?Ie:16&j?At.body:C,me=C=>Dn?{passive:!!(1&C),capture:!!(2&C)}:!!(2&C)},8607:(vn,vt,L)=>{"use strict";L.r(vt),L.d(vt,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>et});var c=L(1970);const h=(Ke,qe,it,ut)=>{const Be=F(Ke)?{capture:!!ut.capture,passive:!!ut.passive}:!!ut.capture;let Qe,ct;return Ke.__zone_symbol__addEventListener?(Qe="__zone_symbol__addEventListener",ct="__zone_symbol__removeEventListener"):(Qe="addEventListener",ct="removeEventListener"),Ke[Qe](qe,it,Be),()=>{Ke[ct](qe,it,Be)}},F=Ke=>{if(void 0===Re)try{const qe=Object.defineProperty({},"passive",{get:()=>{Re=!0}});Ke.addEventListener("optsTest",()=>{},qe)}catch{Re=!1}return!!Re};let Re;const Ce=Ke=>Ke instanceof Document?Ke:Ke.ownerDocument,et=Ke=>{let qe=!1,it=!1,ut=!0,Be=!1;const Qe=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ke),ct=Qe.canStart,at=Qe.onWillStart,lt=Qe.onStart,De=Qe.onEnd,Le=Qe.notCaptured,nt=Qe.onMove,_t=Qe.threshold,xt=Qe.passive,Ie=Qe.blurOnStart,At={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Vt=((Ke,qe,it)=>{const ut=it*(Math.PI/180),Be="x"===Ke,Qe=Math.cos(ut),ct=qe*qe;let at=0,lt=0,De=!1,Le=0;return{start(nt,_t){at=nt,lt=_t,Le=0,De=!0},detect(nt,_t){if(!De)return!1;const xt=nt-at,Ie=_t-lt,At=xt*xt+Ie*Ie;if(At<ct)return!1;const Vt=Math.sqrt(At),Qt=(Be?xt:Ie)/Vt;return Le=Qt>Qe?1:Qt<-Qe?-1:0,De=!1,!0},isGesture:()=>0!==Le,getDirection:()=>Le}})(Qe.direction,Qe.threshold,Qe.maxAngle),Qt=c.G.createGesture({name:Ke.gestureName,priority:Ke.gesturePriority,disableScroll:Ke.disableScroll}),Dn=()=>{qe&&(Be=!1,nt&&nt(At))},Et=()=>!!Qt.capture()&&(qe=!0,ut=!1,At.startX=At.currentX,At.startY=At.currentY,At.startTime=At.currentTime,at?at(At).then(xe):xe(),!0),xe=()=>{Ie&&(()=>{if(typeof document<"u"){const be=document.activeElement;null!=be&&be.blur&&be.blur()}})(),lt&&lt(At),ut=!0},ee=()=>{qe=!1,it=!1,Be=!1,ut=!0,Qt.release()},oe=be=>{const Se=qe,tt=ut;if(ee(),tt){if(Pe(At,be),Se)return void(De&&De(At));Le&&Le(At)}},fe=((Ke,qe,it,ut,Be)=>{let Qe,ct,at,lt,De,Le,nt,_t=0;const xt=we=>{_t=Date.now()+2e3,qe(we)&&(!ct&&it&&(ct=h(Ke,"touchmove",it,Be)),at||(at=h(we.target,"touchend",At,Be)),lt||(lt=h(we.target,"touchcancel",At,Be)))},Ie=we=>{_t>Date.now()||qe(we)&&(!Le&&it&&(Le=h(Ce(Ke),"mousemove",it,Be)),nt||(nt=h(Ce(Ke),"mouseup",Vt,Be)))},At=we=>{Qt(),ut&&ut(we)},Vt=we=>{yn(),ut&&ut(we)},Qt=()=>{ct&&ct(),at&&at(),lt&&lt(),ct=at=lt=void 0},yn=()=>{Le&&Le(),nt&&nt(),Le=nt=void 0},en=()=>{Qt(),yn()},Dn=(we=!0)=>{we?(Qe||(Qe=h(Ke,"touchstart",xt,Be)),De||(De=h(Ke,"mousedown",Ie,Be))):(Qe&&Qe(),De&&De(),Qe=De=void 0,en())};return{enable:Dn,stop:en,destroy:()=>{Dn(!1),ut=it=qe=void 0}}})(Qe.el,be=>{const Se=Ge(be);return!(it||!ut||(pe(be,At),At.startX=At.currentX,At.startY=At.currentY,At.startTime=At.currentTime=Se,At.velocityX=At.velocityY=At.deltaX=At.deltaY=0,At.event=be,ct&&!1===ct(At))||(Qt.release(),!Qt.start()))&&(it=!0,0===_t?Et():(Vt.start(At.startX,At.startY),!0))},be=>{qe?!Be&&ut&&(Be=!0,Pe(At,be),requestAnimationFrame(Dn)):(Pe(At,be),Vt.detect(At.currentX,At.currentY)&&(!Vt.isGesture()||!Et())&&le())},oe,{capture:!1,passive:xt}),le=()=>{ee(),fe.stop(),Le&&Le(At)};return{enable(be=!0){be||(qe&&oe(void 0),ee()),fe.enable(be)},destroy(){Qt.destroy(),fe.destroy()}}},Pe=(Ke,qe)=>{if(!qe)return;const it=Ke.currentX,ut=Ke.currentY,Be=Ke.currentTime;pe(qe,Ke);const Qe=Ke.currentX,ct=Ke.currentY,lt=(Ke.currentTime=Ge(qe))-Be;if(lt>0&&lt<100){const Le=(ct-ut)/lt;Ke.velocityX=(Qe-it)/lt*.7+.3*Ke.velocityX,Ke.velocityY=.7*Le+.3*Ke.velocityY}Ke.deltaX=Qe-Ke.startX,Ke.deltaY=ct-Ke.startY,Ke.event=qe},pe=(Ke,qe)=>{let it=0,ut=0;if(Ke){const Be=Ke.changedTouches;if(Be&&Be.length>0){const Qe=Be[0];it=Qe.clientX,ut=Qe.clientY}else void 0!==Ke.pageX&&(it=Ke.pageX,ut=Ke.pageY)}qe.currentX=it,qe.currentY=ut},Ge=Ke=>Ke.timeStamp||Date.now()},3604:(vn,vt,L)=>{"use strict";L.d(vt,{b:()=>ze,c:()=>et,d:()=>Pe,e:()=>en,g:()=>we,l:()=>Qt,s:()=>Dn,t:()=>Qe,w:()=>yn});var c=L(467),h=L(9483),F=L(4261),Re=L(4929),ue=L(4920);const ze="ionViewWillLeave",et="ionViewDidLeave",Pe="ionViewWillUnload",pe=xe=>{xe.tabIndex=-1,xe.focus()},Ge=xe=>null!==xe.offsetParent,qe="ion-last-focus",Be_saveViewFocus=oe=>{if(h.c.get("focusManagerPriority",!1)){const le=document.activeElement;null!==le&&null!=oe&&oe.contains(le)&&le.setAttribute(qe,"true")}},Be_setViewFocus=oe=>{const fe=h.c.get("focusManagerPriority",!1);if(Array.isArray(fe)&&!oe.contains(document.activeElement)){const le=oe.querySelector(`[${qe}]`);if(le&&Ge(le))return void pe(le);for(const be of fe)switch(be){case"content":const Se=oe.querySelector('main, [role="main"]');if(Se&&Ge(Se))return void pe(Se);break;case"heading":const tt=oe.querySelector('h1, [role="heading"][aria-level="1"]');if(tt&&Ge(tt))return void pe(tt);break;case"banner":const He=oe.querySelector('header, [role="banner"]');if(He&&Ge(He))return void pe(He);break;default:(0,Re.p)(`Unrecognized focus manager priority value ${be}`)}pe(oe)}},Qe=xe=>new Promise((ee,oe)=>{(0,F.w)(()=>{ct(xe),at(xe).then(fe=>{fe.animation&&fe.animation.destroy(),lt(xe),ee(fe)},fe=>{lt(xe),oe(fe)})})}),ct=xe=>{const ee=xe.enteringEl,oe=xe.leavingEl;Be_saveViewFocus(oe),Et(ee,oe,xe.direction),xe.showGoBack?ee.classList.add("can-go-back"):ee.classList.remove("can-go-back"),Dn(ee,!1),ee.style.setProperty("pointer-events","none"),oe&&(Dn(oe,!1),oe.style.setProperty("pointer-events","none"))},at=function(){var xe=(0,c.A)(function*(ee){const oe=yield De(ee);return oe&&F.B.isBrowser?Le(oe,ee):nt(ee)});return function(oe){return xe.apply(this,arguments)}}(),lt=xe=>{const ee=xe.enteringEl,oe=xe.leavingEl;ee.classList.remove("ion-page-invisible"),ee.style.removeProperty("pointer-events"),void 0!==oe&&(oe.classList.remove("ion-page-invisible"),oe.style.removeProperty("pointer-events")),Be_setViewFocus(ee)},De=function(){var xe=(0,c.A)(function*(ee){return ee.leavingEl&&ee.animated&&0!==ee.duration?ee.animationBuilder?ee.animationBuilder:"ios"===ee.mode?(yield Promise.resolve().then(L.bind(L,5022))).iosTransitionAnimation:(yield Promise.resolve().then(L.bind(L,3615))).mdTransitionAnimation:void 0});return function(oe){return xe.apply(this,arguments)}}(),Le=function(){var xe=(0,c.A)(function*(ee,oe){yield _t(oe,!0);const fe=ee(oe.baseEl,oe);At(oe.enteringEl,oe.leavingEl);const le=yield Ie(fe,oe);return oe.progressCallback&&oe.progressCallback(void 0),le&&Vt(oe.enteringEl,oe.leavingEl),{hasCompleted:le,animation:fe}});return function(oe,fe){return xe.apply(this,arguments)}}(),nt=function(){var xe=(0,c.A)(function*(ee){const oe=ee.enteringEl,fe=ee.leavingEl,le=h.c.get("focusManagerPriority",!1);return yield _t(ee,le),At(oe,fe),Vt(oe,fe),{hasCompleted:!0}});return function(oe){return xe.apply(this,arguments)}}(),_t=function(){var xe=(0,c.A)(function*(ee,oe){(void 0!==ee.deepWait?ee.deepWait:oe)&&(yield Promise.all([en(ee.enteringEl),en(ee.leavingEl)])),yield xt(ee.viewIsReady,ee.enteringEl)});return function(oe,fe){return xe.apply(this,arguments)}}(),xt=function(){var xe=(0,c.A)(function*(ee,oe){ee&&(yield ee(oe))});return function(oe,fe){return xe.apply(this,arguments)}}(),Ie=(xe,ee)=>{const oe=ee.progressCallback,fe=new Promise(le=>{xe.onFinish(be=>le(1===be))});return oe?(xe.progressStart(!0),oe(xe)):xe.play(),fe},At=(xe,ee)=>{Qt(ee,ze),Qt(xe,"ionViewWillEnter")},Vt=(xe,ee)=>{Qt(xe,"ionViewDidEnter"),Qt(ee,et)},Qt=(xe,ee)=>{if(xe){const oe=new CustomEvent(ee,{bubbles:!1,cancelable:!1});xe.dispatchEvent(oe)}},yn=()=>new Promise(xe=>(0,ue.r)(()=>(0,ue.r)(()=>xe()))),en=function(){var xe=(0,c.A)(function*(ee){const oe=ee;if(oe){if(null!=oe.componentOnReady){if(null!=(yield oe.componentOnReady()))return}else if(null!=oe.__registerHost)return void(yield new Promise(le=>(0,ue.r)(le)));yield Promise.all(Array.from(oe.children).map(en))}});return function(oe){return xe.apply(this,arguments)}}(),Dn=(xe,ee)=>{ee?(xe.setAttribute("aria-hidden","true"),xe.classList.add("ion-page-hidden")):(xe.hidden=!1,xe.removeAttribute("aria-hidden"),xe.classList.remove("ion-page-hidden"))},Et=(xe,ee,oe)=>{void 0!==xe&&(xe.style.zIndex="back"===oe?"99":"101"),void 0!==ee&&(ee.style.zIndex="100")},we=xe=>xe.classList.contains("ion-page")?xe:xe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||xe},4929:(vn,vt,L)=>{"use strict";L.d(vt,{a:()=>h,b:()=>F,p:()=>c});const c=(Re,...ue)=>console.warn(`[Ionic Warning]: ${Re}`,...ue),h=(Re,...ue)=>console.error(`[Ionic Error]: ${Re}`,...ue),F=(Re,...ue)=>console.error(`<${Re.tagName.toLowerCase()}> must be used inside ${ue.join(" or ")}.`)},8476:(vn,vt,L)=>{"use strict";L.d(vt,{d:()=>h,w:()=>c});const c=typeof window<"u"?window:void 0,h=typeof document<"u"?document:void 0},9568:(vn,vt,L)=>{"use strict";L.d(vt,{m:()=>Ke});var c=L(467),h=L(8476),F=L(7192),Re=L(4929),ue=L(4920),ge=L(9483),Ce=L(9986);const ze=qe=>(0,Ce.c)().duration(qe?400:300),et=qe=>{let it,ut;const Be=qe.width+8,Qe=(0,Ce.c)(),ct=(0,Ce.c)();qe.isEndSide?(it=Be+"px",ut="0px"):(it=-Be+"px",ut="0px"),Qe.addElement(qe.menuInnerEl).fromTo("transform",`translateX(${it})`,`translateX(${ut})`);const lt="ios"===(0,ge.b)(qe),De=lt?.2:.25;return ct.addElement(qe.backdropEl).fromTo("opacity",.01,De),ze(lt).addAnimation([Qe,ct])},Pe=qe=>{let it,ut;const Be=(0,ge.b)(qe),Qe=qe.width;qe.isEndSide?(it=-Qe+"px",ut=Qe+"px"):(it=Qe+"px",ut=-Qe+"px");const ct=(0,Ce.c)().addElement(qe.menuInnerEl).fromTo("transform",`translateX(${ut})`,"translateX(0px)"),at=(0,Ce.c)().addElement(qe.contentEl).fromTo("transform","translateX(0px)",`translateX(${it})`),lt=(0,Ce.c)().addElement(qe.backdropEl).fromTo("opacity",.01,.32);return ze("ios"===Be).addAnimation([ct,at,lt])},pe=qe=>{const it=(0,ge.b)(qe),ut=qe.width*(qe.isEndSide?-1:1)+"px",Be=(0,Ce.c)().addElement(qe.contentEl).fromTo("transform","translateX(0px)",`translateX(${ut})`);return ze("ios"===it).addAnimation(Be)},Ke=(()=>{const qe=new Map,it=[],ut=function(){var ee=(0,c.A)(function*(oe){const fe=yield Le(oe,!0);return!!fe&&fe.open()});return function(fe){return ee.apply(this,arguments)}}(),Be=function(){var ee=(0,c.A)(function*(oe){const fe=yield void 0!==oe?Le(oe,!0):nt();return void 0!==fe&&fe.close()});return function(fe){return ee.apply(this,arguments)}}(),Qe=function(){var ee=(0,c.A)(function*(oe){const fe=yield Le(oe,!0);return!!fe&&fe.toggle()});return function(fe){return ee.apply(this,arguments)}}(),ct=function(){var ee=(0,c.A)(function*(oe,fe){const le=yield Le(fe);return le&&(le.disabled=!oe),le});return function(fe,le){return ee.apply(this,arguments)}}(),at=function(){var ee=(0,c.A)(function*(oe,fe){const le=yield Le(fe);return le&&(le.swipeGesture=oe),le});return function(fe,le){return ee.apply(this,arguments)}}(),lt=function(){var ee=(0,c.A)(function*(oe){if(null!=oe){const fe=yield Le(oe);return void 0!==fe&&fe.isOpen()}return void 0!==(yield nt())});return function(fe){return ee.apply(this,arguments)}}(),De=function(){var ee=(0,c.A)(function*(oe){const fe=yield Le(oe);return!!fe&&!fe.disabled});return function(fe){return ee.apply(this,arguments)}}(),Le=function(){var ee=(0,c.A)(function*(oe,fe=!1){if(yield xe(),"start"===oe||"end"===oe){const be=it.filter(tt=>tt.side===oe&&!tt.disabled);if(be.length>=1)return be.length>1&&fe&&(0,Re.p)(`menuController queried for a menu on the "${oe}" side, but ${be.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,be.map(tt=>tt.el)),be[0].el;const Se=it.filter(tt=>tt.side===oe);if(Se.length>=1)return Se.length>1&&fe&&(0,Re.p)(`menuController queried for a menu on the "${oe}" side, but ${Se.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Se.map(tt=>tt.el)),Se[0].el}else if(null!=oe)return we(be=>be.menuId===oe);return we(be=>!be.disabled)||(it.length>0?it[0].el:void 0)});return function(fe){return ee.apply(this,arguments)}}(),nt=function(){var ee=(0,c.A)(function*(){return yield xe(),en()});return function(){return ee.apply(this,arguments)}}(),_t=function(){var ee=(0,c.A)(function*(){return yield xe(),Dn()});return function(){return ee.apply(this,arguments)}}(),xt=function(){var ee=(0,c.A)(function*(){return yield xe(),Et()});return function(){return ee.apply(this,arguments)}}(),Ie=(ee,oe)=>{qe.set(ee,oe)},Qt=function(){var ee=(0,c.A)(function*(oe,fe,le){if(Et())return!1;if(fe){const be=yield nt();be&&oe.el!==be&&(yield be.setOpen(!1,!1))}return oe._setOpen(fe,le)});return function(fe,le,be){return ee.apply(this,arguments)}}(),en=()=>we(ee=>ee._isOpen),Dn=()=>it.map(ee=>ee.el),Et=()=>it.some(ee=>ee.isAnimating),we=ee=>{const oe=it.find(ee);if(void 0!==oe)return oe.el},xe=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ee=>new Promise(oe=>(0,ue.c)(ee,oe))));return Ie("reveal",pe),Ie("push",Pe),Ie("overlay",et),null==h.d||h.d.addEventListener("ionBackButton",ee=>{const oe=en();oe&&ee.detail.register(F.MENU_BACK_BUTTON_PRIORITY,()=>oe.close())}),{registerAnimation:Ie,get:Le,getMenus:_t,getOpen:nt,isEnabled:De,swipeGesture:at,isAnimating:xt,isOpen:lt,enable:ct,toggle:Qe,close:Be,open:ut,_getOpenSync:en,_createAnimation:(ee,oe)=>{const fe=qe.get(ee);if(!fe)throw new Error("animation not registered");return fe(oe)},_register:ee=>{it.indexOf(ee)<0&&it.push(ee)},_unregister:ee=>{const oe=it.indexOf(ee);oe>-1&&it.splice(oe,1)},_setOpen:Qt}})()},9483:(vn,vt,L)=>{"use strict";L.d(vt,{a:()=>pe,b:()=>Dn,c:()=>F,i:()=>Et});var c=L(4261);class h{constructor(){this.m=new Map}reset(xe){this.m=new Map(Object.entries(xe))}get(xe,ee){const oe=this.m.get(xe);return void 0!==oe?oe:ee}getBoolean(xe,ee=!1){const oe=this.m.get(xe);return void 0===oe?ee:"string"==typeof oe?"true"===oe:!!oe}getNumber(xe,ee){const oe=parseFloat(this.m.get(xe));return isNaN(oe)?void 0!==ee?ee:NaN:oe}set(xe,ee){this.m.set(xe,ee)}}const F=new h,et="ionic-persist-config",pe=(we,xe)=>("string"==typeof we&&(xe=we,we=void 0),(we=>Ge(we))(we).includes(xe)),Ge=(we=window)=>{if(typeof we>"u")return[];we.Ionic=we.Ionic||{};let xe=we.Ionic.platforms;return null==xe&&(xe=we.Ionic.platforms=Ke(we),xe.forEach(ee=>we.document.documentElement.classList.add(`plt-${ee}`))),xe},Ke=we=>{const xe=F.get("platform");return Object.keys(yn).filter(ee=>{const oe=null==xe?void 0:xe[ee];return"function"==typeof oe?oe(we):yn[ee](we)})},it=we=>!!(Vt(we,/iPad/i)||Vt(we,/Macintosh/i)&&De(we)),Qe=we=>Vt(we,/android|sink/i),De=we=>Qt(we,"(any-pointer:coarse)"),nt=we=>_t(we)||xt(we),_t=we=>!!(we.cordova||we.phonegap||we.PhoneGap),xt=we=>{const xe=we.Capacitor;return!(null==xe||!xe.isNative)},Vt=(we,xe)=>xe.test(we.navigator.userAgent),Qt=(we,xe)=>{var ee;return null===(ee=we.matchMedia)||void 0===ee?void 0:ee.call(we,xe).matches},yn={ipad:it,iphone:we=>Vt(we,/iPhone/i),ios:we=>Vt(we,/iPhone|iPod/i)||it(we),android:Qe,phablet:we=>{const xe=we.innerWidth,ee=we.innerHeight,oe=Math.min(xe,ee),fe=Math.max(xe,ee);return oe>390&&oe<520&&fe>620&&fe<800},tablet:we=>{const xe=we.innerWidth,ee=we.innerHeight,oe=Math.min(xe,ee),fe=Math.max(xe,ee);return it(we)||(we=>Qe(we)&&!Vt(we,/mobile/i))(we)||oe>460&&oe<820&&fe>780&&fe<1400},cordova:_t,capacitor:xt,electron:we=>Vt(we,/electron/i),pwa:we=>{var xe;return!!(null!==(xe=we.matchMedia)&&void 0!==xe&&xe.call(we,"(display-mode: standalone)").matches||we.navigator.standalone)},mobile:De,mobileweb:we=>De(we)&&!nt(we),desktop:we=>!De(we),hybrid:nt};let en;const Dn=we=>we&&(0,c.g)(we)||en,Et=(we={})=>{if(typeof window>"u")return;const xe=window.document,ee=window,oe=ee.Ionic=ee.Ionic||{},fe={};we._ael&&(fe.ael=we._ael),we._rel&&(fe.rel=we._rel),we._ce&&(fe.ce=we._ce),(0,c.a)(fe);const le=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(we=>{try{const xe=we.sessionStorage.getItem(et);return null!==xe?JSON.parse(xe):{}}catch{return{}}})(ee)),{persistConfig:!1}),oe.config),(we=>{const xe={};return we.location.search.slice(1).split("&").map(ee=>ee.split("=")).map(([ee,oe])=>{try{return[decodeURIComponent(ee),decodeURIComponent(oe)]}catch{return["",""]}}).filter(([ee])=>((we,xe)=>we.substr(0,xe.length)===xe)(ee,"ionic:")).map(([ee,oe])=>[ee.slice(6),oe]).forEach(([ee,oe])=>{xe[ee]=oe}),xe})(ee)),we);F.reset(le),F.getBoolean("persistConfig")&&((we,xe)=>{try{we.sessionStorage.setItem(et,JSON.stringify(xe))}catch{return}})(ee,le),Ge(ee),oe.config=F,oe.mode=en=F.get("mode",xe.documentElement.getAttribute("mode")||(pe(ee,"ios")?"ios":"md")),F.set("mode",en),xe.documentElement.setAttribute("mode",en),xe.documentElement.classList.add(en),F.getBoolean("_testing")&&F.set("animated",!1);const be=tt=>{var He;return null===(He=tt.tagName)||void 0===He?void 0:He.startsWith("ION-")},Se=tt=>["ios","md"].includes(tt);(0,c.c)(tt=>{for(;tt;){const He=tt.mode||tt.getAttribute("mode");if(He){if(Se(He))return He;be(tt)&&console.warn('Invalid ionic mode: "'+He+'", expected: "ios" or "md"')}tt=tt.parentElement}return en})}},5022:(vn,vt,L)=>{"use strict";L.r(vt),L.d(vt,{iosTransitionAnimation:()=>qe,shadow:()=>ze});var c=L(9986),h=L(3604);L(8476),L(9483),L(4261);const Ce=ut=>document.querySelector(`${ut}.ion-cloned-element`),ze=ut=>ut.shadowRoot||ut,et=ut=>{const Be="ION-TABS"===ut.tagName?ut:ut.querySelector("ion-tabs"),Qe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Be){const ct=Be.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ct?ct.querySelector(Qe):null}return ut.querySelector(Qe)},Pe=(ut,Be)=>{const Qe="ION-TABS"===ut.tagName?ut:ut.querySelector("ion-tabs");let ct=[];if(null!=Qe){const at=Qe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=at&&(ct=at.querySelectorAll("ion-buttons"))}else ct=ut.querySelectorAll("ion-buttons");for(const at of ct){const lt=at.closest("ion-header"),De=lt&&!lt.classList.contains("header-collapse-condense-inactive"),Le=at.querySelector("ion-back-button"),nt=at.classList.contains("buttons-collapse");if(null!==Le&&("start"===at.slot||""===at.slot)&&(nt&&De&&Be||!nt))return Le}return null},Ge=(ut,Be,Qe,ct,at,lt,De,Le,nt)=>{var _t,xt;const Ie=Be?`calc(100% - ${at.right+4}px)`:at.left-4+"px",At=Be?"right":"left",Vt=Be?"left":"right",Qt=Be?"right":"left";let yn=1,en=1,Dn=`scale(${en})`;const Et="scale(1)";if(lt&&De){const Ot=(null===(_t=lt.textContent)||void 0===_t?void 0:_t.trim())===(null===(xt=Le.textContent)||void 0===xt?void 0:xt.trim());yn=nt.width/De.width,en=(nt.height-it)/De.height,Dn=Ot?`scale(${yn}, ${en})`:`scale(${en})`}const xe=ze(ct).querySelector("ion-icon").getBoundingClientRect(),ee=Be?xe.width/2-(xe.right-at.right)+"px":at.left-xe.width/2+"px",oe=Be?`-${window.innerWidth-at.right}px`:`${at.left}px`,fe=`${nt.top}px`,le=`${at.top}px`,tt=Qe?[{offset:0,transform:`translate3d(${oe}, ${le}, 0)`},{offset:1,transform:`translate3d(${ee}, ${fe}, 0)`}]:[{offset:0,transform:`translate3d(${ee}, ${fe}, 0)`},{offset:1,transform:`translate3d(${oe}, ${le}, 0)`}],Nt=Qe?[{offset:0,opacity:1,transform:Et},{offset:1,opacity:0,transform:Dn}]:[{offset:0,opacity:0,transform:Dn},{offset:1,opacity:1,transform:Et}],pr=Qe?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Sn=(0,c.c)(),zn=(0,c.c)(),Xn=(0,c.c)(),Kn=Ce("ion-back-button"),Wt=ze(Kn).querySelector(".button-text"),kt=ze(Kn).querySelector("ion-icon");Kn.text=ct.text,Kn.mode=ct.mode,Kn.icon=ct.icon,Kn.color=ct.color,Kn.disabled=ct.disabled,Kn.style.setProperty("display","block"),Kn.style.setProperty("position","fixed"),zn.addElement(kt),Sn.addElement(Wt),Xn.addElement(Kn),Xn.beforeStyles({position:"absolute",top:"0px",[Qt]:"0px"}).beforeAddWrite(()=>{ct.style.setProperty("display","none"),Kn.style.setProperty(At,Ie)}).afterAddWrite(()=>{ct.style.setProperty("display",""),Kn.style.setProperty("display","none"),Kn.style.removeProperty(At)}).keyframes(tt),Sn.beforeStyles({"transform-origin":`${At} top`}).keyframes(Nt),zn.beforeStyles({"transform-origin":`${Vt} center`}).keyframes(pr),ut.addAnimation([Sn,zn,Xn])},Ke=(ut,Be,Qe,ct,at,lt,De,Le,nt)=>{var _t,xt;const Ie=Be?"right":"left",At=Be?`calc(100% - ${at.right}px)`:`${at.left}px`,Qt=`${at.top}px`;let en=Be?`-${window.innerWidth-De.right-8}px`:`${De.x+8}px`,Dn=.5;const Et="scale(1)";let we=`scale(${Dn})`;if(Le&&nt){en=Be?`-${window.innerWidth-nt.right-8}px`:nt.x-8+"px";const He=(null===(_t=Le.textContent)||void 0===_t?void 0:_t.trim())===(null===(xt=ct.textContent)||void 0===xt?void 0:xt.trim());Dn=nt.height/(lt.height-it),we=He?`scale(${nt.width/lt.width}, ${Dn})`:`scale(${Dn})`}const oe=De.top+De.height/2-at.height*Dn/2+"px",be=Qe?[{offset:0,opacity:0,transform:`translate3d(${en}, ${oe}, 0) ${we}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Qt}, 0) ${Et}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Qt}, 0) ${Et}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${en}, ${oe}, 0) ${we}`}],Se=Ce("ion-title"),tt=(0,c.c)();Se.innerText=ct.innerText,Se.size=ct.size,Se.color=ct.color,tt.addElement(Se),tt.beforeStyles({"transform-origin":`${Ie} top`,height:`${at.height}px`,display:"",position:"relative",[Ie]:At}).beforeAddWrite(()=>{ct.style.setProperty("opacity","0")}).afterAddWrite(()=>{ct.style.setProperty("opacity",""),Se.style.setProperty("display","none")}).keyframes(be),ut.addAnimation(tt)},qe=(ut,Be)=>{var Qe;try{const ct="cubic-bezier(0.32,0.72,0,1)",at="opacity",lt="transform",De="0%",nt="rtl"===ut.ownerDocument.dir,_t=nt?"-99.5%":"99.5%",xt=nt?"33%":"-33%",Ie=Be.enteringEl,At=Be.leavingEl,Vt="back"===Be.direction,Qt=Ie.querySelector(":scope > ion-content"),yn=Ie.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),en=Ie.querySelectorAll(":scope > ion-header > ion-toolbar"),Dn=(0,c.c)(),Et=(0,c.c)();if(Dn.addElement(Ie).duration((null!==(Qe=Be.duration)&&void 0!==Qe?Qe:0)||540).easing(Be.easing||ct).fill("both").beforeRemoveClass("ion-page-invisible"),At&&null!=ut){const oe=(0,c.c)();oe.addElement(ut),Dn.addAnimation(oe)}if(Qt||0!==en.length||0!==yn.length?(Et.addElement(Qt),Et.addElement(yn)):Et.addElement(Ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Dn.addAnimation(Et),Vt?Et.beforeClearStyles([at]).fromTo("transform",`translateX(${xt})`,`translateX(${De})`).fromTo(at,.8,1):Et.beforeClearStyles([at]).fromTo("transform",`translateX(${_t})`,`translateX(${De})`),Qt){const oe=ze(Qt).querySelector(".transition-effect");if(oe){const fe=oe.querySelector(".transition-cover"),le=oe.querySelector(".transition-shadow"),be=(0,c.c)(),Se=(0,c.c)(),tt=(0,c.c)();be.addElement(oe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Se.addElement(fe).beforeClearStyles([at]).fromTo(at,0,.1),tt.addElement(le).beforeClearStyles([at]).fromTo(at,.03,.7),be.addAnimation([Se,tt]),Et.addAnimation([be])}}const we=Ie.querySelector("ion-header.header-collapse-condense"),{forward:xe,backward:ee}=((ut,Be,Qe,ct,at)=>{const lt=Pe(ct,Qe),De=et(at),Le=et(ct),nt=Pe(at,Qe),_t=null!==lt&&null!==De&&!Qe,xt=null!==Le&&null!==nt&&Qe;if(_t){const Ie=De.getBoundingClientRect(),At=lt.getBoundingClientRect(),Vt=ze(lt).querySelector(".button-text"),Qt=null==Vt?void 0:Vt.getBoundingClientRect(),en=ze(De).querySelector(".toolbar-title").getBoundingClientRect();Ke(ut,Be,Qe,De,Ie,en,At,Vt,Qt),Ge(ut,Be,Qe,lt,At,Vt,Qt,De,en)}else if(xt){const Ie=Le.getBoundingClientRect(),At=nt.getBoundingClientRect(),Vt=ze(nt).querySelector(".button-text"),Qt=null==Vt?void 0:Vt.getBoundingClientRect(),en=ze(Le).querySelector(".toolbar-title").getBoundingClientRect();Ke(ut,Be,Qe,Le,Ie,en,At,Vt,Qt),Ge(ut,Be,Qe,nt,At,Vt,Qt,Le,en)}return{forward:_t,backward:xt}})(Dn,nt,Vt,Ie,At);if(en.forEach(oe=>{const fe=(0,c.c)();fe.addElement(oe),Dn.addAnimation(fe);const le=(0,c.c)();le.addElement(oe.querySelector("ion-title"));const be=(0,c.c)(),Se=Array.from(oe.querySelectorAll("ion-buttons,[menuToggle]")),tt=oe.closest("ion-header"),He=null==tt?void 0:tt.classList.contains("header-collapse-condense-inactive");let dt;dt=Se.filter(Vt?Sn=>{const zn=Sn.classList.contains("buttons-collapse");return zn&&!He||!zn}:Sn=>!Sn.classList.contains("buttons-collapse")),be.addElement(dt);const Nt=(0,c.c)();Nt.addElement(oe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const dn=(0,c.c)();dn.addElement(ze(oe).querySelector(".toolbar-background"));const In=(0,c.c)(),pr=oe.querySelector("ion-back-button");if(pr&&In.addElement(pr),fe.addAnimation([le,be,Nt,dn,In]),be.fromTo(at,.01,1),Nt.fromTo(at,.01,1),Vt)He||le.fromTo("transform",`translateX(${xt})`,`translateX(${De})`).fromTo(at,.01,1),Nt.fromTo("transform",`translateX(${xt})`,`translateX(${De})`),In.fromTo(at,.01,1);else if(we||le.fromTo("transform",`translateX(${_t})`,`translateX(${De})`).fromTo(at,.01,1),Nt.fromTo("transform",`translateX(${_t})`,`translateX(${De})`),dn.beforeClearStyles([at,"transform"]),(null==tt?void 0:tt.translucent)?dn.fromTo("transform",nt?"translateX(-100%)":"translateX(100%)","translateX(0px)"):dn.fromTo(at,.01,"var(--opacity)"),xe||In.fromTo(at,.01,1),pr&&!xe){const zn=(0,c.c)();zn.addElement(ze(pr).querySelector(".button-text")).fromTo("transform",nt?"translateX(-100px)":"translateX(100px)","translateX(0px)"),fe.addAnimation(zn)}}),At){const oe=(0,c.c)(),fe=At.querySelector(":scope > ion-content"),le=At.querySelectorAll(":scope > ion-header > ion-toolbar"),be=At.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(fe||0!==le.length||0!==be.length?(oe.addElement(fe),oe.addElement(be)):oe.addElement(At.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Dn.addAnimation(oe),Vt){oe.beforeClearStyles([at]).fromTo("transform",`translateX(${De})`,nt?"translateX(-100%)":"translateX(100%)");const Se=(0,h.g)(At);Dn.afterAddWrite(()=>{"normal"===Dn.getDirection()&&Se.style.setProperty("display","none")})}else oe.fromTo("transform",`translateX(${De})`,`translateX(${xt})`).fromTo(at,1,.8);if(fe){const Se=ze(fe).querySelector(".transition-effect");if(Se){const tt=Se.querySelector(".transition-cover"),He=Se.querySelector(".transition-shadow"),dt=(0,c.c)(),Nt=(0,c.c)(),dn=(0,c.c)();dt.addElement(Se).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Nt.addElement(tt).beforeClearStyles([at]).fromTo(at,.1,0),dn.addElement(He).beforeClearStyles([at]).fromTo(at,.7,.03),dt.addAnimation([Nt,dn]),oe.addAnimation([dt])}}le.forEach(Se=>{const tt=(0,c.c)();tt.addElement(Se);const He=(0,c.c)();He.addElement(Se.querySelector("ion-title"));const dt=(0,c.c)(),Nt=Se.querySelectorAll("ion-buttons,[menuToggle]"),dn=Se.closest("ion-header"),In=null==dn?void 0:dn.classList.contains("header-collapse-condense-inactive"),pr=Array.from(Nt).filter(kt=>{const Ot=kt.classList.contains("buttons-collapse");return Ot&&!In||!Ot});dt.addElement(pr);const Sn=(0,c.c)(),zn=Se.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");zn.length>0&&Sn.addElement(zn);const Xn=(0,c.c)();Xn.addElement(ze(Se).querySelector(".toolbar-background"));const Kn=(0,c.c)(),Wt=Se.querySelector("ion-back-button");if(Wt&&Kn.addElement(Wt),tt.addAnimation([He,dt,Sn,Kn,Xn]),Dn.addAnimation(tt),Kn.fromTo(at,.99,0),dt.fromTo(at,.99,0),Sn.fromTo(at,.99,0),Vt){if(In||He.fromTo("transform",`translateX(${De})`,nt?"translateX(-100%)":"translateX(100%)").fromTo(at,.99,0),Sn.fromTo("transform",`translateX(${De})`,nt?"translateX(-100%)":"translateX(100%)"),Xn.beforeClearStyles([at,"transform"]),(null==dn?void 0:dn.translucent)?Xn.fromTo("transform","translateX(0px)",nt?"translateX(-100%)":"translateX(100%)"):Xn.fromTo(at,"var(--opacity)",0),Wt&&!ee){const Ot=(0,c.c)();Ot.addElement(ze(Wt).querySelector(".button-text")).fromTo("transform",`translateX(${De})`,`translateX(${(nt?-124:124)+"px"})`),tt.addAnimation(Ot)}}else In||He.fromTo("transform",`translateX(${De})`,`translateX(${xt})`).fromTo(at,.99,0).afterClearStyles([lt,at]),Sn.fromTo("transform",`translateX(${De})`,`translateX(${xt})`).afterClearStyles([lt,at]),Kn.afterClearStyles([at]),He.afterClearStyles([at]),dt.afterClearStyles([at])})}return Dn}catch(ct){throw ct}},it=10},3615:(vn,vt,L)=>{"use strict";L.r(vt),L.d(vt,{mdTransitionAnimation:()=>ge});var c=L(9986),h=L(3604);L(8476),L(9483),L(4261);const ge=(Ce,ze)=>{var et,Pe,pe;const qe="back"===ze.direction,ut=ze.leavingEl,Be=(0,h.g)(ze.enteringEl),Qe=Be.querySelector("ion-toolbar"),ct=(0,c.c)();if(ct.addElement(Be).fill("both").beforeRemoveClass("ion-page-invisible"),qe?ct.duration((null!==(et=ze.duration)&&void 0!==et?et:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):ct.duration((null!==(Pe=ze.duration)&&void 0!==Pe?Pe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Qe){const at=(0,c.c)();at.addElement(Qe),ct.addAnimation(at)}if(ut&&qe){ct.duration((null!==(pe=ze.duration)&&void 0!==pe?pe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const at=(0,c.c)();at.addElement((0,h.g)(ut)).onFinish(lt=>{1===lt&&at.elements.length>0&&at.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),ct.addAnimation(at)}return ct}},9440:(vn,vt,L)=>{"use strict";L.d(vt,{B:()=>Nt,F:()=>Kn,G:()=>dn,O:()=>In,a:()=>Be,b:()=>Qe,c:()=>De,d:()=>pr,e:()=>Sn,f:()=>xe,g:()=>oe,h:()=>be,i:()=>tt,j:()=>nt,k:()=>_t,l:()=>ct,m:()=>at,n:()=>Pe,o:()=>Et,q:()=>pe,s:()=>dt,t:()=>Le});var c=L(467),h=L(8476),F=L(4920),Re=L(7192),ue=L(9483),ge=L(8621),Ce=L(1970),ze=L(4929);const et='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Pe=(Wt,kt)=>{const Ot=Wt.querySelector(et);Ge(Ot,null!=kt?kt:Wt)},pe=(Wt,kt)=>{const Ot=Array.from(Wt.querySelectorAll(et));Ge(Ot.length>0?Ot[Ot.length-1]:null,null!=kt?kt:Wt)},Ge=(Wt,kt)=>{let Ot=Wt;const fn=null==Wt?void 0:Wt.shadowRoot;fn&&(Ot=fn.querySelector(et)||Wt),Ot?(0,F.f)(Ot):kt.focus()};let Ke=0,qe=0;const it=new WeakMap,ut=Wt=>({create:kt=>xt(Wt,kt),dismiss:(kt,Ot,fn)=>yn(document,kt,Ot,Wt,fn),getTop:()=>(0,c.A)(function*(){return Et(document,Wt)})()}),Be=ut("ion-alert"),Qe=ut("ion-action-sheet"),ct=ut("ion-loading"),at=ut("ion-modal"),De=ut("ion-popover"),Le=ut("ion-toast"),nt=Wt=>{typeof document<"u"&&Qt(document);const kt=Ke++;Wt.overlayIndex=kt},_t=Wt=>(Wt.hasAttribute("id")||(Wt.id="ion-overlay-"+ ++qe),Wt.id),xt=(Wt,kt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Wt).then(()=>{const Ot=document.createElement(Wt);return Ot.classList.add("overlay-hidden"),Object.assign(Ot,Object.assign(Object.assign({},kt),{hasController:!0})),fe(document).appendChild(Ot),new Promise(fn=>(0,F.c)(Ot,fn))}):Promise.resolve(),At=(Wt,kt)=>{let Ot=Wt;const fn=null==Wt?void 0:Wt.shadowRoot;fn&&(Ot=fn.querySelector(et)||Wt),Ot?(0,F.f)(Ot):kt.focus()},Qt=Wt=>{0===Ke&&(Ke=1,Wt.addEventListener("focus",kt=>{((Wt,kt)=>{const Ot=Et(kt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),fn=Wt.target;Ot&&fn&&!Ot.classList.contains(Kn)&&(Ot.shadowRoot?(()=>{if(Ot.contains(fn))Ot.lastFocus=fn;else if("ION-TOAST"===fn.tagName)At(Ot.lastFocus,Ot);else{const Zn=Ot.lastFocus;Pe(Ot),Zn===kt.activeElement&&pe(Ot),Ot.lastFocus=kt.activeElement}})():(()=>{if(Ot===fn)Ot.lastFocus=void 0;else if("ION-TOAST"===fn.tagName)At(Ot.lastFocus,Ot);else{const Zn=(0,F.g)(Ot);if(!Zn.contains(fn))return;const Cn=Zn.querySelector(".ion-overlay-wrapper");if(!Cn)return;if(Cn.contains(fn)||fn===Zn.querySelector("ion-backdrop"))Ot.lastFocus=fn;else{const En=Ot.lastFocus;Pe(Cn,Ot),En===kt.activeElement&&pe(Cn,Ot),Ot.lastFocus=kt.activeElement}}})())})(kt,Wt)},!0),Wt.addEventListener("ionBackButton",kt=>{const Ot=Et(Wt);null!=Ot&&Ot.backdropDismiss&&kt.detail.register(Re.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Ot.dismiss(void 0,Nt)})}),(0,Re.shouldUseCloseWatcher)()||Wt.addEventListener("keydown",kt=>{if("Escape"===kt.key){const Ot=Et(Wt);null!=Ot&&Ot.backdropDismiss&&Ot.dismiss(void 0,Nt)}}))},yn=(Wt,kt,Ot,fn,Bt)=>{const hr=Et(Wt,fn,Bt);return hr?hr.dismiss(kt,Ot):Promise.reject("overlay does not exist")},Dn=(Wt,kt)=>((Wt,kt)=>(void 0===kt&&(kt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Wt.querySelectorAll(kt)).filter(Ot=>Ot.overlayIndex>0)))(Wt,kt).filter(Ot=>!(Wt=>Wt.classList.contains("overlay-hidden"))(Ot)),Et=(Wt,kt,Ot)=>{const fn=Dn(Wt,kt);return void 0===Ot?fn[fn.length-1]:fn.find(Bt=>Bt.id===Ot)},we=(Wt=!1)=>{const Ot=fe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ot&&(Wt?Ot.setAttribute("aria-hidden","true"):Ot.removeAttribute("aria-hidden"))},xe=function(){var Wt=(0,c.A)(function*(kt,Ot,fn,Bt,hr){var Zn,Cn;if(kt.presented)return;we(!0),document.body.classList.add(Ce.B),zn(kt.el),kt.presented=!0,kt.willPresent.emit(),null===(Zn=kt.willPresentShorthand)||void 0===Zn||Zn.emit();const En=(0,ue.b)(kt),Wn=kt.enterAnimation?kt.enterAnimation:ue.c.get(Ot,"ios"===En?fn:Bt);(yield le(kt,Wn,kt.el,hr))&&(kt.didPresent.emit(),null===(Cn=kt.didPresentShorthand)||void 0===Cn||Cn.emit()),"ION-TOAST"!==kt.el.tagName&&ee(kt.el),kt.keyboardClose&&(null===document.activeElement||!kt.el.contains(document.activeElement))&&kt.el.focus(),kt.el.removeAttribute("aria-hidden")});return function(Ot,fn,Bt,hr,Zn){return Wt.apply(this,arguments)}}(),ee=function(){var Wt=(0,c.A)(function*(kt){let Ot=document.activeElement;if(!Ot)return;const fn=null==Ot?void 0:Ot.shadowRoot;fn&&(Ot=fn.querySelector(et)||Ot),yield kt.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Ot.focus()});return function(Ot){return Wt.apply(this,arguments)}}(),oe=function(){var Wt=(0,c.A)(function*(kt,Ot,fn,Bt,hr,Zn,Cn){var En,Wn;if(!kt.presented)return!1;void 0!==h.d&&1===Dn(h.d).length&&(we(!1),document.body.classList.remove(Ce.B)),kt.presented=!1;try{kt.el.style.setProperty("pointer-events","none"),kt.willDismiss.emit({data:Ot,role:fn}),null===(En=kt.willDismissShorthand)||void 0===En||En.emit({data:Ot,role:fn});const $n=(0,ue.b)(kt),Vn=kt.leaveAnimation?kt.leaveAnimation:ue.c.get(Bt,"ios"===$n?hr:Zn);fn!==dn&&(yield le(kt,Vn,kt.el,Cn)),kt.didDismiss.emit({data:Ot,role:fn}),null===(Wn=kt.didDismissShorthand)||void 0===Wn||Wn.emit({data:Ot,role:fn}),(it.get(kt)||[]).forEach(Fr=>Fr.destroy()),it.delete(kt),kt.el.classList.add("overlay-hidden"),kt.el.style.removeProperty("pointer-events"),void 0!==kt.el.lastFocus&&(kt.el.lastFocus=void 0)}catch($n){console.error($n)}return kt.el.remove(),Xn(),!0});return function(Ot,fn,Bt,hr,Zn,Cn,En){return Wt.apply(this,arguments)}}(),fe=Wt=>Wt.querySelector("ion-app")||Wt.body,le=function(){var Wt=(0,c.A)(function*(kt,Ot,fn,Bt){fn.classList.remove("overlay-hidden");const Zn=Ot(kt.el,Bt);(!kt.animated||!ue.c.getBoolean("animated",!0))&&Zn.duration(0),kt.keyboardClose&&Zn.beforeAddWrite(()=>{const En=fn.ownerDocument.activeElement;null!=En&&En.matches("input,ion-input, ion-textarea")&&En.blur()});const Cn=it.get(kt)||[];return it.set(kt,[...Cn,Zn]),yield Zn.play(),!0});return function(Ot,fn,Bt,hr){return Wt.apply(this,arguments)}}(),be=(Wt,kt)=>{let Ot;const fn=new Promise(Bt=>Ot=Bt);return Se(Wt,kt,Bt=>{Ot(Bt.detail)}),fn},Se=(Wt,kt,Ot)=>{const fn=Bt=>{(0,F.b)(Wt,kt,fn),Ot(Bt)};(0,F.a)(Wt,kt,fn)},tt=Wt=>"cancel"===Wt||Wt===Nt,He=Wt=>Wt(),dt=(Wt,kt)=>{if("function"==typeof Wt)return ue.c.get("_zoneGate",He)(()=>{try{return Wt(kt)}catch(fn){throw fn}})},Nt="backdrop",dn="gesture",In=39,pr=Wt=>{let Ot,kt=!1;const fn=(0,ge.C)(),Bt=(Cn=!1)=>{if(Ot&&!Cn)return{delegate:Ot,inline:kt};const{el:En,hasController:Wn,delegate:lr}=Wt;return kt=null!==En.parentNode&&!Wn,Ot=kt?lr||fn:lr,{inline:kt,delegate:Ot}};return{attachViewToDom:function(){var Cn=(0,c.A)(function*(En){const{delegate:Wn}=Bt(!0);if(Wn)return yield Wn.attachViewToDom(Wt.el,En);const{hasController:lr}=Wt;if(lr&&void 0!==En)throw new Error("framework delegate is missing");return null});return function(Wn){return Cn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Cn}=Bt();Cn&&void 0!==Wt.el&&Cn.removeViewFromDom(Wt.el.parentElement,Wt.el)}}},Sn=()=>{let Wt;const kt=()=>{Wt&&(Wt(),Wt=void 0)};return{addClickListener:(fn,Bt)=>{kt();const hr=void 0!==Bt?document.getElementById(Bt):null;hr?Wt=((Cn,En)=>{const Wn=()=>{En.present()};return Cn.addEventListener("click",Wn),()=>{Cn.removeEventListener("click",Wn)}})(hr,fn):(0,ze.p)(`A trigger element with the ID "${Bt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,fn)},removeClickListener:kt}},zn=Wt=>{var kt;if(void 0===h.d)return;const Ot=Dn(h.d);for(let fn=Ot.length-1;fn>=0;fn--){const Bt=Ot[fn],hr=null!==(kt=Ot[fn+1])&&void 0!==kt?kt:Wt;(hr.hasAttribute("aria-hidden")||"ION-TOAST"!==hr.tagName)&&Bt.setAttribute("aria-hidden","true")}},Xn=()=>{if(void 0===h.d)return;const Wt=Dn(h.d);for(let kt=Wt.length-1;kt>=0;kt--){const Ot=Wt[kt];if(Ot.removeAttribute("aria-hidden"),"ION-TOAST"!==Ot.tagName)break}},Kn="ion-disable-focus-trap"},1288:(vn,vt,L)=>{"use strict";L.d(vt,{H:()=>Qe,b:()=>hr,c:()=>De,f:()=>pr,g:()=>lt,h:()=>ut,p:()=>nr,r:()=>fr});var c=L(467);let F,Re,ue=!1,ge=!1;const Pe={},qe=R=>"object"==(R=typeof R)||"function"===R;function it(R){var k,ce,se;return null!==(se=null===(ce=null===(k=R.head)||void 0===k?void 0:k.querySelector('meta[name="csp-nonce"]'))||void 0===ce?void 0:ce.getAttribute("content"))&&void 0!==se?se:void 0}const ut=(R,k,...ce)=>{let se=null,Ye=!1,bt=!1;const Lt=[],hn=gn=>{for(let on=0;on<gn.length;on++)se=gn[on],Array.isArray(se)?hn(se):null!=se&&"boolean"!=typeof se&&((Ye="function"!=typeof R&&!qe(se))&&(se=String(se)),Ye&&bt?Lt[Lt.length-1].$text$+=se:Lt.push(Ye?Be(null,se):se),bt=Ye)};if(hn(ce),k){const gn=k.className||k.class;gn&&(k.class="object"!=typeof gn?gn:Object.keys(gn).filter(on=>gn[on]).join(" "))}const rn=Be(R,null);return rn.$attrs$=k,Lt.length>0&&(rn.$children$=Lt),rn},Be=(R,k)=>({$flags$:0,$tag$:R,$text$:k,$elm$:null,$children$:null,$attrs$:null}),Qe={},lt=R=>Vn(R).$hostElement$,De=(R,k,ce)=>{const se=lt(R);return{emit:Ye=>Le(se,k,{bubbles:!!(4&ce),composed:!!(2&ce),cancelable:!!(1&ce),detail:Ye})}},Le=(R,k,ce)=>{const se=yt.ce(k,ce);return R.dispatchEvent(se),se},nt=new WeakMap,At=(R,k)=>"sc-"+R.$tagName$,Vt=(R,k,ce,se,Ye,bt)=>{if(ce!==se){let Lt=sr(R,k),hn=k.toLowerCase();if("class"===k){const rn=R.classList,gn=yn(ce),on=yn(se);rn.remove(...gn.filter(er=>er&&!on.includes(er))),rn.add(...on.filter(er=>er&&!gn.includes(er)))}else if("style"===k){for(const rn in ce)(!se||null==se[rn])&&(rn.includes("-")?R.style.removeProperty(rn):R.style[rn]="");for(const rn in se)(!ce||se[rn]!==ce[rn])&&(rn.includes("-")?R.style.setProperty(rn,se[rn]):R.style[rn]=se[rn])}else if("ref"===k)se&&se(R);else if(Lt||"o"!==k[0]||"n"!==k[1]){const rn=qe(se);if((Lt||rn&&null!==se)&&!Ye)try{if(R.tagName.includes("-"))R[k]=se;else{const gn=null==se?"":se;"list"===k?Lt=!1:(null==ce||R[k]!=gn)&&(R[k]=gn)}}catch{}null==se||!1===se?(!1!==se||""===R.getAttribute(k))&&R.removeAttribute(k):(!Lt||4&bt||Ye)&&!rn&&R.setAttribute(k,se=!0===se?"":se)}else k="-"===k[2]?k.slice(3):sr(Lr,hn)?hn.slice(2):hn[2]+k.slice(3),ce&&yt.rel(R,k,ce,!1),se&&yt.ael(R,k,se,!1)}},Qt=/\s/,yn=R=>R?R.split(Qt):[],en=(R,k,ce,se)=>{const Ye=11===k.$elm$.nodeType&&k.$elm$.host?k.$elm$.host:k.$elm$,bt=R&&R.$attrs$||Pe,Lt=k.$attrs$||Pe;for(se in bt)se in Lt||Vt(Ye,se,bt[se],void 0,ce,k.$flags$);for(se in Lt)Vt(Ye,se,bt[se],Lt[se],ce,k.$flags$)},Dn=(R,k,ce,se)=>{const Ye=k.$children$[ce];let Lt,hn,bt=0;if(null!==Ye.$text$)Lt=Ye.$elm$=Bn.createTextNode(Ye.$text$);else{if(ue||(ue="svg"===Ye.$tag$),Lt=Ye.$elm$=Bn.createElementNS(ue?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",Ye.$tag$),ue&&"foreignObject"===Ye.$tag$&&(ue=!1),en(null,Ye,ue),(R=>null!=R)(F)&&Lt["s-si"]!==F&&Lt.classList.add(Lt["s-si"]=F),Ye.$children$)for(bt=0;bt<Ye.$children$.length;++bt)hn=Dn(R,Ye,bt),hn&&Lt.appendChild(hn);"svg"===Ye.$tag$?ue=!1:"foreignObject"===Lt.tagName&&(ue=!0)}return Lt},Et=(R,k,ce,se,Ye,bt)=>{let hn,Lt=R;for(Lt.shadowRoot&&Lt.tagName===Re&&(Lt=Lt.shadowRoot);Ye<=bt;++Ye)se[Ye]&&(hn=Dn(null,ce,Ye),hn&&(se[Ye].$elm$=hn,Lt.insertBefore(hn,k)))},we=(R,k,ce)=>{for(let se=k;se<=ce;++se){const Ye=R[se];if(Ye){const bt=Ye.$elm$;fe(Ye),bt&&bt.remove()}}},ee=(R,k)=>R.$tag$===k.$tag$,oe=(R,k)=>{const ce=k.$elm$=R.$elm$,se=R.$children$,Ye=k.$children$,bt=k.$tag$,Lt=k.$text$;null===Lt?(ue="svg"===bt||"foreignObject"!==bt&&ue,en(R,k,ue),null!==se&&null!==Ye?((R,k,ce,se)=>{let Tn,Ye=0,bt=0,Lt=k.length-1,hn=k[0],rn=k[Lt],gn=se.length-1,on=se[0],er=se[gn];for(;Ye<=Lt&&bt<=gn;)null==hn?hn=k[++Ye]:null==rn?rn=k[--Lt]:null==on?on=se[++bt]:null==er?er=se[--gn]:ee(hn,on)?(oe(hn,on),hn=k[++Ye],on=se[++bt]):ee(rn,er)?(oe(rn,er),rn=k[--Lt],er=se[--gn]):ee(hn,er)?(oe(hn,er),R.insertBefore(hn.$elm$,rn.$elm$.nextSibling),hn=k[++Ye],er=se[--gn]):ee(rn,on)?(oe(rn,on),R.insertBefore(rn.$elm$,hn.$elm$),rn=k[--Lt],on=se[++bt]):(Tn=Dn(k&&k[bt],ce,bt),on=se[++bt],Tn&&hn.$elm$.parentNode.insertBefore(Tn,hn.$elm$));Ye>Lt?Et(R,null==se[gn+1]?null:se[gn+1].$elm$,ce,se,bt,gn):bt>gn&&we(k,Ye,Lt)})(ce,se,k,Ye):null!==Ye?(null!==R.$text$&&(ce.textContent=""),Et(ce,null,k,Ye,0,Ye.length-1)):null!==se&&we(se,0,se.length-1),ue&&"svg"===bt&&(ue=!1)):R.$text$!==Lt&&(ce.data=Lt)},fe=R=>{R.$attrs$&&R.$attrs$.ref&&R.$attrs$.ref(null),R.$children$&&R.$children$.map(fe)},be=(R,k)=>{k&&!R.$onRenderResolve$&&k["s-p"]&&k["s-p"].push(new Promise(ce=>R.$onRenderResolve$=ce))},Se=(R,k)=>{if(R.$flags$|=16,!(4&R.$flags$))return be(R,R.$ancestorComponent$),W(()=>tt(R,k));R.$flags$|=512},tt=(R,k)=>{const se=R.$lazyInstance$;return k&&(R.$flags$|=256,R.$queuedListeners$&&(R.$queuedListeners$.map(([bt,Lt])=>zn(se,bt,Lt)),R.$queuedListeners$=void 0)),He(void 0,()=>Nt(R,se,k))},He=(R,k)=>dt(R)?R.then(k):k(),dt=R=>R instanceof Promise||R&&R.then&&"function"==typeof R.then,Nt=function(){var R=(0,c.A)(function*(k,ce,se){var Ye;const bt=k.$hostElement$,hn=bt["s-rc"];se&&(R=>{const k=R.$cmpMeta$,ce=R.$hostElement$,se=k.$flags$,bt=((R,k)=>{var Ye;let bt=At(k);const Lt=or.get(bt);if(R=11===R.nodeType?R:Bn,Lt)if("string"==typeof Lt){let rn,hn=nt.get(R=R.head||R);if(hn||nt.set(R,hn=new Set),!hn.has(bt)){{rn=Bn.createElement("style"),rn.innerHTML=Lt;const gn=null!==(Ye=yt.$nonce$)&&void 0!==Ye?Ye:it(Bn);null!=gn&&rn.setAttribute("nonce",gn),R.insertBefore(rn,R.querySelector("link"))}hn&&hn.add(bt)}}else R.adoptedStyleSheets.includes(Lt)||(R.adoptedStyleSheets=[...R.adoptedStyleSheets,Lt]);return bt})(ce.shadowRoot?ce.shadowRoot:ce.getRootNode(),k);10&se&&(ce["s-sc"]=bt,ce.classList.add(bt+"-h"))})(k);dn(k,ce),hn&&(hn.map(gn=>gn()),bt["s-rc"]=void 0);{const gn=null!==(Ye=bt["s-p"])&&void 0!==Ye?Ye:[],on=()=>In(k);0===gn.length?on():(Promise.all(gn).then(on),k.$flags$|=4,gn.length=0)}});return function(ce,se,Ye){return R.apply(this,arguments)}}(),dn=(R,k,ce)=>{try{k=k.render(),R.$flags$&=-17,R.$flags$|=2,((R,k)=>{const ce=R.$hostElement$,se=R.$vnode$||Be(null,null),Ye=(R=>R&&R.$tag$===Qe)(k)?k:ut(null,null,k);Re=ce.tagName,Ye.$tag$=null,Ye.$flags$|=4,R.$vnode$=Ye,Ye.$elm$=se.$elm$=ce.shadowRoot||ce,F=ce["s-sc"],oe(se,Ye)})(R,k)}catch(se){Er(se,R.$hostElement$)}return null},In=R=>{const ce=R.$hostElement$,Ye=R.$lazyInstance$,bt=R.$ancestorComponent$;64&R.$flags$||(R.$flags$|=64,Xn(ce),zn(Ye,"componentDidLoad"),R.$onReadyResolve$(ce),bt||Sn()),R.$onInstanceResolve$(ce),R.$onRenderResolve$&&(R.$onRenderResolve$(),R.$onRenderResolve$=void 0),512&R.$flags$&&Ue(()=>Se(R,!1)),R.$flags$&=-517},pr=R=>{{const k=Vn(R),ce=k.$hostElement$.isConnected;return ce&&2==(18&k.$flags$)&&Se(k,!1),ce}},Sn=R=>{Xn(Bn.documentElement),Ue(()=>Le(Lr,"appload",{detail:{namespace:"ionicpwaelements"}}))},zn=(R,k,ce)=>{if(R&&R[k])try{return R[k](ce)}catch(se){Er(se)}},Xn=R=>R.classList.add("hydrated"),kt=(R,k,ce)=>{if(k.$members$){const se=Object.entries(k.$members$),Ye=R.prototype;if(se.map(([bt,[Lt]])=>{31&Lt||2&ce&&32&Lt?Object.defineProperty(Ye,bt,{get(){return((R,k)=>Vn(this).$instanceValues$.get(k))(0,bt)},set(hn){((R,k,ce,se)=>{const Ye=Vn(R),bt=Ye.$instanceValues$.get(k),Lt=Ye.$flags$,hn=Ye.$lazyInstance$;ce=((R,k)=>null==R||qe(R)?R:4&k?"false"!==R&&(""===R||!!R):2&k?parseFloat(R):1&k?String(R):R)(ce,se.$members$[k][0]);const rn=Number.isNaN(bt)&&Number.isNaN(ce);(!(8&Lt)||void 0===bt)&&ce!==bt&&!rn&&(Ye.$instanceValues$.set(k,ce),hn&&2==(18&Lt)&&Se(Ye,!1))})(this,bt,hn,k)},configurable:!0,enumerable:!0}):1&ce&&64&Lt&&Object.defineProperty(Ye,bt,{value(...hn){const rn=Vn(this);return rn.$onInstancePromise$.then(()=>rn.$lazyInstance$[bt](...hn))}})}),1&ce){const bt=new Map;Ye.attributeChangedCallback=function(Lt,hn,rn){yt.jmp(()=>{const gn=bt.get(Lt);if(this.hasOwnProperty(gn))rn=this[gn],delete this[gn];else if(Ye.hasOwnProperty(gn)&&"number"==typeof this[gn]&&this[gn]==rn)return;this[gn]=(null!==rn||"boolean"!=typeof this[gn])&&rn})},R.observedAttributes=se.filter(([Lt,hn])=>15&hn[0]).map(([Lt,hn])=>{const rn=hn[1]||Lt;return bt.set(rn,Lt),rn})}}return R},Ot=function(){var R=(0,c.A)(function*(k,ce,se,Ye,bt){if(!(32&ce.$flags$)){ce.$flags$|=32;{if((bt=Gr(se)).then){const gn=()=>{};bt=yield bt,gn()}bt.isProxied||(kt(bt,se,2),bt.isProxied=!0);const rn=()=>{};ce.$flags$|=8;try{new bt(ce)}catch(gn){Er(gn)}ce.$flags$&=-9,rn()}if(bt.style){let rn=bt.style;const gn=At(se);if(!or.has(gn)){const on=()=>{};((R,k,ce)=>{let se=or.get(R);rr&&ce?(se=se||new CSSStyleSheet,"string"==typeof se?se=k:se.replaceSync(k)):se=k,or.set(R,se)})(gn,rn,!!(1&se.$flags$)),on()}}}const Lt=ce.$ancestorComponent$,hn=()=>Se(ce,!0);Lt&&Lt["s-rc"]?Lt["s-rc"].push(hn):hn()});return function(ce,se,Ye,bt,Lt){return R.apply(this,arguments)}}(),hr=(R,k={})=>{var ce;const Ye=[],bt=k.exclude||[],Lt=Lr.customElements,hn=Bn.head,rn=hn.querySelector("meta[charset]"),gn=Bn.createElement("style"),on=[];let er,Tn=!0;Object.assign(yt,k),yt.$resourcesUrl$=new URL(k.resourcesUrl||"./",Bn.baseURI).href,R.map(xn=>{xn[1].map(Qr=>{const _r={$flags$:Qr[0],$tagName$:Qr[1],$members$:Qr[2],$listeners$:Qr[3]};_r.$members$=Qr[2],_r.$listeners$=Qr[3];const Mn=_r.$tagName$,Ti=class extends HTMLElement{constructor(ur){super(ur),Fr(ur=this,_r),1&_r.$flags$&&ur.attachShadow({mode:"open"})}connectedCallback(){er&&(clearTimeout(er),er=null),Tn?on.push(this):yt.jmp(()=>(R=>{if(!(1&yt.$flags$)){const k=Vn(R),ce=k.$cmpMeta$,se=()=>{};if(1&k.$flags$)Zn(R,k,ce.$listeners$);else{k.$flags$|=1;{let Ye=R;for(;Ye=Ye.parentNode||Ye.host;)if(Ye["s-p"]){be(k,k.$ancestorComponent$=Ye);break}}ce.$members$&&Object.entries(ce.$members$).map(([Ye,[bt]])=>{if(31&bt&&R.hasOwnProperty(Ye)){const Lt=R[Ye];delete R[Ye],R[Ye]=Lt}}),Ot(R,k,ce)}se()}})(this))}disconnectedCallback(){yt.jmp(()=>(()=>{if(!(1&yt.$flags$)){const k=Vn(this),ce=k.$lazyInstance$;k.$rmListeners$&&(k.$rmListeners$.map(se=>se()),k.$rmListeners$=void 0),zn(ce,"disconnectedCallback")}})())}componentOnReady(){return Vn(this).$onReadyPromise$}};_r.$lazyBundleId$=xn[0],!bt.includes(Mn)&&!Lt.get(Mn)&&(Ye.push(Mn),Lt.define(Mn,kt(Ti,_r,1)))})});{gn.innerHTML=Ye+"{visibility:hidden}.hydrated{visibility:inherit}",gn.setAttribute("data-styles","");const xn=null!==(ce=yt.$nonce$)&&void 0!==ce?ce:it(Bn);null!=xn&&gn.setAttribute("nonce",xn),hn.insertBefore(gn,rn?rn.nextSibling:hn.firstChild)}Tn=!1,on.length?on.map(xn=>xn.connectedCallback()):yt.jmp(()=>er=setTimeout(Sn,30))},Zn=(R,k,ce,se)=>{ce&&ce.map(([Ye,bt,Lt])=>{const hn=En(R,Ye),rn=Cn(k,Lt),gn=Wn(Ye);yt.ael(hn,bt,rn,gn),(k.$rmListeners$=k.$rmListeners$||[]).push(()=>yt.rel(hn,bt,rn,gn))})},Cn=(R,k)=>ce=>{try{256&R.$flags$?R.$lazyInstance$[k](ce):(R.$queuedListeners$=R.$queuedListeners$||[]).push([k,ce])}catch(se){Er(se)}},En=(R,k)=>16&k?Bn.body:R,Wn=R=>!!(2&R),$n=new WeakMap,Vn=R=>$n.get(R),fr=(R,k)=>$n.set(k.$lazyInstance$=R,k),Fr=(R,k)=>{const ce={$flags$:0,$hostElement$:R,$cmpMeta$:k,$instanceValues$:new Map};return ce.$onInstancePromise$=new Promise(se=>ce.$onInstanceResolve$=se),ce.$onReadyPromise$=new Promise(se=>ce.$onReadyResolve$=se),R["s-p"]=[],R["s-rc"]=[],Zn(R,ce,k.$listeners$),$n.set(R,ce)},sr=(R,k)=>k in R,Er=(R,k)=>(0,console.error)(R,k),mn=new Map,Gr=(R,k,ce)=>{const se=R.$tagName$.replace(/-/g,"_"),Ye=R.$lazyBundleId$,bt=mn.get(Ye);if(bt)return bt[se];if(!ce||!BUILD.hotModuleReplacement){const Lt=hn=>(mn.set(Ye,hn),hn[se]);switch(Ye){case"pwa-action-sheet":return L.e(6301).then(L.bind(L,6301)).then(Lt,Er);case"pwa-camera-modal":return L.e(2982).then(L.bind(L,2982)).then(Lt,Er);case"pwa-toast":return L.e(3574).then(L.bind(L,3574)).then(Lt,Er);case"pwa-camera-modal-instance":return L.e(5640).then(L.bind(L,5640)).then(Lt,Er);case"pwa-camera":return L.e(6086).then(L.bind(L,6086)).then(Lt,Er)}}return L(5235)(`./${Ye}.entry.js`).then(Lt=>(mn.set(Ye,Lt),Lt[se]),Er)},or=new Map,Lr=typeof window<"u"?window:{},Bn=Lr.document||{head:{}},yt={$flags$:0,$resourcesUrl$:"",jmp:R=>R(),raf:R=>requestAnimationFrame(R),ael:(R,k,ce,se)=>R.addEventListener(k,ce,se),rel:(R,k,ce,se)=>R.removeEventListener(k,ce,se),ce:(R,k)=>new CustomEvent(R,k)},nr=R=>Promise.resolve(R),rr=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),St=[],Fe=[],rt=(R,k)=>ce=>{R.push(ce),ge||(ge=!0,k&&4&yt.$flags$?Ue(ke):yt.raf(ke))},ot=R=>{for(let k=0;k<R.length;k++)try{R[k](performance.now())}catch(ce){Er(ce)}R.length=0},ke=()=>{ot(St),ot(Fe),(ge=St.length>0)&&yt.raf(ke)},Ue=R=>nr().then(R),W=rt(Fe,!0)},4950:(vn,vt,L)=>{"use strict";L.d(vt,{u2:()=>F});var c=L(1288);const F=(Re,ue)=>typeof window>"u"?Promise.resolve():(0,c.p)().then(()=>(0,c.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],ue))},385:(vn,vt,L)=>{"use strict";L.d(vt,{f:()=>aE});var c=L(467),h=L(4438),F=L(9842),ue=(L(2438),L(177)),ge=L(5407),Ce=L(9253),ze=L(1413),et=L(7673),Pe=L(1985),pe=L(8455),Ge=L(6365),Ke=L(8750),qe=L(983),it=L(3794),Be=L(941),Qe=L(5558),ct=L(6354),at=L(6129);class lt extends ze.B{constructor(t=1/0,r=1/0,s=at.U){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:s,_infiniteTimeWindow:u,_timestampProvider:f,_windowTime:m}=this;r||(s.push(t),!u&&s.push(f.now()+m)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:u}=this,f=u.slice();for(let m=0;m<f.length&&!t.closed;m+=s?1:2)t.next(f[m]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:s,_infiniteTimeWindow:u}=this,f=(u?1:2)*t;if(t<1/0&&f<s.length&&s.splice(0,s.length-f),!u){const m=r.now();let E=0;for(let P=1;P<s.length&&s[P]<=m;P+=2)E=P;E&&s.splice(0,E+1)}}}var De=L(7707),Le=L(9974);function _t(a,t,...r){if(!0===t)return void a();if(!1===t)return;const s=new De.Ms({next:()=>{s.unsubscribe(),a()}});return(0,Ke.Tg)(t(...r)).subscribe(s)}function xt(a,t,r){let s,u=!1;return a&&"object"==typeof a?({bufferSize:s=1/0,windowTime:t=1/0,refCount:u=!1,scheduler:r}=a):s=null!=a?a:1/0,function nt(a={}){const{connector:t=()=>new ze.B,resetOnError:r=!0,resetOnComplete:s=!0,resetOnRefCountZero:u=!0}=a;return f=>{let m,E,P,K=0,re=!1,Ae=!1;const Xe=()=>{null==E||E.unsubscribe(),E=void 0},Ct=()=>{Xe(),m=P=void 0,re=Ae=!1},jt=()=>{const sn=m;Ct(),null==sn||sn.unsubscribe()};return(0,Le.N)((sn,Xt)=>{K++,!Ae&&!re&&Xe();const Rn=P=null!=P?P:t();Xt.add(()=>{K--,0===K&&!Ae&&!re&&(E=_t(jt,u))}),Rn.subscribe(Xt),!m&&K>0&&(m=new De.Ms({next:Gn=>Rn.next(Gn),error:Gn=>{Ae=!0,Xe(),E=_t(Ct,r,Gn),Rn.error(Gn)},complete:()=>{re=!0,Xe(),E=_t(Ct,s),Rn.complete()}}),(0,Ke.Tg)(sn).subscribe(m))})(f)}}({connector:()=>new lt(s,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}var Ie=L(1594),At=L(8071);function Vt(a,t){return(0,At.T)(t)?(0,Qe.n)(()=>a,t):(0,Qe.n)(()=>a)}var Qt=L(6745),yn=L(5964);L(7935);const Et=new h.nKC("angularfire2.auth.use-emulator"),we=new h.nKC("angularfire2.auth.settings"),xe=new h.nKC("angularfire2.auth.tenant-id"),ee=new h.nKC("angularfire2.auth.langugage-code"),oe=new h.nKC("angularfire2.auth.use-device-language"),fe=new h.nKC("angularfire.auth.persistence"),le=(a,t,r,s,u,f,m,E)=>(0,Ce.BM)(`${a.name}.auth`,"AngularFireAuth",a.name,()=>{const P=t.runOutsideAngular(()=>a.auth());if(r&&P.useEmulator(...r),s&&(P.tenantId=s),P.languageCode=u,f&&P.useDeviceLanguage(),m)for(const[K,re]of Object.entries(m))P.settings[K]=re;return E&&P.setPersistence(E),P},[r,s,u,f,m,E]);let be=(()=>{var a;class t{constructor(s,u,f,m,E,P,K,re,Ae,Xe,Ct,jt){(0,F.A)(this,"authState",void 0),(0,F.A)(this,"idToken",void 0),(0,F.A)(this,"user",void 0),(0,F.A)(this,"idTokenResult",void 0),(0,F.A)(this,"credential",void 0);const sn=new ze.B,Xt=(0,et.of)(void 0).pipe((0,Be.Q)(E.outsideAngular),(0,Qe.n)(()=>m.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,2438)))),(0,ct.T)(()=>(0,Ce.iB)(s,m,u)),(0,ct.T)(Rn=>le(Rn,m,P,re,Ae,Xe,K,Ct)),xt({bufferSize:1,refCount:!1}));if((0,ue.Vy)(f))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,et.of)(null);else{Xt.pipe((0,Ie.$)()).subscribe();const Rn=Xt.pipe((0,Qe.n)(Pn=>Pn.getRedirectResult().then(yr=>yr,()=>null)),ge.U0,xt({bufferSize:1,refCount:!1})),Gn=Xt.pipe((0,Qe.n)(Pn=>new Pe.c(yr=>({unsubscribe:m.runOutsideAngular(()=>Pn.onAuthStateChanged(ar=>yr.next(ar),ar=>yr.error(ar),()=>yr.complete()))})))),kn=Xt.pipe((0,Qe.n)(Pn=>new Pe.c(yr=>({unsubscribe:m.runOutsideAngular(()=>Pn.onIdTokenChanged(ar=>yr.next(ar),ar=>yr.error(ar),()=>yr.complete()))}))));this.authState=Rn.pipe(Vt(Gn),(0,Qt._)(E.outsideAngular),(0,Be.Q)(E.insideAngular)),this.user=Rn.pipe(Vt(kn),(0,Qt._)(E.outsideAngular),(0,Be.Q)(E.insideAngular)),this.idToken=this.user.pipe((0,Qe.n)(Pn=>Pn?(0,pe.H)(Pn.getIdToken()):(0,et.of)(null))),this.idTokenResult=this.user.pipe((0,Qe.n)(Pn=>Pn?(0,pe.H)(Pn.getIdTokenResult()):(0,et.of)(null))),this.credential=function ut(...a){const t=(0,it.lI)(a),r=(0,it.R0)(a,1/0),s=a;return s.length?1===s.length?(0,Ke.Tg)(s[0]):(0,Ge.U)(r)((0,pe.H)(s,t)):qe.w}(Rn,sn,this.authState.pipe((0,yn.p)(Pn=>!Pn))).pipe((0,ct.T)(Pn=>null!=Pn&&Pn.user?Pn:null),(0,Qt._)(E.outsideAngular),(0,Be.Q)(E.insideAngular))}return(0,Ce.Gt)(this,Xt,m,{spy:{apply:(Rn,Gn,kn)=>{(Rn.startsWith("signIn")||Rn.startsWith("createUser"))&&kn.then(Pn=>sn.next(Pn))}}})}}return a=t,(0,F.A)(t,"\u0275fac",function(s){return new(s||a)(h.KVO(Ce.rx),h.KVO(Ce.uP,8),h.KVO(h.Agw),h.KVO(h.SKi),h.KVO(ge.u0),h.KVO(Et,8),h.KVO(we,8),h.KVO(xe,8),h.KVO(ee,8),h.KVO(oe,8),h.KVO(fe,8),h.KVO(ge.Jv,8))}),(0,F.A)(t,"\u0275prov",h.jDH({token:a,factory:a.\u0275fac,providedIn:"any"})),t})();var tt=L(5504),He=L(7852),dt=L(1076),Nt=L(8041),dn=L(1362),In=L(3236),pr=L(9172),Sn=L(4360);function zn(){return(0,Le.N)((a,t)=>{let r,s=!1;a.subscribe((0,Sn._)(t,u=>{const f=r;r=u,s&&t.next([f,u]),s=!0}))})}var fn,Bt,Xn=L(2816),Kn=L(3294),Wt=L(3345),kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ot={};(function(){var a;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Tt,Je,pt){pt||(pt=0);var Rt=Array(16);if("string"==typeof Je)for(var Mt=0;16>Mt;++Mt)Rt[Mt]=Je.charCodeAt(pt++)|Je.charCodeAt(pt++)<<8|Je.charCodeAt(pt++)<<16|Je.charCodeAt(pt++)<<24;else for(Mt=0;16>Mt;++Mt)Rt[Mt]=Je[pt++]|Je[pt++]<<8|Je[pt++]<<16|Je[pt++]<<24;var Ut=Tt.g[3],ft=(Je=Tt.g[0])+(Ut^(pt=Tt.g[1])&((Mt=Tt.g[2])^Ut))+Rt[0]+3614090360&4294967295;ft=(pt=(Mt=(Ut=(Je=(pt=(Mt=(Ut=(Je=(pt=(Mt=(Ut=(Je=(pt=(Mt=(Ut=(Je=(pt=(Mt=(Ut=(Je=(pt=(Mt=(Ut=(Je=(pt=(Mt=(Ut=(Je=(pt=(Mt=(Ut=(Je=(pt=(Mt=(Ut=(Je=(pt=(Mt=(Ut=(Je=(pt=(Mt=(Ut=(Je=(pt=(Mt=(Ut=(Je=(pt=(Mt=(Ut=(Je=(pt=(Mt=(Ut=(Je=(pt=(Mt=(Ut=(Je=pt+(ft<<7&4294967295|ft>>>25))+((ft=Ut+(Mt^Je&(pt^Mt))+Rt[1]+3905402710&4294967295)<<12&4294967295|ft>>>20))+((ft=Mt+(pt^Ut&(Je^pt))+Rt[2]+606105819&4294967295)<<17&4294967295|ft>>>15))+((ft=pt+(Je^Mt&(Ut^Je))+Rt[3]+3250441966&4294967295)<<22&4294967295|ft>>>10))+((ft=Je+(Ut^pt&(Mt^Ut))+Rt[4]+4118548399&4294967295)<<7&4294967295|ft>>>25))+((ft=Ut+(Mt^Je&(pt^Mt))+Rt[5]+1200080426&4294967295)<<12&4294967295|ft>>>20))+((ft=Mt+(pt^Ut&(Je^pt))+Rt[6]+2821735955&4294967295)<<17&4294967295|ft>>>15))+((ft=pt+(Je^Mt&(Ut^Je))+Rt[7]+4249261313&4294967295)<<22&4294967295|ft>>>10))+((ft=Je+(Ut^pt&(Mt^Ut))+Rt[8]+1770035416&4294967295)<<7&4294967295|ft>>>25))+((ft=Ut+(Mt^Je&(pt^Mt))+Rt[9]+2336552879&4294967295)<<12&4294967295|ft>>>20))+((ft=Mt+(pt^Ut&(Je^pt))+Rt[10]+4294925233&4294967295)<<17&4294967295|ft>>>15))+((ft=pt+(Je^Mt&(Ut^Je))+Rt[11]+2304563134&4294967295)<<22&4294967295|ft>>>10))+((ft=Je+(Ut^pt&(Mt^Ut))+Rt[12]+1804603682&4294967295)<<7&4294967295|ft>>>25))+((ft=Ut+(Mt^Je&(pt^Mt))+Rt[13]+4254626195&4294967295)<<12&4294967295|ft>>>20))+((ft=Mt+(pt^Ut&(Je^pt))+Rt[14]+2792965006&4294967295)<<17&4294967295|ft>>>15))+((ft=pt+(Je^Mt&(Ut^Je))+Rt[15]+1236535329&4294967295)<<22&4294967295|ft>>>10))+((ft=Je+(Mt^Ut&(pt^Mt))+Rt[1]+4129170786&4294967295)<<5&4294967295|ft>>>27))+((ft=Ut+(pt^Mt&(Je^pt))+Rt[6]+3225465664&4294967295)<<9&4294967295|ft>>>23))+((ft=Mt+(Je^pt&(Ut^Je))+Rt[11]+643717713&4294967295)<<14&4294967295|ft>>>18))+((ft=pt+(Ut^Je&(Mt^Ut))+Rt[0]+3921069994&4294967295)<<20&4294967295|ft>>>12))+((ft=Je+(Mt^Ut&(pt^Mt))+Rt[5]+3593408605&4294967295)<<5&4294967295|ft>>>27))+((ft=Ut+(pt^Mt&(Je^pt))+Rt[10]+38016083&4294967295)<<9&4294967295|ft>>>23))+((ft=Mt+(Je^pt&(Ut^Je))+Rt[15]+3634488961&4294967295)<<14&4294967295|ft>>>18))+((ft=pt+(Ut^Je&(Mt^Ut))+Rt[4]+3889429448&4294967295)<<20&4294967295|ft>>>12))+((ft=Je+(Mt^Ut&(pt^Mt))+Rt[9]+568446438&4294967295)<<5&4294967295|ft>>>27))+((ft=Ut+(pt^Mt&(Je^pt))+Rt[14]+3275163606&4294967295)<<9&4294967295|ft>>>23))+((ft=Mt+(Je^pt&(Ut^Je))+Rt[3]+4107603335&4294967295)<<14&4294967295|ft>>>18))+((ft=pt+(Ut^Je&(Mt^Ut))+Rt[8]+1163531501&4294967295)<<20&4294967295|ft>>>12))+((ft=Je+(Mt^Ut&(pt^Mt))+Rt[13]+2850285829&4294967295)<<5&4294967295|ft>>>27))+((ft=Ut+(pt^Mt&(Je^pt))+Rt[2]+4243563512&4294967295)<<9&4294967295|ft>>>23))+((ft=Mt+(Je^pt&(Ut^Je))+Rt[7]+1735328473&4294967295)<<14&4294967295|ft>>>18))+((ft=pt+(Ut^Je&(Mt^Ut))+Rt[12]+2368359562&4294967295)<<20&4294967295|ft>>>12))+((ft=Je+(pt^Mt^Ut)+Rt[5]+4294588738&4294967295)<<4&4294967295|ft>>>28))+((ft=Ut+(Je^pt^Mt)+Rt[8]+2272392833&4294967295)<<11&4294967295|ft>>>21))+((ft=Mt+(Ut^Je^pt)+Rt[11]+1839030562&4294967295)<<16&4294967295|ft>>>16))+((ft=pt+(Mt^Ut^Je)+Rt[14]+4259657740&4294967295)<<23&4294967295|ft>>>9))+((ft=Je+(pt^Mt^Ut)+Rt[1]+2763975236&4294967295)<<4&4294967295|ft>>>28))+((ft=Ut+(Je^pt^Mt)+Rt[4]+1272893353&4294967295)<<11&4294967295|ft>>>21))+((ft=Mt+(Ut^Je^pt)+Rt[7]+4139469664&4294967295)<<16&4294967295|ft>>>16))+((ft=pt+(Mt^Ut^Je)+Rt[10]+3200236656&4294967295)<<23&4294967295|ft>>>9))+((ft=Je+(pt^Mt^Ut)+Rt[13]+681279174&4294967295)<<4&4294967295|ft>>>28))+((ft=Ut+(Je^pt^Mt)+Rt[0]+3936430074&4294967295)<<11&4294967295|ft>>>21))+((ft=Mt+(Ut^Je^pt)+Rt[3]+3572445317&4294967295)<<16&4294967295|ft>>>16))+((ft=pt+(Mt^Ut^Je)+Rt[6]+76029189&4294967295)<<23&4294967295|ft>>>9))+((ft=Je+(pt^Mt^Ut)+Rt[9]+3654602809&4294967295)<<4&4294967295|ft>>>28))+((ft=Ut+(Je^pt^Mt)+Rt[12]+3873151461&4294967295)<<11&4294967295|ft>>>21))+((ft=Mt+(Ut^Je^pt)+Rt[15]+530742520&4294967295)<<16&4294967295|ft>>>16))+((ft=pt+(Mt^Ut^Je)+Rt[2]+3299628645&4294967295)<<23&4294967295|ft>>>9))+((ft=Je+(Mt^(pt|~Ut))+Rt[0]+4096336452&4294967295)<<6&4294967295|ft>>>26))+((ft=Ut+(pt^(Je|~Mt))+Rt[7]+1126891415&4294967295)<<10&4294967295|ft>>>22))+((ft=Mt+(Je^(Ut|~pt))+Rt[14]+2878612391&4294967295)<<15&4294967295|ft>>>17))+((ft=pt+(Ut^(Mt|~Je))+Rt[5]+4237533241&4294967295)<<21&4294967295|ft>>>11))+((ft=Je+(Mt^(pt|~Ut))+Rt[12]+1700485571&4294967295)<<6&4294967295|ft>>>26))+((ft=Ut+(pt^(Je|~Mt))+Rt[3]+2399980690&4294967295)<<10&4294967295|ft>>>22))+((ft=Mt+(Je^(Ut|~pt))+Rt[10]+4293915773&4294967295)<<15&4294967295|ft>>>17))+((ft=pt+(Ut^(Mt|~Je))+Rt[1]+2240044497&4294967295)<<21&4294967295|ft>>>11))+((ft=Je+(Mt^(pt|~Ut))+Rt[8]+1873313359&4294967295)<<6&4294967295|ft>>>26))+((ft=Ut+(pt^(Je|~Mt))+Rt[15]+4264355552&4294967295)<<10&4294967295|ft>>>22))+((ft=Mt+(Je^(Ut|~pt))+Rt[6]+2734768916&4294967295)<<15&4294967295|ft>>>17))+((ft=pt+(Ut^(Mt|~Je))+Rt[13]+1309151649&4294967295)<<21&4294967295|ft>>>11))+((Ut=(Je=pt+((ft=Je+(Mt^(pt|~Ut))+Rt[4]+4149444226&4294967295)<<6&4294967295|ft>>>26))+((ft=Ut+(pt^(Je|~Mt))+Rt[11]+3174756917&4294967295)<<10&4294967295|ft>>>22))^((Mt=Ut+((ft=Mt+(Je^(Ut|~pt))+Rt[2]+718787259&4294967295)<<15&4294967295|ft>>>17))|~Je))+Rt[9]+3951481745&4294967295,Tt.g[0]=Tt.g[0]+Je&4294967295,Tt.g[1]=Tt.g[1]+(Mt+(ft<<21&4294967295|ft>>>11))&4294967295,Tt.g[2]=Tt.g[2]+Mt&4294967295,Tt.g[3]=Tt.g[3]+Ut&4294967295}function m(Tt,Je){this.h=Je;for(var pt=[],Rt=!0,Mt=Tt.length-1;0<=Mt;Mt--){var Ut=0|Tt[Mt];Rt&&Ut==Je||(pt[Mt]=Ut,Rt=!1)}this.g=pt}(function t(Tt,Je){function pt(){}pt.prototype=Je.prototype,Tt.D=Je.prototype,Tt.prototype=new pt,Tt.prototype.constructor=Tt,Tt.C=function(Rt,Mt,Ut){for(var ft=Array(arguments.length-2),_u=2;_u<arguments.length;_u++)ft[_u-2]=arguments[_u];return Je.prototype[Mt].apply(Rt,ft)}})(s,function r(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(Tt,Je){void 0===Je&&(Je=Tt.length);for(var pt=Je-this.blockSize,Rt=this.B,Mt=this.h,Ut=0;Ut<Je;){if(0==Mt)for(;Ut<=pt;)u(this,Tt,Ut),Ut+=this.blockSize;if("string"==typeof Tt){for(;Ut<Je;)if(Rt[Mt++]=Tt.charCodeAt(Ut++),Mt==this.blockSize){u(this,Rt),Mt=0;break}}else for(;Ut<Je;)if(Rt[Mt++]=Tt[Ut++],Mt==this.blockSize){u(this,Rt),Mt=0;break}}this.h=Mt,this.o+=Je},s.prototype.v=function(){var Tt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Tt[0]=128;for(var Je=1;Je<Tt.length-8;++Je)Tt[Je]=0;var pt=8*this.o;for(Je=Tt.length-8;Je<Tt.length;++Je)Tt[Je]=255&pt,pt/=256;for(this.u(Tt),Tt=Array(16),Je=pt=0;4>Je;++Je)for(var Rt=0;32>Rt;Rt+=8)Tt[pt++]=this.g[Je]>>>Rt&255;return Tt};var E={};function P(Tt){return-128<=Tt&&128>Tt?function f(Tt,Je){var pt=E;return Object.prototype.hasOwnProperty.call(pt,Tt)?pt[Tt]:pt[Tt]=Je(Tt)}(Tt,function(Je){return new m([0|Je],0>Je?-1:0)}):new m([0|Tt],0>Tt?-1:0)}function K(Tt){if(isNaN(Tt)||!isFinite(Tt))return Ae;if(0>Tt)return Xt(K(-Tt));for(var Je=[],pt=1,Rt=0;Tt>=pt;Rt++)Je[Rt]=Tt/pt|0,pt*=4294967296;return new m(Je,0)}var Ae=P(0),Xe=P(1),Ct=P(16777216);function jt(Tt){if(0!=Tt.h)return!1;for(var Je=0;Je<Tt.g.length;Je++)if(0!=Tt.g[Je])return!1;return!0}function sn(Tt){return-1==Tt.h}function Xt(Tt){for(var Je=Tt.g.length,pt=[],Rt=0;Rt<Je;Rt++)pt[Rt]=~Tt.g[Rt];return new m(pt,~Tt.h).add(Xe)}function Rn(Tt,Je){return Tt.add(Xt(Je))}function Gn(Tt,Je){for(;(65535&Tt[Je])!=Tt[Je];)Tt[Je+1]+=Tt[Je]>>>16,Tt[Je]&=65535,Je++}function kn(Tt,Je){this.g=Tt,this.h=Je}function Pn(Tt,Je){if(jt(Je))throw Error("division by zero");if(jt(Tt))return new kn(Ae,Ae);if(sn(Tt))return Je=Pn(Xt(Tt),Je),new kn(Xt(Je.g),Xt(Je.h));if(sn(Je))return Je=Pn(Tt,Xt(Je)),new kn(Xt(Je.g),Je.h);if(30<Tt.g.length){if(sn(Tt)||sn(Je))throw Error("slowDivide_ only works with positive integers.");for(var pt=Xe,Rt=Je;0>=Rt.l(Tt);)pt=yr(pt),Rt=yr(Rt);var Mt=ar(pt,1),Ut=ar(Rt,1);for(Rt=ar(Rt,2),pt=ar(pt,2);!jt(Rt);){var ft=Ut.add(Rt);0>=ft.l(Tt)&&(Mt=Mt.add(pt),Ut=ft),Rt=ar(Rt,1),pt=ar(pt,1)}return Je=Rn(Tt,Mt.j(Je)),new kn(Mt,Je)}for(Mt=Ae;0<=Tt.l(Je);){for(pt=Math.max(1,Math.floor(Tt.m()/Je.m())),Rt=48>=(Rt=Math.ceil(Math.log(pt)/Math.LN2))?1:Math.pow(2,Rt-48),ft=(Ut=K(pt)).j(Je);sn(ft)||0<ft.l(Tt);)ft=(Ut=K(pt-=Rt)).j(Je);jt(Ut)&&(Ut=Xe),Mt=Mt.add(Ut),Tt=Rn(Tt,ft)}return new kn(Mt,Tt)}function yr(Tt){for(var Je=Tt.g.length+1,pt=[],Rt=0;Rt<Je;Rt++)pt[Rt]=Tt.i(Rt)<<1|Tt.i(Rt-1)>>>31;return new m(pt,Tt.h)}function ar(Tt,Je){var pt=Je>>5;Je%=32;for(var Rt=Tt.g.length-pt,Mt=[],Ut=0;Ut<Rt;Ut++)Mt[Ut]=0<Je?Tt.i(Ut+pt)>>>Je|Tt.i(Ut+pt+1)<<32-Je:Tt.i(Ut+pt);return new m(Mt,Tt.h)}(a=m.prototype).m=function(){if(sn(this))return-Xt(this).m();for(var Tt=0,Je=1,pt=0;pt<this.g.length;pt++){var Rt=this.i(pt);Tt+=(0<=Rt?Rt:4294967296+Rt)*Je,Je*=4294967296}return Tt},a.toString=function(Tt){if(2>(Tt=Tt||10)||36<Tt)throw Error("radix out of range: "+Tt);if(jt(this))return"0";if(sn(this))return"-"+Xt(this).toString(Tt);for(var Je=K(Math.pow(Tt,6)),pt=this,Rt="";;){var Mt=Pn(pt,Je).g,Ut=((0<(pt=Rn(pt,Mt.j(Je))).g.length?pt.g[0]:pt.h)>>>0).toString(Tt);if(jt(pt=Mt))return Ut+Rt;for(;6>Ut.length;)Ut="0"+Ut;Rt=Ut+Rt}},a.i=function(Tt){return 0>Tt?0:Tt<this.g.length?this.g[Tt]:this.h},a.l=function(Tt){return sn(Tt=Rn(this,Tt))?-1:jt(Tt)?0:1},a.abs=function(){return sn(this)?Xt(this):this},a.add=function(Tt){for(var Je=Math.max(this.g.length,Tt.g.length),pt=[],Rt=0,Mt=0;Mt<=Je;Mt++){var Ut=Rt+(65535&this.i(Mt))+(65535&Tt.i(Mt)),ft=(Ut>>>16)+(this.i(Mt)>>>16)+(Tt.i(Mt)>>>16);Rt=ft>>>16,pt[Mt]=(ft&=65535)<<16|(Ut&=65535)}return new m(pt,-2147483648&pt[pt.length-1]?-1:0)},a.j=function(Tt){if(jt(this)||jt(Tt))return Ae;if(sn(this))return sn(Tt)?Xt(this).j(Xt(Tt)):Xt(Xt(this).j(Tt));if(sn(Tt))return Xt(this.j(Xt(Tt)));if(0>this.l(Ct)&&0>Tt.l(Ct))return K(this.m()*Tt.m());for(var Je=this.g.length+Tt.g.length,pt=[],Rt=0;Rt<2*Je;Rt++)pt[Rt]=0;for(Rt=0;Rt<this.g.length;Rt++)for(var Mt=0;Mt<Tt.g.length;Mt++){var Ut=this.i(Rt)>>>16,ft=65535&this.i(Rt),_u=Tt.i(Mt)>>>16,Vf=65535&Tt.i(Mt);pt[2*Rt+2*Mt]+=ft*Vf,Gn(pt,2*Rt+2*Mt),pt[2*Rt+2*Mt+1]+=Ut*Vf,Gn(pt,2*Rt+2*Mt+1),pt[2*Rt+2*Mt+1]+=ft*_u,Gn(pt,2*Rt+2*Mt+1),pt[2*Rt+2*Mt+2]+=Ut*_u,Gn(pt,2*Rt+2*Mt+2)}for(Rt=0;Rt<Je;Rt++)pt[Rt]=pt[2*Rt+1]<<16|pt[2*Rt];for(Rt=Je;Rt<2*Je;Rt++)pt[Rt]=0;return new m(pt,0)},a.A=function(Tt){return Pn(this,Tt).h},a.and=function(Tt){for(var Je=Math.max(this.g.length,Tt.g.length),pt=[],Rt=0;Rt<Je;Rt++)pt[Rt]=this.i(Rt)&Tt.i(Rt);return new m(pt,this.h&Tt.h)},a.or=function(Tt){for(var Je=Math.max(this.g.length,Tt.g.length),pt=[],Rt=0;Rt<Je;Rt++)pt[Rt]=this.i(Rt)|Tt.i(Rt);return new m(pt,this.h|Tt.h)},a.xor=function(Tt){for(var Je=Math.max(this.g.length,Tt.g.length),pt=[],Rt=0;Rt<Je;Rt++)pt[Rt]=this.i(Rt)^Tt.i(Rt);return new m(pt,this.h^Tt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Bt=Ot.Md5=s,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=K,m.fromString=function re(Tt,Je){if(0==Tt.length)throw Error("number format error: empty string");if(2>(Je=Je||10)||36<Je)throw Error("radix out of range: "+Je);if("-"==Tt.charAt(0))return Xt(re(Tt.substring(1),Je));if(0<=Tt.indexOf("-"))throw Error('number format error: interior "-" character');for(var pt=K(Math.pow(Je,8)),Rt=Ae,Mt=0;Mt<Tt.length;Mt+=8){var Ut=Math.min(8,Tt.length-Mt),ft=parseInt(Tt.substring(Mt,Mt+Ut),Je);8>Ut?(Ut=K(Math.pow(Je,Ut)),Rt=Rt.j(Ut).add(K(ft))):Rt=(Rt=Rt.j(pt)).add(K(ft))}return Rt},fn=Ot.Integer=m}).apply(typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{});var Cn,Wn,lr,$n,Vn,fr,Fr,sr,hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zn={};(function(){var a,t="function"==typeof Object.defineProperties?Object.defineProperty:function(_,U,Z){return _==Array.prototype||_==Object.prototype||(_[U]=Z.value),_},s=function r(_){_=["object"==typeof globalThis&&globalThis,_,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof hr&&hr];for(var U=0;U<_.length;++U){var Z=_[U];if(Z&&Z.Math==Math)return Z}throw Error("Cannot find global object")}(this);!function u(_,U){if(U)e:{var Z=s;_=_.split(".");for(var Te=0;Te<_.length-1;Te++){var Ft=_[Te];if(!(Ft in Z))break e;Z=Z[Ft]}(U=U(Te=Z[_=_[_.length-1]]))!=Te&&null!=U&&t(Z,_,{configurable:!0,writable:!0,value:U})}}("Array.prototype.values",function(_){return _||function(){return function f(_,U){_ instanceof String&&(_+="");var Z=0,Te=!1,Ft={next:function(){if(!Te&&Z<_.length){var Kt=Z++;return{value:U(Kt,_[Kt]),done:!1}}return Te=!0,{done:!0,value:void 0}}};return Ft[Symbol.iterator]=function(){return Ft},Ft}(this,function(U,Z){return Z})}});var m=m||{},E=this||self;function P(_){var U=typeof _;return"array"==(U="object"!=U?U:_?Array.isArray(_)?"array":U:"null")||"object"==U&&"number"==typeof _.length}function K(_){var U=typeof _;return"object"==U&&null!=_||"function"==U}function re(_,U,Z){return _.call.apply(_.bind,arguments)}function Ae(_,U,Z){if(!_)throw Error();if(2<arguments.length){var Te=Array.prototype.slice.call(arguments,2);return function(){var Ft=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ft,Te),_.apply(U,Ft)}}return function(){return _.apply(U,arguments)}}function Xe(_,U,Z){return(Xe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?re:Ae).apply(null,arguments)}function Ct(_,U){var Z=Array.prototype.slice.call(arguments,1);return function(){var Te=Z.slice();return Te.push.apply(Te,arguments),_.apply(this,Te)}}function jt(_,U){function Z(){}Z.prototype=U.prototype,_.aa=U.prototype,_.prototype=new Z,_.prototype.constructor=_,_.Qb=function(Te,Ft,Kt){for(var Hn=Array(arguments.length-2),Gi=2;Gi<arguments.length;Gi++)Hn[Gi-2]=arguments[Gi];return U.prototype[Ft].apply(Te,Hn)}}function sn(_){const U=_.length;if(0<U){const Z=Array(U);for(let Te=0;Te<U;Te++)Z[Te]=_[Te];return Z}return[]}function Xt(_,U){for(let Z=1;Z<arguments.length;Z++){const Te=arguments[Z];if(P(Te)){const Ft=_.length||0,Kt=Te.length||0;_.length=Ft+Kt;for(let Hn=0;Hn<Kt;Hn++)_[Ft+Hn]=Te[Hn]}else _.push(Te)}}function Gn(_){return/^[\s\xa0]*$/.test(_)}function kn(){var _=E.navigator;return _&&(_=_.userAgent)?_:""}function Pn(_){return Pn[" "](_),_}Pn[" "]=function(){};var yr=!(-1==kn().indexOf("Gecko")||-1!=kn().toLowerCase().indexOf("webkit")&&-1==kn().indexOf("Edge")||-1!=kn().indexOf("Trident")||-1!=kn().indexOf("MSIE")||-1!=kn().indexOf("Edge"));function ar(_,U,Z){for(const Te in _)U.call(Z,_[Te],Te,_)}function Je(_){const U={};for(const Z in _)U[Z]=_[Z];return U}const pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rt(_,U){let Z,Te;for(let Ft=1;Ft<arguments.length;Ft++){for(Z in Te=arguments[Ft],Te)_[Z]=Te[Z];for(let Kt=0;Kt<pt.length;Kt++)Z=pt[Kt],Object.prototype.hasOwnProperty.call(Te,Z)&&(_[Z]=Te[Z])}}function Mt(_){var U=1;_=_.split(":");const Z=[];for(;0<U&&_.length;)Z.push(_.shift()),U--;return _.length&&Z.push(_.join(":")),Z}function Ut(_){E.setTimeout(()=>{throw _},0)}function ft(){var _=uE;let U=null;return _.g&&(U=_.g,_.g=_.g.next,_.g||(_.h=null),U.next=null),U}var Vf=new class Rn{constructor(U,Z){this.i=U,this.j=Z,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}(()=>new lE,_=>_.reset());class lE{constructor(){this.next=this.g=this.h=null}set(U,Z){this.h=U,this.g=Z,this.next=null}reset(){this.next=this.g=this.h=null}}let ch,Uf=!1,uE=new class _u{constructor(){this.h=this.g=null}add(U,Z){const Te=Vf.get();Te.set(U,Z),this.h?this.h.next=Te:this.g=Te,this.h=Te}},cE=()=>{const _=E.Promise.resolve(void 0);ch=()=>{_.then(k_)}};var k_=()=>{for(var _;_=ft();){try{_.h.call(_.g)}catch(Z){Ut(Z)}var U=Vf;U.j(_),100>U.h&&(U.h++,_.next=U.g,U.g=_)}Uf=!1};function Bl(){this.s=this.s,this.C=this.C}function Os(_,U){this.type=_,this.g=this.target=U,this.defaultPrevented=!1}Bl.prototype.s=!1,Bl.prototype.ma=function(){this.s||(this.s=!0,this.N())},Bl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Os.prototype.h=function(){this.defaultPrevented=!0};var cT=function(){if(!E.addEventListener||!Object.defineProperty)return!1;var _=!1,U=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const Z=()=>{};E.addEventListener("test",Z,U),E.removeEventListener("test",Z,U)}catch{}return _}();function $f(_,U){if(Os.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var Z=this.type=_.type,Te=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=U,U=_.relatedTarget){if(yr){e:{try{Pn(U.nodeName);var Ft=!0;break e}catch{}Ft=!1}Ft||(U=null)}}else"mouseover"==Z?U=_.fromElement:"mouseout"==Z&&(U=_.toElement);this.relatedTarget=U,Te?(this.clientX=void 0!==Te.clientX?Te.clientX:Te.pageX,this.clientY=void 0!==Te.clientY?Te.clientY:Te.pageY,this.screenX=Te.screenX||0,this.screenY=Te.screenY||0):(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType="string"==typeof _.pointerType?_.pointerType:dT[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&$f.aa.h.call(this)}}jt($f,Os);var dT={2:"touch",3:"pen",4:"mouse"};$f.prototype.h=function(){$f.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var Bf="closure_listenable_"+(1e6*Math.random()|0),hT=0;function fT(_,U,Z,Te,Ft){this.listener=_,this.proxy=null,this.src=U,this.type=Z,this.capture=!!Te,this.ha=Ft,this.key=++hT,this.da=this.fa=!1}function Kg(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function qg(_){this.src=_,this.g={},this.h=0}function F_(_,U){var Z=U.type;if(Z in _.g){var Kt,Te=_.g[Z],Ft=Array.prototype.indexOf.call(Te,U,void 0);(Kt=0<=Ft)&&Array.prototype.splice.call(Te,Ft,1),Kt&&(Kg(U),0==_.g[Z].length&&(delete _.g[Z],_.h--))}}function L_(_,U,Z,Te){for(var Ft=0;Ft<_.length;++Ft){var Kt=_[Ft];if(!Kt.da&&Kt.listener==U&&Kt.capture==!!Z&&Kt.ha==Te)return Ft}return-1}qg.prototype.add=function(_,U,Z,Te,Ft){var Kt=_.toString();(_=this.g[Kt])||(_=this.g[Kt]=[],this.h++);var Hn=L_(_,U,Te,Ft);return-1<Hn?(U=_[Hn],Z||(U.fa=!1)):((U=new fT(U,this.src,Kt,!!Te,Ft)).fa=Z,_.push(U)),U};var V_="closure_lm_"+(1e6*Math.random()|0),U_={};function dE(_,U,Z,Te,Ft){if(Te&&Te.once)return $_(_,U,Z,Te,Ft);if(Array.isArray(U)){for(var Kt=0;Kt<U.length;Kt++)dE(_,U[Kt],Z,Te,Ft);return null}return Z=Yg(Z),_&&_[Bf]?_.K(U,Z,K(Te)?!!Te.capture:!!Te,Ft):hE(_,U,Z,!1,Te,Ft)}function hE(_,U,Z,Te,Ft,Kt){if(!U)throw Error("Invalid event type");var Hn=K(Ft)?!!Ft.capture:!!Ft,Gi=Qg(_);if(Gi||(_[V_]=Gi=new qg(_)),(Z=Gi.add(U,Z,Te,Hn,Kt)).proxy)return Z;if(Te=function pT(){const U=gT;return function _(Z){return U.call(_.src,_.listener,Z)}}(),Z.proxy=Te,Te.src=_,Te.listener=Z,_.addEventListener)cT||(Ft=Hn),void 0===Ft&&(Ft=!1),_.addEventListener(U.toString(),Te,Ft);else if(_.attachEvent)_.attachEvent(Xg(U.toString()),Te);else{if(!_.addListener||!_.removeListener)throw Error("addEventListener and attachEvent are unavailable.");_.addListener(Te)}return Z}function $_(_,U,Z,Te,Ft){if(Array.isArray(U)){for(var Kt=0;Kt<U.length;Kt++)$_(_,U[Kt],Z,Te,Ft);return null}return Z=Yg(Z),_&&_[Bf]?_.L(U,Z,K(Te)?!!Te.capture:!!Te,Ft):hE(_,U,Z,!0,Te,Ft)}function B_(_,U,Z,Te,Ft){if(Array.isArray(U))for(var Kt=0;Kt<U.length;Kt++)B_(_,U[Kt],Z,Te,Ft);else Te=K(Te)?!!Te.capture:!!Te,Z=Yg(Z),_&&_[Bf]?(_=_.i,(U=String(U).toString())in _.g&&-1<(Z=L_(Kt=_.g[U],Z,Te,Ft))&&(Kg(Kt[Z]),Array.prototype.splice.call(Kt,Z,1),0==Kt.length&&(delete _.g[U],_.h--))):_&&(_=Qg(_))&&(U=_.g[U.toString()],_=-1,U&&(_=L_(U,Z,Te,Ft)),(Z=-1<_?U[_]:null)&&jl(Z))}function jl(_){if("number"!=typeof _&&_&&!_.da){var U=_.src;if(U&&U[Bf])F_(U.i,_);else{var Z=_.type,Te=_.proxy;U.removeEventListener?U.removeEventListener(Z,Te,_.capture):U.detachEvent?U.detachEvent(Xg(Z),Te):U.addListener&&U.removeListener&&U.removeListener(Te),(Z=Qg(U))?(F_(Z,_),0==Z.h&&(Z.src=null,U[V_]=null)):Kg(_)}}}function Xg(_){return _ in U_?U_[_]:U_[_]="on"+_}function gT(_,U){if(_.da)_=!0;else{U=new $f(U,this);var Z=_.listener,Te=_.ha||_.src;_.fa&&jl(_),_=Z.call(Te,U)}return _}function Qg(_){return(_=_[V_])instanceof qg?_:null}var j_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yg(_){return"function"==typeof _?_:(_[j_]||(_[j_]=function(U){return _.handleEvent(U)}),_[j_])}function fs(){Bl.call(this),this.i=new qg(this),this.M=this,this.F=null}function jo(_,U){var Z,Te=_.F;if(Te)for(Z=[];Te;Te=Te.F)Z.push(Te);if(_=_.M,Te=U.type||U,"string"==typeof U)U=new Os(U,_);else if(U instanceof Os)U.target=U.target||_;else{var Ft=U;Rt(U=new Os(Te,_),Ft)}if(Ft=!0,Z)for(var Kt=Z.length-1;0<=Kt;Kt--){var Hn=U.g=Z[Kt];Ft=dh(Hn,Te,!0,U)&&Ft}if(Ft=dh(Hn=U.g=_,Te,!0,U)&&Ft,Ft=dh(Hn,Te,!1,U)&&Ft,Z)for(Kt=0;Kt<Z.length;Kt++)Ft=dh(Hn=U.g=Z[Kt],Te,!1,U)&&Ft}function dh(_,U,Z,Te){if(!(U=_.i.g[String(U)]))return!0;U=U.concat();for(var Ft=!0,Kt=0;Kt<U.length;++Kt){var Hn=U[Kt];if(Hn&&!Hn.da&&Hn.capture==Z){var Gi=Hn.listener,gs=Hn.ha||Hn.src;Hn.fa&&F_(_.i,Hn),Ft=!1!==Gi.call(gs,Te)&&Ft}}return Ft&&!Te.defaultPrevented}function Kc(_,U,Z){if("function"==typeof _)Z&&(_=Xe(_,Z));else{if(!_||"function"!=typeof _.handleEvent)throw Error("Invalid listener argument");_=Xe(_.handleEvent,_)}return 2147483647<Number(U)?-1:E.setTimeout(_,U||0)}function H_(_){_.g=Kc(()=>{_.g=null,_.i&&(_.i=!1,H_(_))},_.l);const U=_.h;_.h=null,_.m.apply(null,U)}jt(fs,Bl),fs.prototype[Bf]=!0,fs.prototype.removeEventListener=function(_,U,Z,Te){B_(this,_,U,Z,Te)},fs.prototype.N=function(){if(fs.aa.N.call(this),this.i){var U,_=this.i;for(U in _.g){for(var Z=_.g[U],Te=0;Te<Z.length;Te++)Kg(Z[Te]);delete _.g[U],_.h--}}this.F=null},fs.prototype.K=function(_,U,Z,Te){return this.i.add(String(_),U,!1,Z,Te)},fs.prototype.L=function(_,U,Z,Te){return this.i.add(String(_),U,!0,Z,Te)};class hh extends Bl{constructor(U,Z){super(),this.m=U,this.l=Z,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:H_(this)}N(){super.N(),this.g&&(E.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qc(_){Bl.call(this),this.h=_,this.g={}}jt(qc,Bl);var Xc=[];function Qc(_){ar(_.g,function(U,Z){this.g.hasOwnProperty(Z)&&jl(U)},_),_.g={}}qc.prototype.N=function(){qc.aa.N.call(this),Qc(this)},qc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ju=E.JSON.stringify,fh=E.JSON.parse,ph=class{stringify(_){return E.JSON.stringify(_,void 0)}parse(_){return E.JSON.parse(_,void 0)}};function ec(){}function Zc(){}ec.prototype.h=null;var Hl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zg(){Os.call(this,"d")}function Jg(){Os.call(this,"c")}jt(Zg,Os),jt(Jg,Os);var tc={},z_=null;function jf(){return z_=z_||new fs}function G_(_){Os.call(this,tc.La,_)}function gh(_){const U=jf();jo(U,new G_(U))}function W_(_,U){Os.call(this,tc.STAT_EVENT,_),this.stat=U}function ks(_){const U=jf();jo(U,new W_(U,_))}function Hf(_,U){Os.call(this,tc.Ma,_),this.size=U}function Ya(_,U){if("function"!=typeof _)throw Error("Fn must not be null and must be a function");return E.setTimeout(function(){_()},U)}function zf(){this.g=!0}function Za(_,U,Z,Te){_.info(function(){return"XMLHTTP TEXT ("+U+"): "+function vT(_,U){if(!_.g)return U;if(!U)return null;try{var Z=JSON.parse(U);if(Z)for(_=0;_<Z.length;_++)if(Array.isArray(Z[_])){var Te=Z[_];if(!(2>Te.length)){var Ft=Te[1];if(Array.isArray(Ft)&&!(1>Ft.length)){var Kt=Ft[0];if("noop"!=Kt&&"stop"!=Kt&&"close"!=Kt)for(var Hn=1;Hn<Ft.length;Hn++)Ft[Hn]=""}}}return Ju(Z)}catch{return U}}(_,Z)+(Te?" "+Te:"")})}tc.La="serverreachability",jt(G_,Os),tc.STAT_EVENT="statevent",jt(W_,Os),tc.Ma="timingevent",jt(Hf,Os),zf.prototype.xa=function(){this.g=!1},zf.prototype.info=function(){};var fE,mh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_T={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function em(){}function nc(_,U,Z,Te){this.j=_,this.i=U,this.l=Z,this.R=Te||1,this.U=new qc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new X_}function X_(){this.i=null,this.g="",this.h=!1}jt(em,ec),em.prototype.g=function(){return new XMLHttpRequest},em.prototype.i=function(){return{}},fE=new em;var pE={},Po={};function tm(_,U,Z){_.L=1,_.v=sm(Wl(U)),_.m=Z,_.P=!0,gE(_,null)}function gE(_,U){_.F=Date.now(),nm(_),_.A=Wl(_.v);var Z=_.A,Te=_.R;Array.isArray(Te)||(Te=[String(Te)]),bE(Z.i,"t",Te),_.C=0,Z=_.j.J,_.h=new X_,_.g=ly(_.j,Z?U:null,!_.m),0<_.O&&(_.M=new hh(Xe(_.Y,_,_.g),_.O)),U=_.U,Z=_.g,Te=_.ca;var Ft="readystatechange";Array.isArray(Ft)||(Ft&&(Xc[0]=Ft.toString()),Ft=Xc);for(var Kt=0;Kt<Ft.length;Kt++){var Hn=dE(Z,Ft[Kt],Te||U.handleEvent,!1,U.h||U);if(!Hn)break;U.g[Hn.key]=Hn}U=_.H?Je(_.H):{},_.m?(_.u||(_.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,U)):(_.u="GET",_.g.ea(_.A,_.u,null,U)),gh(),function mT(_,U,Z,Te,Ft,Kt){_.info(function(){if(_.g)if(Kt)for(var Hn="",Gi=Kt.split("&"),gs=0;gs<Gi.length;gs++){var hi=Gi[gs].split("=");if(1<hi.length){var Fs=hi[0];hi=hi[1];var Ho=Fs.split("_");Hn=2<=Ho.length&&"type"==Ho[1]?Hn+(Fs+"=")+hi+"&":Hn+(Fs+"=redacted&")}}else Hn=null;else Hn=Kt;return"XMLHTTP REQ ("+Te+") [attempt "+Ft+"]: "+U+"\n"+Z+"\n"+Hn})}(_.i,_.u,_.A,_.l,_.R,_.m)}function mE(_){return!!_.g&&"GET"==_.u&&2!=_.L&&_.j.Ca}function vE(_,U){var Z=_.C,Te=U.indexOf("\n",Z);return-1==Te?Po:(Z=Number(U.substring(Z,Te)),isNaN(Z)?pE:(Te+=1)+Z>U.length?Po:(U=U.slice(Te,Te+Z),_.C=Te+Z,U))}function nm(_){_.S=Date.now()+_.I,Q_(_,_.I)}function Q_(_,U){if(null!=_.B)throw Error("WatchDog timer not null");_.B=Ya(Xe(_.ba,_),U)}function rm(_){_.B&&(E.clearTimeout(_.B),_.B=null)}function zl(_){0==_.j.G||_.J||vm(_.j,_)}function Jc(_){rm(_);var U=_.M;U&&"function"==typeof U.ma&&U.ma(),_.M=null,Qc(_.U),_.g&&(U=_.g,_.g=null,U.abort(),U.ma())}function Y_(_,U){try{var Z=_.j;if(0!=Z.G&&(Z.g==_||Gf(Z.h,_)))if(!_.K&&Gf(Z.h,_)&&3==Z.G){try{var Te=Z.Da.g.parse(U)}catch{Te=null}if(Array.isArray(Te)&&3==Te.length){var Ft=Te;if(0==Ft[0]){e:if(!Z.u){if(Z.g){if(!(Z.g.F+3e3<_.F))break e;nd(Z),fm(Z)}iy(Z),ks(18)}}else Z.za=Ft[1],0<Z.za-Z.T&&37500>Ft[2]&&Z.F&&0==Z.v&&!Z.C&&(Z.C=Ya(Xe(Z.Za,Z),6e3));if(1>=yT(Z.h)&&Z.ca){try{Z.ca()}catch{}Z.ca=void 0}}else rd(Z,11)}else if((_.K||Z.g==_)&&nd(Z),!Gn(U))for(Ft=Z.Da.g.parse(U),U=0;U<Ft.length;U++){let hi=Ft[U];if(Z.T=hi[0],hi=hi[1],2==Z.G)if("c"==hi[0]){Z.K=hi[1],Z.ia=hi[2];const Fs=hi[3];null!=Fs&&(Z.la=Fs,Z.j.info("VER="+Z.la));const Ho=hi[4];null!=Ho&&(Z.Aa=Ho,Z.j.info("SVER="+Z.Aa));const Iu=hi[5];null!=Iu&&"number"==typeof Iu&&0<Iu&&(Z.L=Te=1.5*Iu,Z.j.info("backChannelRequestTimeoutMs_="+Te)),Te=Z;const ao=_.g;if(ao){const tp=ao.g?ao.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tp){var Kt=Te.h;Kt.g||-1==tp.indexOf("spdy")&&-1==tp.indexOf("quic")&&-1==tp.indexOf("h2")||(Kt.j=Kt.l,Kt.g=new Set,Kt.h&&(Wf(Kt,Kt.h),Kt.h=null))}if(Te.D){const cy=ao.g?ao.g.getResponseHeader("X-HTTP-Session-Id"):null;cy&&(Te.ya=cy,ro(Te.I,Te.D,cy))}}Z.G=3,Z.l&&Z.l.ua(),Z.ba&&(Z.R=Date.now()-_.F,Z.j.info("Handshake RTT: "+Z.R+"ms"));var Hn=_;if((Te=Z).qa=ay(Te,Te.J?Te.ia:null,Te.W),Hn.K){J_(Te.h,Hn);var Gi=Hn,gs=Te.L;gs&&(Gi.I=gs),Gi.B&&(rm(Gi),nm(Gi)),Te.g=Hn}else ME(Te);0<Z.i.length&&gm(Z)}else"stop"!=hi[0]&&"close"!=hi[0]||rd(Z,7);else 3==Z.G&&("stop"==hi[0]||"close"==hi[0]?"stop"==hi[0]?rd(Z,7):ny(Z):"noop"!=hi[0]&&Z.l&&Z.l.ta(hi),Z.v=0)}gh()}catch{}}nc.prototype.ca=function(_){_=_.target;const U=this.M;U&&3==sc(_)?U.j():this.Y(_)},nc.prototype.Y=function(_){try{if(_==this.g)e:{const Ho=sc(this.g);var U=this.g.Ba();if(this.g.Z(),!(3>Ho)&&(3!=Ho||this.g&&(this.h.h||this.g.oa()||PT(this.g)))){this.J||4!=Ho||7==U||gh(),rm(this);var Z=this.g.Z();this.X=Z;t:if(mE(this)){var Te=PT(this.g);_="";var Ft=Te.length,Kt=4==sc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Jc(this),zl(this);var Hn="";break t}this.h.i=new E.TextDecoder}for(U=0;U<Ft;U++)this.h.h=!0,_+=this.h.i.decode(Te[U],{stream:!(Kt&&U==Ft-1)});Te.length=0,this.h.g+=_,this.C=0,Hn=this.h.g}else Hn=this.g.oa();if(this.o=200==Z,function K_(_,U,Z,Te,Ft,Kt,Hn){_.info(function(){return"XMLHTTP RESP ("+Te+") [ attempt "+Ft+"]: "+U+"\n"+Z+"\n"+Kt+" "+Hn})}(this.i,this.u,this.A,this.l,this.R,Ho,Z),this.o){if(this.T&&!this.K){t:{if(this.g){var Gi,gs=this.g;if((Gi=gs.g?gs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gn(Gi)){var hi=Gi;break t}}hi=null}if(!(Z=hi)){this.o=!1,this.s=3,ks(12),Jc(this),zl(this);break e}Za(this.i,this.l,Z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Y_(this,Z)}if(this.P){let ao;for(Z=!0;!this.J&&this.C<Hn.length;){if(ao=vE(this,Hn),ao==Po){4==Ho&&(this.s=4,ks(14),Z=!1),Za(this.i,this.l,null,"[Incomplete Response]");break}if(ao==pE){this.s=4,ks(15),Za(this.i,this.l,Hn,"[Invalid Chunk]"),Z=!1;break}Za(this.i,this.l,ao,null),Y_(this,ao)}if(mE(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ho||0!=Hn.length||this.h.h||(this.s=1,ks(16),Z=!1),this.o=this.o&&Z,Z){if(0<Hn.length&&!this.W){this.W=!0;var Fs=this.j;Fs.g==this&&Fs.ba&&!Fs.M&&(Fs.j.info("Great, no buffering proxy detected. Bytes received: "+Hn.length),oy(Fs),Fs.M=!0,ks(11))}}else Za(this.i,this.l,Hn,"[Invalid Chunked Response]"),Jc(this),zl(this)}else Za(this.i,this.l,Hn,null),Y_(this,Hn);4==Ho&&Jc(this),this.o&&!this.J&&(4==Ho?vm(this.j,this):(this.o=!1,nm(this)))}else(function MT(_){const U={};_=(_.g&&2<=sc(_)&&_.g.getAllResponseHeaders()||"").split("\r\n");for(let Te=0;Te<_.length;Te++){if(Gn(_[Te]))continue;var Z=Mt(_[Te]);const Ft=Z[0];if("string"!=typeof(Z=Z[1]))continue;Z=Z.trim();const Kt=U[Ft]||[];U[Ft]=Kt,Kt.push(Z)}!function Tt(_,U){for(const Z in _)U.call(void 0,_[Z],Z,_)}(U,function(Te){return Te.join(", ")})})(this.g),400==Z&&0<Hn.indexOf("Unknown SID")?(this.s=3,ks(12)):(this.s=0,ks(13)),Jc(this),zl(this)}}}catch{}},nc.prototype.cancel=function(){this.J=!0,Jc(this)},nc.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(function q_(_,U){_.info(function(){return"TIMEOUT: "+U})}(this.i,this.A),2!=this.L&&(gh(),ks(17)),Jc(this),this.s=2,zl(this)):Q_(this,this.S-_)};var _E=class{constructor(_,U){this.g=_,this.map=U}};function yE(_){this.l=_||10,_=E.PerformanceNavigationTiming?0<(_=E.performance.getEntriesByType("navigation")).length&&("hq"==_[0].nextHopProtocol||"h2"==_[0].nextHopProtocol):!!(E.chrome&&E.chrome.loadTimes&&E.chrome.loadTimes()&&E.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Z_(_){return!!_.h||!!_.g&&_.g.size>=_.j}function yT(_){return _.h?1:_.g?_.g.size:0}function Gf(_,U){return _.h?_.h==U:!!_.g&&_.g.has(U)}function Wf(_,U){_.g?_.g.add(U):_.h=U}function J_(_,U){_.h&&_.h==U?_.h=null:_.g&&_.g.has(U)&&_.g.delete(U)}function im(_){if(null!=_.h)return _.i.concat(_.h.D);if(null!=_.g&&0!==_.g.size){let U=_.i;for(const Z of _.g.values())U=U.concat(Z.D);return U}return sn(_.i)}function IE(_,U){if(_.forEach&&"function"==typeof _.forEach)_.forEach(U,void 0);else if(P(_)||"string"==typeof _)Array.prototype.forEach.call(_,U,void 0);else for(var Z=function IT(_){if(_.na&&"function"==typeof _.na)return _.na();if(!_.V||"function"!=typeof _.V){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(P(_)||"string"==typeof _){var U=[];_=_.length;for(var Z=0;Z<_;Z++)U.push(Z);return U}U=[],Z=0;for(const Te in _)U[Z++]=Te;return U}}}(_),Te=function Gl(_){if(_.V&&"function"==typeof _.V)return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if("string"==typeof _)return _.split("");if(P(_)){for(var U=[],Z=_.length,Te=0;Te<Z;Te++)U.push(_[Te]);return U}for(Te in U=[],Z=0,_)U[Z++]=_[Te];return U}(_),Ft=Te.length,Kt=0;Kt<Ft;Kt++)U.call(void 0,Te[Kt],Z&&Z[Kt],_)}yE.prototype.cancel=function(){if(this.i=im(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const _ of this.g.values())_.cancel();this.g.clear()}};var gl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ps(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof ps){this.h=_.h,Kf(this,_.j),this.o=_.o,this.g=_.g,om(this,_.s),this.l=_.l;var U=_.i,Z=new rc;Z.i=U.i,U.g&&(Z.g=new Map(U.g),Z.h=U.h),EE(this,Z),this.m=_.m}else _&&(U=String(_).match(gl))?(this.h=!1,Kf(this,U[1]||"",!0),this.o=ed(U[2]||""),this.g=ed(U[3]||"",!0),om(this,U[4]),this.l=ed(U[5]||"",!0),EE(this,U[6]||"",!0),this.m=ed(U[7]||"")):(this.h=!1,this.i=new rc(null,this.h))}function Wl(_){return new ps(_)}function Kf(_,U,Z){_.j=Z?ed(U,!0):U,_.j&&(_.j=_.j.replace(/:$/,""))}function om(_,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);_.s=U}else _.s=null}function EE(_,U,Z){U instanceof rc?(_.i=U,function TT(_,U){U&&!_.j&&(ic(_),_.i=null,_.g.forEach(function(Z,Te){var Ft=Te.toLowerCase();Te!=Ft&&(ty(this,Te),bE(this,Ft,Z))},_)),_.j=U}(_.i,_.h)):(Z||(U=yu(U,AE)),_.i=new rc(U,_.h))}function ro(_,U,Z){_.i.set(U,Z)}function sm(_){return ro(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function ed(_,U){return _?U?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function yu(_,U,Z){return"string"==typeof _?(_=encodeURI(_).replace(U,ET),Z&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function ET(_){return"%"+((_=_.charCodeAt(0))>>4&15).toString(16)+(15&_).toString(16)}ps.prototype.toString=function(){var _=[],U=this.j;U&&_.push(yu(U,ey,!0),":");var Z=this.g;return(Z||"file"==U)&&(_.push("//"),(U=this.o)&&_.push(yu(U,ey,!0),"@"),_.push(encodeURIComponent(String(Z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(Z=this.s)&&_.push(":",String(Z))),(Z=this.l)&&(this.g&&"/"!=Z.charAt(0)&&_.push("/"),_.push(yu(Z,"/"==Z.charAt(0)?CT:AT,!0))),(Z=this.i.toString())&&_.push("?",Z),(Z=this.m)&&_.push("#",yu(Z,CE)),_.join("")};var ey=/[#\/\?@]/g,AT=/[#\?:]/g,CT=/[#\?]/g,AE=/[#\?@]/g,CE=/#/g;function rc(_,U){this.h=this.g=null,this.i=_||null,this.j=!!U}function ic(_){_.g||(_.g=new Map,_.h=0,_.i&&function ml(_,U){if(_){_=_.split("&");for(var Z=0;Z<_.length;Z++){var Te=_[Z].indexOf("="),Ft=null;if(0<=Te){var Kt=_[Z].substring(0,Te);Ft=_[Z].substring(Te+1)}else Kt=_[Z];U(Kt,Ft?decodeURIComponent(Ft.replace(/\+/g," ")):"")}}}(_.i,function(U,Z){_.add(decodeURIComponent(U.replace(/\+/g," ")),Z)}))}function ty(_,U){ic(_),U=vh(_,U),_.g.has(U)&&(_.i=null,_.h-=_.g.get(U).length,_.g.delete(U))}function TE(_,U){return ic(_),U=vh(_,U),_.g.has(U)}function bE(_,U,Z){ty(_,U),0<Z.length&&(_.i=null,_.g.set(vh(_,U),sn(Z)),_.h+=Z.length)}function vh(_,U){return U=String(U),_.j&&(U=U.toLowerCase()),U}function oc(_,U,Z,Te,Ft){try{Ft&&(Ft.onload=null,Ft.onerror=null,Ft.onabort=null,Ft.ontimeout=null),Te(Z)}catch{}}function wT(){this.g=new ph}function ST(_,U,Z){const Te=Z||"";try{IE(_,function(Ft,Kt){let Hn=Ft;K(Ft)&&(Hn=Ju(Ft)),U.push(Te+Kt+"="+encodeURIComponent(Hn))})}catch(Ft){throw U.push(Te+"type="+encodeURIComponent("_badmap")),Ft}}function qf(_){this.l=_.Ub||null,this.j=_.eb||!1}function am(_,U){fs.call(this),this.D=_,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function lm(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}function um(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Xf(_)}function Xf(_){_.onreadystatechange&&_.onreadystatechange.call(_)}function cm(_){let U="";return ar(_,function(Z,Te){U+=Te,U+=":",U+=Z,U+="\r\n"}),U}function dm(_,U,Z){e:{for(Te in Z){var Te=!1;break e}Te=!0}Te||(Z=cm(Z),"string"==typeof _?null!=Z&&encodeURIComponent(String(Z)):ro(_,U,Z))}function vo(_){fs.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=rc.prototype).add=function(_,U){ic(this),this.i=null,_=vh(this,_);var Z=this.g.get(_);return Z||this.g.set(_,Z=[]),Z.push(U),this.h+=1,this},a.forEach=function(_,U){ic(this),this.g.forEach(function(Z,Te){Z.forEach(function(Ft){_.call(U,Ft,Te,this)},this)},this)},a.na=function(){ic(this);const _=Array.from(this.g.values()),U=Array.from(this.g.keys()),Z=[];for(let Te=0;Te<U.length;Te++){const Ft=_[Te];for(let Kt=0;Kt<Ft.length;Kt++)Z.push(U[Te])}return Z},a.V=function(_){ic(this);let U=[];if("string"==typeof _)TE(this,_)&&(U=U.concat(this.g.get(vh(this,_))));else{_=Array.from(this.g.values());for(let Z=0;Z<_.length;Z++)U=U.concat(_[Z])}return U},a.set=function(_,U){return ic(this),this.i=null,TE(this,_=vh(this,_))&&(this.h-=this.g.get(_).length),this.g.set(_,[U]),this.h+=1,this},a.get=function(_,U){return _&&0<(_=this.V(_)).length?String(_[0]):U},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],U=Array.from(this.g.keys());for(var Z=0;Z<U.length;Z++){var Te=U[Z];const Kt=encodeURIComponent(String(Te)),Hn=this.V(Te);for(Te=0;Te<Hn.length;Te++){var Ft=Kt;""!==Hn[Te]&&(Ft+="="+encodeURIComponent(String(Hn[Te]))),_.push(Ft)}}return this.i=_.join("&")},jt(qf,ec),qf.prototype.g=function(){return new am(this.l,this.j)},qf.prototype.i=function(_){return function(){return _}}({}),jt(am,fs),(a=am.prototype).open=function(_,U){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=U,this.readyState=1,Xf(this)},a.send=function(_){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(U.body=_),(this.D||E).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,um(this)),this.readyState=0},a.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Xf(this)),this.g&&(this.readyState=3,Xf(this),this.g)))if("arraybuffer"===this.responseType)_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof E.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lm(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var U=_.value?_.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!_.done}))&&(this.response=this.responseText+=U)}_.done?um(this):Xf(this),3==this.readyState&&lm(this)}},a.Ra=function(_){this.g&&(this.response=this.responseText=_,um(this))},a.Qa=function(_){this.g&&(this.response=_,um(this))},a.ga=function(){this.g&&um(this)},a.setRequestHeader=function(_,U){this.u.append(_,U)},a.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],U=this.h.entries();for(var Z=U.next();!Z.done;)_.push((Z=Z.value)[0]+": "+Z[1]),Z=U.next();return _.join("\r\n")},Object.defineProperty(am.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(_){this.m=_?"include":"same-origin"}}),jt(vo,fs);var DE=/^https?$/i,RT=["POST","PUT"];function wE(_,U){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=U,_.m=5,SE(_),hm(_)}function SE(_){_.A||(_.A=!0,jo(_,"complete"),jo(_,"error"))}function RE(_){if(_.h&&typeof m<"u"&&(!_.v[1]||4!=sc(_)||2!=_.Z()))if(_.u&&4==sc(_))Kc(_.Ea,0,_);else if(jo(_,"readystatechange"),4==sc(_)){_.h=!1;try{const Hn=_.Z();e:switch(Hn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var Z;if(!(Z=U)){var Te;if(Te=0===Hn){var Ft=String(_.D).match(gl)[1]||null;!Ft&&E.self&&E.self.location&&(Ft=E.self.location.protocol.slice(0,-1)),Te=!DE.test(Ft?Ft.toLowerCase():"")}Z=Te}if(Z)jo(_,"complete"),jo(_,"success");else{_.m=6;try{var Kt=2<sc(_)?_.g.statusText:""}catch{Kt=""}_.l=Kt+" ["+_.Z()+"]",SE(_)}}finally{hm(_)}}}function hm(_,U){if(_.g){PE(_);const Z=_.g,Te=_.v[0]?()=>{}:null;_.g=null,_.v=null,U||jo(_,"ready");try{Z.onreadystatechange=Te}catch{}}}function PE(_){_.I&&(E.clearTimeout(_.I),_.I=null)}function sc(_){return _.g?_.g.readyState:0}function PT(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Qf(_,U,Z){return Z&&Z.internalChannelParams&&Z.internalChannelParams[_]||U}function Yf(_){this.Aa=0,this.i=[],this.j=new zf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qf("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qf("baseRetryDelayMs",5e3,_),this.cb=Qf("retryDelaySeedMs",1e4,_),this.Wa=Qf("forwardChannelMaxRetries",2,_),this.wa=Qf("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new yE(_&&_.concurrentRequestLimit),this.Da=new wT,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ny(_){if(pm(_),3==_.G){var U=_.U++,Z=Wl(_.I);if(ro(Z,"SID",_.K),ro(Z,"RID",U),ro(Z,"TYPE","terminate"),td(_,Z),(U=new nc(_,_.j,U)).L=2,U.v=sm(Wl(Z)),Z=!1,E.navigator&&E.navigator.sendBeacon)try{Z=E.navigator.sendBeacon(U.v.toString(),"")}catch{}!Z&&E.Image&&((new Image).src=U.v,Z=!0),Z||(U.g=ly(U.j,null),U.g.ea(U.v)),U.F=Date.now(),nm(U)}xE(_)}function fm(_){_.g&&(oy(_),_.g.cancel(),_.g=null)}function pm(_){fm(_),_.u&&(E.clearTimeout(_.u),_.u=null),nd(_),_.h.cancel(),_.s&&("number"==typeof _.s&&E.clearTimeout(_.s),_.s=null)}function gm(_){if(!Z_(_.h)&&!_.s){_.s=!0;var U=_.Ga;ch||cE(),Uf||(ch(),Uf=!0),uE.add(U,_),_.B=0}}function Zf(_,U){var Z;Z=U?U.l:_.U++;const Te=Wl(_.I);ro(Te,"SID",_.K),ro(Te,"RID",Z),ro(Te,"AID",_.T),td(_,Te),_.m&&_.o&&dm(Te,_.m,_.o),Z=new nc(_,_.j,Z,_.B+1),null===_.m&&(Z.H=_.o),U&&(_.i=U.D.concat(_.i)),U=ry(_,Z,1e3),Z.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Wf(_.h,Z),tm(Z,Te,U)}function td(_,U){_.H&&ar(_.H,function(Z,Te){ro(U,Te,Z)}),_.l&&IE({},function(Z,Te){ro(U,Te,Z)})}function ry(_,U,Z){Z=Math.min(_.i.length,Z);var Te=_.l?Xe(_.l.Na,_.l,_):null;e:{var Ft=_.i;let Kt=-1;for(;;){const Hn=["count="+Z];-1==Kt?0<Z?(Kt=Ft[0].g,Hn.push("ofs="+Kt)):Kt=0:Hn.push("ofs="+Kt);let Gi=!0;for(let gs=0;gs<Z;gs++){let hi=Ft[gs].g;const Fs=Ft[gs].map;if(hi-=Kt,0>hi)Kt=Math.max(0,Ft[gs].g-100),Gi=!1;else try{ST(Fs,Hn,"req"+hi+"_")}catch{Te&&Te(Fs)}}if(Gi){Te=Hn.join("&");break e}}}return _=_.i.splice(0,Z),U.D=_,Te}function ME(_){if(!_.g&&!_.u){_.Y=1;var U=_.Fa;ch||cE(),Uf||(ch(),Uf=!0),uE.add(U,_),_.v=0}}function iy(_){return!(_.g||_.u||3<=_.v||(_.Y++,_.u=Ya(Xe(_.Fa,_),sy(_,_.v)),_.v++,0))}function oy(_){null!=_.A&&(E.clearTimeout(_.A),_.A=null)}function Jf(_){_.g=new nc(_,_.j,"rpc",_.Y),null===_.m&&(_.g.H=_.o),_.g.O=0;var U=Wl(_.qa);ro(U,"RID","rpc"),ro(U,"SID",_.K),ro(U,"AID",_.T),ro(U,"CI",_.F?"0":"1"),!_.F&&_.ja&&ro(U,"TO",_.ja),ro(U,"TYPE","xmlhttp"),td(_,U),_.m&&_.o&&dm(U,_.m,_.o),_.L&&(_.g.I=_.L);var Z=_.g;_=_.ia,Z.L=1,Z.v=sm(Wl(U)),Z.m=null,Z.P=!0,gE(Z,_)}function nd(_){null!=_.C&&(E.clearTimeout(_.C),_.C=null)}function vm(_,U){var Z=null;if(_.g==U){nd(_),oy(_),_.g=null;var Te=2}else{if(!Gf(_.h,U))return;Z=U.D,J_(_.h,U),Te=1}if(0!=_.G)if(U.o)if(1==Te){Z=U.m?U.m.length:0,U=Date.now()-U.F;var Ft=_.B;jo(Te=jf(),new Hf(Te,Z)),gm(_)}else ME(_);else if(3==(Ft=U.s)||0==Ft&&0<U.X||!(1==Te&&function mm(_,U){return!(yT(_.h)>=_.h.j-(_.s?1:0)||(_.s?(_.i=U.D.concat(_.i),0):1==_.G||2==_.G||_.B>=(_.Va?0:_.Wa)||(_.s=Ya(Xe(_.Ga,_,U),sy(_,_.B)),_.B++,0)))}(_,U)||2==Te&&iy(_)))switch(Z&&0<Z.length&&(U=_.h,U.i=U.i.concat(Z)),Ft){case 1:rd(_,5);break;case 4:rd(_,10);break;case 3:rd(_,6);break;default:rd(_,2)}}function sy(_,U){let Z=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(Z*=2),Z*U}function rd(_,U){if(_.j.info("Error code "+U),2==U){var Z=Xe(_.fb,_),Te=_.Xa;const Ft=!Te;Te=new ps(Te||"//www.google.com/images/cleardot.gif"),E.location&&"http"==E.location.protocol||Kf(Te,"https"),sm(Te),Ft?function bT(_,U){const Z=new zf;if(E.Image){const Te=new Image;Te.onload=Ct(oc,Z,"TestLoadImage: loaded",!0,U,Te),Te.onerror=Ct(oc,Z,"TestLoadImage: error",!1,U,Te),Te.onabort=Ct(oc,Z,"TestLoadImage: abort",!1,U,Te),Te.ontimeout=Ct(oc,Z,"TestLoadImage: timeout",!1,U,Te),E.setTimeout(function(){Te.ontimeout&&Te.ontimeout()},1e4),Te.src=_}else U(!1)}(Te.toString(),Z):function DT(_,U){new zf;const Te=new AbortController,Ft=setTimeout(()=>{Te.abort(),oc(0,0,!1,U)},1e4);fetch(_,{signal:Te.signal}).then(Kt=>{clearTimeout(Ft),oc(0,0,!!Kt.ok,U)}).catch(()=>{clearTimeout(Ft),oc(0,0,!1,U)})}(Te.toString(),Z)}else ks(2);_.G=0,_.l&&_.l.sa(U),xE(_),pm(_)}function xE(_){if(_.G=0,_.ka=[],_.l){const U=im(_.h);(0!=U.length||0!=_.i.length)&&(Xt(_.ka,U),Xt(_.ka,_.i),_.h.i.length=0,sn(_.i),_.i.length=0),_.l.ra()}}function ay(_,U,Z){var Te=Z instanceof ps?Wl(Z):new ps(Z);if(""!=Te.g)U&&(Te.g=U+"."+Te.g),om(Te,Te.s);else{var Ft=E.location;Te=Ft.protocol,U=U?U+"."+Ft.hostname:Ft.hostname,Ft=+Ft.port;var Kt=new ps(null);Te&&Kf(Kt,Te),U&&(Kt.g=U),Ft&&om(Kt,Ft),Z&&(Kt.l=Z),Te=Kt}return U=_.ya,(Z=_.D)&&U&&ro(Te,Z,U),ro(Te,"VER",_.la),td(_,Te),Te}function ly(_,U,Z){if(U&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return(U=new vo(_.Ca&&!_.pa?new qf({eb:Z}):_.pa)).Ha(_.J),U}function uy(){}function Kl(){}function Ta(_,U){fs.call(this),this.g=new Yf(U),this.l=_,this.h=U&&U.messageUrlParams||null,_=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(_?_["X-WebChannel-Content-Type"]=U.messageContentType:_={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(_?_["X-WebChannel-Client-Profile"]=U.va:_={"X-WebChannel-Client-Profile":U.va}),this.g.S=_,(_=U&&U.Sb)&&!Gn(_)&&(this.g.m=_),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!Gn(U)&&(this.g.D=U,null!==(_=this.h)&&U in _&&U in(_=this.h)&&delete _[U]),this.j=new ep(this)}function NE(_){Zg.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var U=_.__sm__;if(U){e:{for(const Z in U){_=Z;break e}_=void 0}(this.i=_)&&(_=this.i,U=null!==U&&_ in U?U[_]:void 0),this.data=U}else this.data=_}function id(){Jg.call(this),this.status=1}function ep(_){this.g=_}(a=vo.prototype).Ha=function(_){this.J=_},a.ea=function(_,U,Z,Te){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);U=U?U.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fE.g(),this.v=function Yc(_){return _.h||(_.h=_.i())}(this.o?this.o:fE),this.g.onreadystatechange=Xe(this.Ea,this);try{this.B=!0,this.g.open(U,String(_),!0),this.B=!1}catch(Kt){return void wE(this,Kt)}if(_=Z||"",Z=new Map(this.headers),Te)if(Object.getPrototypeOf(Te)===Object.prototype)for(var Ft in Te)Z.set(Ft,Te[Ft]);else{if("function"!=typeof Te.keys||"function"!=typeof Te.get)throw Error("Unknown input type for opt_headers: "+String(Te));for(const Kt of Te.keys())Z.set(Kt,Te.get(Kt))}Te=Array.from(Z.keys()).find(Kt=>"content-type"==Kt.toLowerCase()),Ft=E.FormData&&_ instanceof E.FormData,!(0<=Array.prototype.indexOf.call(RT,U,void 0))||Te||Ft||Z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Kt,Hn]of Z)this.g.setRequestHeader(Kt,Hn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{PE(this),this.u=!0,this.g.send(_),this.u=!1}catch(Kt){wE(this,Kt)}},a.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,jo(this,"complete"),jo(this,"abort"),hm(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hm(this,!0)),vo.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?RE(this):this.bb())},a.bb=function(){RE(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<sc(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(_){if(this.g){var U=this.g.responseText;return _&&0==U.indexOf(_)&&(U=U.substring(_.length)),fh(U)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=Yf.prototype).la=8,a.G=1,a.connect=function(_,U,Z,Te){ks(0),this.W=_,this.H=U||{},Z&&void 0!==Te&&(this.H.OSID=Z,this.H.OAID=Te),this.F=this.X,this.I=ay(this,null,this.W),gm(this)},a.Ga=function(_){if(this.s)if(this.s=null,1==this.G){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const Ft=new nc(this,this.j,_);let Kt=this.o;if(this.S&&(Kt?(Kt=Je(Kt),Rt(Kt,this.S)):Kt=this.S),null!==this.m||this.O||(Ft.H=Kt,Kt=null),this.P)e:{for(var U=0,Z=0;Z<this.i.length;Z++){var Te=this.i[Z];if(void 0===(Te="__data__"in Te.map&&"string"==typeof(Te=Te.map.__data__)?Te.length:void 0))break;if(4096<(U+=Te)){U=Z;break e}if(4096===U||Z===this.i.length-1){U=Z+1;break e}}U=1e3}else U=1e3;U=ry(this,Ft,U),ro(Z=Wl(this.I),"RID",_),ro(Z,"CVER",22),this.D&&ro(Z,"X-HTTP-Session-Id",this.D),td(this,Z),Kt&&(this.O?U="headers="+encodeURIComponent(String(cm(Kt)))+"&"+U:this.m&&dm(Z,this.m,Kt)),Wf(this.h,Ft),this.Ua&&ro(Z,"TYPE","init"),this.P?(ro(Z,"$req",U),ro(Z,"SID","null"),Ft.T=!0,tm(Ft,Z,null)):tm(Ft,Z,U),this.G=2}}else 3==this.G&&(_?Zf(this,_):0==this.i.length||Z_(this.h)||Zf(this))},a.Fa=function(){if(this.u=null,Jf(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Ya(Xe(this.ab,this),_)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ks(10),fm(this),Jf(this))},a.Za=function(){null!=this.C&&(this.C=null,fm(this),iy(this),ks(19))},a.fb=function(_){_?(this.j.info("Successfully pinged google.com"),ks(2)):(this.j.info("Failed to ping google.com"),ks(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=uy.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},Kl.prototype.g=function(_,U){return new Ta(_,U)},jt(Ta,fs),Ta.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ta.prototype.close=function(){ny(this.g)},Ta.prototype.o=function(_){var U=this.g;if("string"==typeof _){var Z={};Z.__data__=_,_=Z}else this.u&&((Z={}).__data__=Ju(_),_=Z);U.i.push(new _E(U.Ya++,_)),3==U.G&&gm(U)},Ta.prototype.N=function(){this.g.l=null,delete this.j,ny(this.g),delete this.g,Ta.aa.N.call(this)},jt(NE,Zg),jt(id,Jg),jt(ep,uy),ep.prototype.ua=function(){jo(this.g,"a")},ep.prototype.ta=function(_){jo(this.g,new NE(_))},ep.prototype.sa=function(_){jo(this.g,new id)},ep.prototype.ra=function(){jo(this.g,"b")},Kl.prototype.createWebChannel=Kl.prototype.g,Ta.prototype.send=Ta.prototype.o,Ta.prototype.open=Ta.prototype.m,Ta.prototype.close=Ta.prototype.close,sr=Zn.createWebChannelTransport=function(){return new Kl},Fr=Zn.getStatEventTarget=function(){return jf()},fr=Zn.Event=tc,Vn=Zn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mh.NO_ERROR=0,mh.TIMEOUT=8,mh.HTTP_ERROR=6,$n=Zn.ErrorCode=mh,_T.COMPLETE="complete",lr=Zn.EventType=_T,Zc.EventType=Hl,Hl.OPEN="a",Hl.CLOSE="b",Hl.ERROR="c",Hl.MESSAGE="d",fs.prototype.listen=fs.prototype.K,Wn=Zn.WebChannel=Zc,Zn.FetchXmlHttpFactory=qf,vo.prototype.listenOnce=vo.prototype.L,vo.prototype.getLastError=vo.prototype.Ka,vo.prototype.getLastErrorCode=vo.prototype.Ba,vo.prototype.getStatus=vo.prototype.Z,vo.prototype.getResponseJson=vo.prototype.Oa,vo.prototype.getResponseText=vo.prototype.oa,vo.prototype.send=vo.prototype.ea,vo.prototype.setWithCredentials=vo.prototype.Ha,Cn=Zn.XhrIo=vo}).apply(typeof hr<"u"?hr:typeof self<"u"?self:typeof window<"u"?window:{});const Er="@firebase/firestore";class mn{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let Gr="10.14.0";const or=new Nt.Vy("@firebase/firestore");function Lr(){return or.logLevel}function yt(a,...t){if(or.logLevel<=Nt.$b.DEBUG){const r=t.map(St);or.debug(`Firestore (${Gr}): ${a}`,...r)}}function nr(a,...t){if(or.logLevel<=Nt.$b.ERROR){const r=t.map(St);or.error(`Firestore (${Gr}): ${a}`,...r)}}function rr(a,...t){if(or.logLevel<=Nt.$b.WARN){const r=t.map(St);or.warn(`Firestore (${Gr}): ${a}`,...r)}}function St(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function Fe(a="Unexpected state"){const t=`FIRESTORE (${Gr}) INTERNAL ASSERTION FAILED: `+a;throw nr(t),new Error(t)}function rt(a,t){a||Fe()}function ke(a,t){return a}const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends dt.g{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class R{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}class k{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(mn.UNAUTHENTICATED))}shutdown(){}}class se{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Ye{constructor(t){this.t=t,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){var s=this;rt(void 0===this.o);let u=this.i;const f=K=>this.i!==u?(u=this.i,r(K)):Promise.resolve();let m=new R;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new R,t.enqueueRetryable(()=>f(this.currentUser))};const E=()=>{const K=m;t.enqueueRetryable((0,c.A)(function*(){yield K.promise,yield f(s.currentUser)}))},P=K=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.o&&(this.auth.addAuthTokenListener(this.o),E())};this.t.onInit(K=>P(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?P(K):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new R)}},0),E()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==t?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(rt("string"==typeof s.accessToken),new k(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return rt(null===t||"string"==typeof t),new mn(t)}}class bt{constructor(t,r,s){this.l=t,this.h=r,this.P=s,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Lt{constructor(t,r,s){this.l=t,this.h=r,this.P=s}getToken(){return Promise.resolve(new bt(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hn{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rn{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){rt(void 0===this.o);const s=f=>{null!=f.error&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const m=f.token!==this.R;return this.R=f.token,yt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?r(f.token):Promise.resolve()};this.o=f=>{t.enqueueRetryable(()=>s(f))};const u=f=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(rt("string"==typeof r.token),this.R=r.token,new hn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function on(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}class er{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=on(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return s}}function Tn(a,t){return a<t?-1:a>t?1:0}function xn(a,t,r){return a.length===t.length&&a.every((s,u)=>r(s,t[u]))}function Qr(a){return a+"\0"}class _r{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new W(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new W(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new W(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new W(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return _r.fromMillis(Date.now())}static fromDate(t){return _r.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*r));return new _r(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Tn(this.nanoseconds,t.nanoseconds):Tn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Mn(t)}static min(){return new Mn(new _r(0,0))}static max(){return new Mn(new _r(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ti{constructor(t,r,s){void 0===r?r=0:r>t.length&&Fe(),void 0===s?s=t.length-r:s>t.length-r&&Fe(),this.segments=t,this.offset=r,this.len=s}get length(){return this.len}isEqual(t){return 0===Ti.comparator(this,t)}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach(s=>{r.push(s)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,s=this.limit();r<s;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const s=Math.min(t.length,r.length);for(let u=0;u<s;u++){const f=t.get(u),m=r.get(u);if(f<m)return-1;if(f>m)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class ur extends Ti{construct(t,r,s){return new ur(t,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const s of t){if(s.indexOf("//")>=0)throw new W(Ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new ur(r)}static emptyPath(){return new ur([])}}const Ar=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ne extends Ti{construct(t,r,s){return new ne(t,r,s)}static isValidIdentifier(t){return Ar.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ne.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ne(["__name__"])}static fromServerFormat(t){const r=[];let s="",u=0;const f=()=>{if(0===s.length)throw new W(Ue.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let m=!1;for(;u<t.length;){const E=t[u];if("\\"===E){if(u+1===t.length)throw new W(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const P=t[u+1];if("\\"!==P&&"."!==P&&"`"!==P)throw new W(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=P,u+=2}else"`"===E?(m=!m,u++):"."!==E||m?(s+=E,u++):(f(),u++)}if(f(),m)throw new W(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ne(r)}static emptyPath(){return new ne([])}}class H{constructor(t){this.path=t}static fromPath(t){return new H(ur.fromString(t))}static fromName(t){return new H(ur.fromString(t).popFirst(5))}static empty(){return new H(ur.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ur.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,r){return ur.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new H(new ur(t.slice()))}}class Ee{constructor(t,r,s,u){this.indexId=t,this.collectionGroup=r,this.fields=s,this.indexState=u}}function J(a){return a.fields.find(t=>2===t.kind)}function te(a){return a.fields.filter(t=>2!==t.kind)}Ee.UNKNOWN_ID=-1;class mt{constructor(t,r){this.fieldPath=t,this.kind=r}}class an{constructor(t,r){this.sequenceNumber=t,this.offset=r}static empty(){return new an(0,Nn.min())}}function wn(a,t){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,u=Mn.fromTimestamp(1e9===s?new _r(r+1,0):new _r(r,s));return new Nn(u,H.empty(),t)}function gr(a){return new Nn(a.readTime,a.key,-1)}class Nn{constructor(t,r,s){this.readTime=t,this.documentKey=r,this.largestBatchId=s}static min(){return new Nn(Mn.min(),H.empty(),-1)}static max(){return new Nn(Mn.max(),H.empty(),-1)}}function si(a,t){let r=a.readTime.compareTo(t.readTime);return 0!==r?r:(r=H.comparator(a.documentKey,t.documentKey),0!==r?r:Tn(a.largestBatchId,t.largestBatchId))}const ir="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ai{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function ei(a){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,c.A)(function*(a){if(a.code!==Ue.FAILED_PRECONDITION||a.message!==ir)throw a;yt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class It{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new It((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(t,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(r,f).next(s,u)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof It?r:It.resolve(r)}catch(r){return It.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):It.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):It.reject(r)}static resolve(t){return new It((r,s)=>{r(t)})}static reject(t){return new It((r,s)=>{s(t)})}static waitFor(t){return new It((r,s)=>{let u=0,f=0,m=!1;t.forEach(E=>{++u,E.next(()=>{++f,m&&f===u&&r()},P=>s(P))}),m=!0,f===u&&r()})}static or(t){let r=It.resolve(!1);for(const s of t)r=r.next(u=>u?It.resolve(u):s());return r}static forEach(t,r){const s=[];return t.forEach((u,f)=>{s.push(r.call(this,u,f))}),this.waitFor(s)}static mapArray(t,r){return new It((s,u)=>{const f=t.length,m=new Array(f);let E=0;for(let P=0;P<f;P++){const K=P;r(t[K]).next(re=>{m[K]=re,++E,E===f&&s(m)},re=>u(re))}})}static doWhile(t,r){return new It((s,u)=>{const f=()=>{!0===t()?r().next(()=>{f()},u):s()};f()})}}class lo{constructor(t,r){this.action=t,this.transaction=r,this.aborted=!1,this.V=new R,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new _o(t,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=qi(s.target.error);this.V.reject(new _o(t,u))}}static open(t,r,s,u){try{return new lo(r,t.transaction(u,s))}catch(f){throw new _o(r,f)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(yt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const r=this.transaction.objectStore(t);return new os(r)}}class ii{constructor(t,r,s){this.name=t,this.version=r,this.p=s,12.2===ii.S((0,dt.ZQ)())&&nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return yt("SimpleDb","Removing database:",t),uo(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,dt.zW)())return!1;if(ii.v())return!0;const t=(0,dt.ZQ)(),r=ii.S(t),s=0<r&&r<10,u=Ki(t),f=0<u&&u<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||s||f)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,r){return t.store(r)}static S(t){const r=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(t){var r=this;return(0,c.A)(function*(){return r.db||(yt("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,u)=>{const f=indexedDB.open(r.name,r.version);f.onsuccess=m=>{s(m.target.result)},f.onblocked=()=>{u(new _o(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=m=>{const E=m.target.error;u("VersionError"===E.name?new W(Ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===E.name?new W(Ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+E):new _o(t,E))},f.onupgradeneeded=m=>{yt("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',m.oldVersion),r.p.O(m.target.result,f.transaction,m.oldVersion,r.version).next(()=>{yt("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=s=>r.N(s)),r.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=r=>t(r))}runTransaction(t,r,s,u){var f=this;return(0,c.A)(function*(){const m="readonly"===r;let E=0;for(;;){++E;try{f.db=yield f.M(t);const P=lo.open(f.db,t,m?"readonly":"readwrite",s),K=u(P).next(re=>(P.g(),re)).catch(re=>(P.abort(re),It.reject(re))).toPromise();return K.catch(()=>{}),yield P.m,K}catch(P){const K=P,re="FirebaseError"!==K.name&&E<3;if(yt("SimpleDb","Transaction failed with error:",K.message,"Retrying:",re),f.close(),!re)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Ki(a){const t=a.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class zo{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return uo(this.B.delete())}}class _o extends W{constructor(t,r){super(Ue.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function pi(a){return"IndexedDbTransactionError"===a.name}class os{constructor(t){this.store=t}put(t,r){let s;return void 0!==r?(yt("SimpleDb","PUT",this.store.name,t,r),s=this.store.put(r,t)):(yt("SimpleDb","PUT",this.store.name,"<auto-key>",t),s=this.store.put(t)),uo(s)}add(t){return yt("SimpleDb","ADD",this.store.name,t,t),uo(this.store.add(t))}get(t){return uo(this.store.get(t)).next(r=>(void 0===r&&(r=null),yt("SimpleDb","GET",this.store.name,t,r),r))}delete(t){return yt("SimpleDb","DELETE",this.store.name,t),uo(this.store.delete(t))}count(){return yt("SimpleDb","COUNT",this.store.name),uo(this.store.count())}U(t,r){const s=this.options(t,r),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const f=u.getAll(s.range);return new It((m,E)=>{f.onerror=P=>{E(P.target.error)},f.onsuccess=P=>{m(P.target.result)}})}{const f=this.cursor(s),m=[];return this.W(f,(E,P)=>{m.push(P)}).next(()=>m)}}G(t,r){const s=this.store.getAll(t,null===r?void 0:r);return new It((u,f)=>{s.onerror=m=>{f(m.target.error)},s.onsuccess=m=>{u(m.target.result)}})}j(t,r){yt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(t,r);s.H=!1;const u=this.cursor(s);return this.W(u,(f,m,E)=>E.delete())}J(t,r){let s;r?s=t:(s={},r=t);const u=this.cursor(s);return this.W(u,r)}Y(t){const r=this.cursor({});return new It((s,u)=>{r.onerror=f=>{const m=qi(f.target.error);u(m)},r.onsuccess=f=>{const m=f.target.result;m?t(m.primaryKey,m.value).next(E=>{E?m.continue():s()}):s()}})}W(t,r){const s=[];return new It((u,f)=>{t.onerror=m=>{f(m.target.error)},t.onsuccess=m=>{const E=m.target.result;if(!E)return void u();const P=new zo(E),K=r(E.primaryKey,E.value,P);if(K instanceof It){const re=K.catch(Ae=>(P.done(),It.reject(Ae)));s.push(re)}P.isDone?u():null===P.K?E.continue():E.continue(P.K)}}).next(()=>It.waitFor(s))}options(t,r){let s;return void 0!==t&&("string"==typeof t?s=t:r=t),{index:s,range:r}}cursor(t){let r="next";if(t.reverse&&(r="prev"),t.index){const s=this.store.index(t.index);return t.H?s.openKeyCursor(t.range,r):s.openCursor(t.range,r)}return this.store.openCursor(t.range,r)}}function uo(a){return new It((t,r)=>{a.onsuccess=s=>{t(s.target.result)},a.onerror=s=>{const u=qi(s.target.error);r(u)}})}let Go=!1;function qi(a){const t=ii.S((0,dt.ZQ)());if(t>=12.2&&t<13){const r="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(r)>=0){const s=new W("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Go||(Go=!0,setTimeout(()=>{throw s},0)),s}}return a}class bi{constructor(t,r){this.asyncQueue=t,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var r=this;yt("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,c.A)(function*(){r.task=null;try{yt("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(s){pi(s)?yt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield ei(s)}yield r.X(6e4)}))}}class _s{constructor(t,r){this.localStore=t,this.persistence=r}ee(t=50){var r=this;return(0,c.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.te(s,t))})()}te(t,r){const s=new Set;let u=r,f=!0;return It.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(m=>{if(null!==m&&!s.has(m))return yt("IndexBackfiller",`Processing collection: ${m}`),this.ne(t,m,u).next(E=>{u-=E,s.add(m)});f=!1})).next(()=>r-u)}ne(t,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,r).next(u=>this.localStore.localDocuments.getNextDocuments(t,r,u,s).next(f=>{const m=f.changes;return this.localStore.indexManager.updateIndexEntries(t,m).next(()=>this.re(u,f)).next(E=>(yt("IndexBackfiller",`Updating offset: ${E}`),this.localStore.indexManager.updateCollectionGroup(t,r,E))).next(()=>m.size)}))}re(t,r){let s=t;return r.changes.forEach((u,f)=>{const m=gr(f);si(m,s)>0&&(s=m)}),new Nn(s.readTime,s.documentKey,Math.max(r.batchId,t.largestBatchId))}}let Jn=(()=>{class a{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function Sr(a){return null==a}function ss(a){return 0===a&&1/a==-1/0}function qs(a){return"number"==typeof a&&Number.isInteger(a)&&!ss(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}function li(a){let t="";for(let r=0;r<a.length;r++)t.length>0&&(t=ca(t)),t=Xs(a.get(r),t);return ca(t)}function Xs(a,t){let r=t;const s=a.length;for(let u=0;u<s;u++){const f=a.charAt(u);switch(f){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=f}}return r}function ca(a){return a+"\x01\x01"}function co(a){const t=a.length;if(rt(t>=2),2===t)return rt("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),ur.emptyPath();const r=t-2,s=[];let u="";for(let f=0;f<t;){const m=a.indexOf("\x01",f);switch((m<0||m>r)&&Fe(),a.charAt(m+1)){case"\x01":const E=a.substring(f,m);let P;0===u.length?P=E:(u+=E,P=u,u=""),s.push(P);break;case"\x10":u+=a.substring(f,m),u+="\0";break;case"\x11":u+=a.substring(f,m+1);break;default:Fe()}f=m+2}return new ur(s)}const Rr=["userId","batchId"];function Wo(a,t){return[a,li(t)]}function ys(a,t,r){return[a,li(t),r]}const Li={},Ko=["prefixPath","collectionGroup","readTime","documentId"],Ls=["prefixPath","collectionGroup","documentId"],Is=["collectionGroup","readTime","prefixPath","documentId"],Oo=["canonicalId","targetId"],Pi=["targetId","path"],M=["path","targetId"],Y=["collectionId","parent"],me=["indexId","uid"],O=["uid","sequenceNumber"],C=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],j=["indexId","uid","orderedDocumentKey"],Ne=["userId","collectionPath","documentId"],$e=["userId","collectionPath","largestBatchId"],ht=["userId","collectionGroup","largestBatchId"],st=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Yt=[...st,"documentOverlays"],wt=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qt=wt,tn=[...qt,"indexConfiguration","indexState","indexEntries"],bn=tn,Fn=[...tn,"globals"];class jn extends ai{constructor(t,r){super(),this._e=t,this.currentSequenceNumber=r}}function Un(a,t){const r=ke(a);return ii.F(r._e,t)}function kr(a){let t=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t++;return t}function jr(a,t){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&t(r,a[r])}function Yr(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class cr{constructor(t,r){this.comparator=t,this.root=r||Jr.EMPTY}insert(t,r){return new cr(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Jr.BLACK,null,null))}remove(t){return new cr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jr.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(t){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(t,s.key);if(0===u)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,s)=>(t(r,s),!1))}toString(){const t=[];return this.inorderTraversal((r,s)=>(t.push(`${r}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ho(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ho(this.root,t,this.comparator,!1)}getReverseIterator(){return new ho(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ho(this.root,t,this.comparator,!0)}}class ho{constructor(t,r,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!t.isEmpty();)if(f=r?s(t.key,r):1,r&&u&&(f*=-1),f<0)t=this.isReverse?t.left:t.right;else{if(0===f){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Jr{constructor(t,r,s,u,f){this.key=t,this.value=r,this.color=null!=s?s:Jr.RED,this.left=null!=u?u:Jr.EMPTY,this.right=null!=f?f:Jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,s,u,f){return new Jr(null!=t?t:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,s){let u=this;const f=s(t,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(t,r,s),null):0===f?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(t,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Jr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let s,u=this;if(r(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(t,u.key)){if(u.right.isEmpty())return Jr.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const t=this.left.check();if(t!==this.right.check())throw Fe();return t+(this.isRed()?0:1)}}Jr.EMPTY=null,Jr.RED=!0,Jr.BLACK=!1,Jr.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(t,r,s,u,f){return this}insert(t,r,s){return new Jr(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tr{constructor(t){this.comparator=t,this.data=new cr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,s)=>(t(r),!1))}forEachInRange(t,r){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,t[1])>=0)return;r(u.key)}}forEachWhile(t,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new io(this.data.getIterator())}getIteratorFrom(t){return new io(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(s=>{r=r.add(s)}),r}isEqual(t){if(!(t instanceof Tr)||this.size!==t.size)return!1;const r=this.data.getIterator(),s=t.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=s.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Tr(this.comparator);return r.data=t,r}}class io{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Co(a){return a.hasNext()?a.getNext():void 0}class Xi{constructor(t){this.fields=t,t.sort(ne.comparator)}static empty(){return new Xi([])}unionWith(t){let r=new Tr(ne.comparator);for(const s of this.fields)r=r.add(s);for(const s of t)r=r.add(s);return new Xi(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return xn(this.fields,t.fields,(r,s)=>r.isEqual(s))}}class ko extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qr{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new ko("Invalid base64 string: "+f):f}}(t);return new qr(r)}static fromUint8Array(t){const r=function(u){let f="";for(let m=0;m<u.length;++m)f+=String.fromCharCode(u[m]);return f}(t);return new qr(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Tn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qr.EMPTY_BYTE_STRING=new qr("");const qo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(a){if(rt(!!a),"string"==typeof a){let t=0;const r=qo.exec(a);if(rt(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),t=Number(u)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Pr(a.seconds),nanos:Pr(a.nanos)}}function Pr(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function Mo(a){return"string"==typeof a?qr.fromBase64String(a):qr.fromUint8Array(a)}function as(a){var t,r;return"server_timestamp"===(null===(r=((null===(t=null==a?void 0:a.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function _l(a){const t=a.mapValue.fields.__previous_value__;return as(t)?_l(t):t}function Es(a){const t=yo(a.mapValue.fields.__local_write_time__.timestampValue);return new _r(t.seconds,t.nanos)}class Vi{constructor(t,r,s,u,f,m,E,P,K){this.databaseId=t,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=E,this.longPollingOptions=P,this.useFetchStreams=K}}class xr{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new xr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof xr&&t.projectId===this.projectId&&t.database===this.database}}const Mi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ls={nullValue:"NULL_VALUE"};function fo(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?as(a)?4:Il(a)?9007199254740991:Ja(a)?10:11:Fe()}function po(a,t){if(a===t)return!0;const r=fo(a);if(r!==fo(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Es(a).isEqual(Es(t));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const m=yo(u.timestampValue),E=yo(f.timestampValue);return m.seconds===E.seconds&&m.nanos===E.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return f=t,Mo(a.bytesValue).isEqual(Mo(f.bytesValue));case 7:return a.referenceValue===t.referenceValue;case 8:return function(u,f){return Pr(u.geoPointValue.latitude)===Pr(f.geoPointValue.latitude)&&Pr(u.geoPointValue.longitude)===Pr(f.geoPointValue.longitude)}(a,t);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return Pr(u.integerValue)===Pr(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const m=Pr(u.doubleValue),E=Pr(f.doubleValue);return m===E?ss(m)===ss(E):isNaN(m)&&isNaN(E)}return!1}(a,t);case 9:return xn(a.arrayValue.values||[],t.arrayValue.values||[],po);case 10:case 11:return function(u,f){const m=u.mapValue.fields||{},E=f.mapValue.fields||{};if(kr(m)!==kr(E))return!1;for(const P in m)if(m.hasOwnProperty(P)&&(void 0===E[P]||!po(m[P],E[P])))return!1;return!0}(a,t);default:return Fe()}var f}function Ni(a,t){return void 0!==(a.values||[]).find(r=>po(r,t))}function Oi(a,t){if(a===t)return 0;const r=fo(a),s=fo(t);if(r!==s)return Tn(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Tn(a.booleanValue,t.booleanValue);case 2:return function(f,m){const E=Pr(f.integerValue||f.doubleValue),P=Pr(m.integerValue||m.doubleValue);return E<P?-1:E>P?1:E===P?0:isNaN(E)?isNaN(P)?0:-1:1}(a,t);case 3:return To(a.timestampValue,t.timestampValue);case 4:return To(Es(a),Es(t));case 5:return Tn(a.stringValue,t.stringValue);case 6:return function(f,m){const E=Mo(f),P=Mo(m);return E.compareTo(P)}(a.bytesValue,t.bytesValue);case 7:return function(f,m){const E=f.split("/"),P=m.split("/");for(let K=0;K<E.length&&K<P.length;K++){const re=Tn(E[K],P[K]);if(0!==re)return re}return Tn(E.length,P.length)}(a.referenceValue,t.referenceValue);case 8:return function(f,m){const E=Tn(Pr(f.latitude),Pr(m.latitude));return 0!==E?E:Tn(Pr(f.longitude),Pr(m.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return yl(a.arrayValue,t.arrayValue);case 10:return function(f,m){var E,P,K,re;const Ct=null===(E=(f.fields||{}).value)||void 0===E?void 0:E.arrayValue,jt=null===(P=(m.fields||{}).value)||void 0===P?void 0:P.arrayValue,sn=Tn((null===(K=null==Ct?void 0:Ct.values)||void 0===K?void 0:K.length)||0,(null===(re=null==jt?void 0:jt.values)||void 0===re?void 0:re.length)||0);return 0!==sn?sn:yl(Ct,jt)}(a.mapValue,t.mapValue);case 11:return function(f,m){if(f===Mi.mapValue&&m===Mi.mapValue)return 0;if(f===Mi.mapValue)return 1;if(m===Mi.mapValue)return-1;const E=f.fields||{},P=Object.keys(E),K=m.fields||{},re=Object.keys(K);P.sort(),re.sort();for(let Ae=0;Ae<P.length&&Ae<re.length;++Ae){const Xe=Tn(P[Ae],re[Ae]);if(0!==Xe)return Xe;const Ct=Oi(E[P[Ae]],K[re[Ae]]);if(0!==Ct)return Ct}return Tn(P.length,re.length)}(a.mapValue,t.mapValue);default:throw Fe()}}function To(a,t){if("string"==typeof a&&"string"==typeof t&&a.length===t.length)return Tn(a,t);const r=yo(a),s=yo(t),u=Tn(r.seconds,s.seconds);return 0!==u?u:Tn(r.nanos,s.nanos)}function yl(a,t){const r=a.values||[],s=t.values||[];for(let u=0;u<r.length&&u<s.length;++u){const f=Oi(r[u],s[u]);if(f)return f}return Tn(r.length,s.length)}function Xo(a){return wa(a)}function wa(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const s=yo(r);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?Mo(a.bytesValue).toBase64():"referenceValue"in a?H.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let s="[",u=!0;for(const f of r.values||[])u?u=!1:s+=",",s+=wa(f);return s+"]"}(a.arrayValue):"mapValue"in a?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",f=!0;for(const m of s)f?f=!1:u+=",",u+=`${m}:${wa(r.fields[m])}`;return u+"}"}(a.mapValue):Fe()}function Qo(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function Qs(a){return!!a&&"integerValue"in a}function As(a){return!!a&&"arrayValue"in a}function Xr(a){return!!a&&"nullValue"in a}function Yo(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Sa(a){return!!a&&"mapValue"in a}function Ja(a){var t,r;return"__vector__"===(null===(r=((null===(t=null==a?void 0:a.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function go(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return jr(a.mapValue.fields,(r,s)=>t.mapValue.fields[r]=go(s)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=go(a.arrayValue.values[r]);return t}return Object.assign({},a)}function Il(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}const Ra={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function q(a){return"nullValue"in a?ls:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?Qo(xr.empty(),H.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?Ja(a)?Ra:{mapValue:{}}:Fe()}function x(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?Qo(xr.empty(),H.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?Ra:"mapValue"in a?Ja(a)?{mapValue:{}}:Mi:Fe()}function ie(a,t){const r=Oi(a.value,t.value);return 0!==r?r:a.inclusive&&!t.inclusive?-1:!a.inclusive&&t.inclusive?1:0}function G(a,t){const r=Oi(a.value,t.value);return 0!==r?r:a.inclusive&&!t.inclusive?1:!a.inclusive&&t.inclusive?-1:0}class _e{constructor(t){this.value=t}static empty(){return new _e({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let s=0;s<t.length-1;++s)if(r=(r.mapValue.fields||{})[t.get(s)],!Sa(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=go(r)}setAll(t){let r=ne.emptyPath(),s={},u=[];t.forEach((m,E)=>{if(!r.isImmediateParentOf(E)){const P=this.getFieldsMap(r);this.applyChanges(P,s,u),s={},u=[],r=E.popLast()}m?s[E.lastSegment()]=go(m):u.push(E.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,s,u)}delete(t){const r=this.field(t.popLast());Sa(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return po(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<t.length;++s){let u=r.mapValue.fields[t.get(s)];Sa(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[t.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(t,r,s){jr(r,(u,f)=>t[u]=f);for(const u of s)delete t[u]}clone(){return new _e(go(this.value))}}function ln(a){const t=[];return jr(a.fields,(r,s)=>{const u=new ne([r]);if(Sa(s)){const f=ln(s.mapValue).fields;if(0===f.length)t.push(u);else for(const m of f)t.push(u.child(m))}else t.push(u)}),new Xi(t)}class Ln{constructor(t,r,s,u,f,m,E){this.key=t,this.documentType=r,this.version=s,this.readTime=u,this.createTime=f,this.data=m,this.documentState=E}static newInvalidDocument(t){return new Ln(t,0,Mn.min(),Mn.min(),Mn.min(),_e.empty(),0)}static newFoundDocument(t,r,s,u){return new Ln(t,1,r,Mn.min(),s,u,0)}static newNoDocument(t,r){return new Ln(t,2,r,Mn.min(),Mn.min(),_e.empty(),0)}static newUnknownDocument(t,r){return new Ln(t,3,r,Mn.min(),Mn.min(),_e.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Mn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_e.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_e.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wr{constructor(t,r){this.position=t,this.inclusive=r}}function Ui(a,t,r){let s=0;for(let u=0;u<a.position.length;u++){const f=t[u],m=a.position[u];if(s=f.field.isKeyField()?H.comparator(H.fromName(m.referenceValue),r.key):Oi(m,r.data.field(f.field)),"desc"===f.dir&&(s*=-1),0!==s)break}return s}function $i(a,t){if(null===a)return null===t;if(null===t||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!po(a.position[r],t.position[r]))return!1;return!0}class Io{constructor(t,r="asc"){this.field=t,this.dir=r}}function Ys(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class Zs{}class Or extends Zs{constructor(t,r,s){super(),this.field=t,this.op=r,this.value=s}static create(t,r,s){return t.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(t,r,s):new el(t,r,s):"array-contains"===r?new El(t,s):"in"===r?new Eu(t,s):"not-in"===r?new Xl(t,s):"array-contains-any"===r?new uc(t,s):new Or(t,r,s)}static createKeyFieldInFilter(t,r,s){return"in"===r?new od(t,s):new tl(t,s)}matches(t){const r=t.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Oi(r,this.value)):null!==r&&fo(this.value)===fo(r)&&this.matchesComparison(Oi(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zr extends Zs{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new Zr(t,r)}matches(t){return br(this)?void 0===this.filters.find(r=>!r.matches(t)):void 0!==this.filters.find(r=>r.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function br(a){return"and"===a.op}function Bi(a){return"or"===a.op}function xi(a){return us(a)&&br(a)}function us(a){for(const t of a.filters)if(t instanceof Zr)return!1;return!0}function ji(a){if(a instanceof Or)return a.field.canonicalString()+a.op.toString()+Xo(a.value);if(xi(a))return a.filters.map(t=>ji(t)).join(",");{const t=a.filters.map(r=>ji(r)).join(",");return`${a.op}(${t})`}}function ql(a,t){return a instanceof Or?(s=a,(u=t)instanceof Or&&s.op===u.op&&s.field.isEqual(u.field)&&po(s.value,u.value)):a instanceof Zr?function(s,u){return u instanceof Zr&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((f,m,E)=>f&&ql(m,u.filters[E]),!0)}(a,t):void Fe();var s,u}function Pa(a,t){const r=a.filters.concat(t);return Zr.create(r,a.op)}function cs(a){return a instanceof Or?`${(r=a).field.canonicalString()} ${r.op} ${Xo(r.value)}`:a instanceof Zr?function(r){return r.op.toString()+" {"+r.getFilters().map(cs).join(" ,")+"}"}(a):"Filter";var r}class el extends Or{constructor(t,r,s){super(t,r,s),this.key=H.fromName(s.referenceValue)}matches(t){const r=H.comparator(t.key,this.key);return this.matchesComparison(r)}}class od extends Or{constructor(t,r){super(t,"in",r),this.keys=lc(0,r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class tl extends Or{constructor(t,r){super(t,"not-in",r),this.keys=lc(0,r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function lc(a,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>H.fromName(s.referenceValue))}class El extends Or{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return As(r)&&Ni(r.arrayValue,this.value)}}class Eu extends Or{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return null!==r&&Ni(this.value.arrayValue,r)}}class Xl extends Or{constructor(t,r){super(t,"not-in",r)}matches(t){if(Ni(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return null!==r&&!Ni(this.value.arrayValue,r)}}class uc extends Or{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!As(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Ni(this.value.arrayValue,s))}}class Al{constructor(t,r=null,s=[],u=[],f=null,m=null,E=null){this.path=t,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=m,this.endAt=E,this.ue=null}}function Au(a,t=null,r=[],s=[],u=null,f=null,m=null){return new Al(a,t,r,s,u,f,m)}function Zo(a){const t=ke(a);if(null===t.ue){let r=t.path.canonicalString();null!==t.collectionGroup&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(s=>ji(s)).join(","),r+="|ob:",r+=t.orderBy.map(s=>{return(f=s).field.canonicalString()+f.dir;var f}).join(","),Sr(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Xo(s)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Xo(s)).join(",")),t.ue=r}return t.ue}function Ma(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!Ys(a.orderBy[r],t.orderBy[r]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!ql(a.filters[r],t.filters[r]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!$i(a.startAt,t.startAt)&&$i(a.endAt,t.endAt)}function da(a){return H.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function Us(a,t){return a.filters.filter(r=>r instanceof Or&&r.field.isEqual(t))}function nl(a,t,r){let s=ls,u=!0;for(const f of Us(a,t)){let m=ls,E=!0;switch(f.op){case"<":case"<=":m=q(f.value);break;case"==":case"in":case">=":m=f.value;break;case">":m=f.value,E=!1;break;case"!=":case"not-in":m=ls}ie({value:s,inclusive:u},{value:m,inclusive:E})<0&&(s=m,u=E)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(t)){const m=r.position[f];ie({value:s,inclusive:u},{value:m,inclusive:r.inclusive})<0&&(s=m,u=r.inclusive);break}return{value:s,inclusive:u}}function Cl(a,t,r){let s=Mi,u=!0;for(const f of Us(a,t)){let m=Mi,E=!0;switch(f.op){case">=":case">":m=x(f.value),E=!1;break;case"==":case"in":case"<=":m=f.value;break;case"<":m=f.value,E=!1;break;case"!=":case"not-in":m=Mi}G({value:s,inclusive:u},{value:m,inclusive:E})>0&&(s=m,u=E)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(t)){const m=r.position[f];G({value:s,inclusive:u},{value:m,inclusive:r.inclusive})>0&&(s=m,u=r.inclusive);break}return{value:s,inclusive:u}}class Fo{constructor(t,r=null,s=[],u=[],f=null,m="F",E=null,P=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=m,this.startAt=E,this.endAt=P,this.ce=null,this.le=null,this.he=null}}function cc(a,t,r,s,u,f,m,E){return new Fo(a,t,r,s,u,f,m,E)}function ds(a){return new Fo(a)}function rl(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function bo(a){return null!==a.collectionGroup}function Do(a){const t=ke(a);if(null===t.ce){t.ce=[];const r=new Set;for(const f of t.explicitOrderBy)t.ce.push(f),r.add(f.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let E=new Tr(ne.comparator);return m.filters.forEach(P=>{P.getFlattenedFilters().forEach(K=>{K.isInequality()&&(E=E.add(K.field))})}),E})(t).forEach(f=>{r.has(f.canonicalString())||f.isKeyField()||t.ce.push(new Io(f,s))}),r.has(ne.keyField().canonicalString())||t.ce.push(new Io(ne.keyField(),s))}return t.ce}function Qi(a){const t=ke(a);return t.le||(t.le=function xa(a,t){if("F"===a.limitType)return Au(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(u=>new Io(u.field,"desc"===u.dir?"asc":"desc"));const r=a.endAt?new Wr(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Wr(a.startAt.position,a.startAt.inclusive):null;return Au(a.path,a.collectionGroup,t,a.filters,a.limit,r,s)}}(t,Do(a))),t.le}function Na(a,t){const r=a.filters.concat([t]);return new Fo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function Cs(a,t,r){return new Fo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,r,a.startAt,a.endAt)}function ha(a,t){return Ma(Qi(a),Qi(t))&&a.limitType===t.limitType}function fa(a){return`${Zo(Qi(a))}|lt:${a.limitType}`}function Ts(a){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(u=>cs(u)).join(", ")}]`),Sr(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(u=>{return`${(m=u).field.canonicalString()} (${m.dir})`;var m}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(u=>Xo(u)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(u=>Xo(u)).join(",")),`Target(${s})`}(Qi(a))}; limitType=${a.limitType})`}function bs(a,t){return t.isFoundDocument()&&function(s,u){const f=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):H.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(a,t)&&function(s,u){for(const f of Do(s))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(a,t)&&function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0}(a,t)&&(u=t,!((s=a).startAt&&!function(m,E,P){const K=Ui(m,E,P);return m.inclusive?K<=0:K<0}(s.startAt,Do(s),u)||s.endAt&&!function(m,E,P){const K=Ui(m,E,P);return m.inclusive?K>=0:K>0}(s.endAt,Do(s),u)));var s,u}function Cu(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Yl(a){return(t,r)=>{let s=!1;for(const u of Do(a)){const f=b(u,t,r);if(0!==f)return f;s=s||u.field.isKeyField()}return 0}}function b(a,t,r){const s=a.field.isKeyField()?H.comparator(t.key,r.key):function(f,m,E){const P=m.data.field(f),K=E.data.field(f);return null!==P&&null!==K?Oi(P,K):Fe()}(a.field,t,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Fe()}}class z{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),s=this.inner[r];if(void 0!==s)for(const[u,f]of s)if(this.equalsFn(u,t))return f}has(t){return void 0!==this.get(t)}set(t,r){const s=this.mapKeyFn(t),u=this.inner[s];if(void 0===u)return this.inner[s]=[[t,r]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],t))return void(u[f]=[t,r]);u.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),s=this.inner[r];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],t))return 1===s.length?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(t){jr(this.inner,(r,s)=>{for(const[u,f]of s)t(u,f)})}isEmpty(){return Yr(this.inner)}size(){return this.innerSize}}const Oe=new cr(H.comparator);function B(){return Oe}const he=new cr(H.comparator);function je(...a){let t=he;for(const r of a)t=t.insert(r.key,r);return t}function Ht(a){let t=he;return a.forEach((r,s)=>t=t.insert(r,s.overlayedDocument)),t}function cn(){return Vr()}function mr(){return Vr()}function Vr(){return new z(a=>a.toString(),(a,t)=>a.isEqual(t))}const Kr=new cr(H.comparator),Ur=new Tr(H.comparator);function Qn(...a){let t=Ur;for(const r of a)t=t.add(r);return t}const oi=new Tr(Tn);function mi(){return oi}function ci(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ss(t)?"-0":t}}function zr(a){return{integerValue:""+a}}function _n(a,t){return qs(t)?zr(t):ci(a,t)}class Yn{constructor(){this._=void 0}}function Di(a,t,r){return a instanceof ki?function(u,f){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&as(f)&&(f=_l(f)),f&&(m.fields.__previous_value__=f),{mapValue:m}}(r,t):a instanceof Eo?gi(a,t):a instanceof vi?Lo(a,t):function(u,f){const m=yi(u,f),E=il(m)+il(u.Pe);return Qs(m)&&Qs(u.Pe)?zr(E):ci(u.serializer,E)}(a,t)}function mo(a,t,r){return a instanceof Eo?gi(a,t):a instanceof vi?Lo(a,t):r}function yi(a,t){return a instanceof vr?Qs(s=t)||(f=s)&&"doubleValue"in f?t:{integerValue:0}:null;var s,f}class ki extends Yn{}class Eo extends Yn{constructor(t){super(),this.elements=t}}function gi(a,t){const r=Ds(t);for(const s of a.elements)r.some(u=>po(u,s))||r.push(s);return{arrayValue:{values:r}}}class vi extends Yn{constructor(t){super(),this.elements=t}}function Lo(a,t){let r=Ds(t);for(const s of a.elements)r=r.filter(u=>!po(u,s));return{arrayValue:{values:r}}}class vr extends Yn{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function il(a){return Pr(a.integerValue||a.doubleValue)}function Ds(a){return As(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class pa{constructor(t,r){this.field=t,this.transform=r}}class Zl{constructor(t,r){this.version=t,this.transformResults=r}}class fi{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new fi}static exists(t){return new fi(void 0,t)}static updateTime(t){return new fi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jo(a,t){return void 0!==a.updateTime?t.isFoundDocument()&&t.version.isEqual(a.updateTime):void 0===a.exists||a.exists===t.isFoundDocument()}class Js{}function ga(a,t){if(!a.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return a.isNoDocument()?new wi(a.key,fi.none()):new ka(a.key,a.data,fi.none());{const r=a.data,s=_e.empty();let u=new Tr(ne.comparator);for(let f of t.fields)if(!u.has(f)){let m=r.field(f);null===m&&f.length>1&&(f=f.popLast(),m=r.field(f)),null===m?s.delete(f):s.set(f,m),u=u.add(f)}return new es(a.key,s,new Xi(u.toArray()),fi.none())}}function Oa(a,t,r){a instanceof ka?function(u,f,m){const E=u.value.clone(),P=Tu(u.fieldTransforms,f,m.transformResults);E.setAll(P),f.convertToFoundDocument(m.version,E).setHasCommittedMutations()}(a,t,r):a instanceof es?function(u,f,m){if(!Jo(u.precondition,f))return void f.convertToUnknownDocument(m.version);const E=Tu(u.fieldTransforms,f,m.transformResults),P=f.data;P.setAll(ea(u)),P.setAll(E),f.convertToFoundDocument(m.version,P).setHasCommittedMutations()}(a,t,r):t.convertToNoDocument(r.version).setHasCommittedMutations()}function _i(a,t,r,s){return a instanceof ka?function(f,m,E,P){if(!Jo(f.precondition,m))return E;const K=f.value.clone(),re=Fa(f.fieldTransforms,P,m);return K.setAll(re),m.convertToFoundDocument(m.version,K).setHasLocalMutations(),null}(a,t,r,s):a instanceof es?function(f,m,E,P){if(!Jo(f.precondition,m))return E;const K=Fa(f.fieldTransforms,P,m),re=m.data;return re.setAll(ea(f)),re.setAll(K),m.convertToFoundDocument(m.version,re).setHasLocalMutations(),null===E?null:E.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(Ae=>Ae.field))}(a,t,r,s):(E=r,Jo(a.precondition,m=t)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):E);var m,E}function $s(a,t){let r=null;for(const s of a.fieldTransforms){const u=t.data.field(s.field),f=yi(s.transform,u||null);null!=f&&(null===r&&(r=_e.empty()),r.set(s.field,f))}return r||null}function tr(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&(u=t.fieldTransforms,!!(void 0===(s=a.fieldTransforms)&&void 0===u||s&&u&&xn(s,u,(f,m)=>function Fi(a,t){return a.field.isEqual(t.field)&&(u=t.transform,(s=a.transform)instanceof Eo&&u instanceof Eo||s instanceof vi&&u instanceof vi?xn(s.elements,u.elements,po):s instanceof vr&&u instanceof vr?po(s.Pe,u.Pe):s instanceof ki&&u instanceof ki);var s,u}(f,m))))&&(0===a.type?a.value.isEqual(t.value):1!==a.type||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask));var s,u}class ka extends Js{constructor(t,r,s,u=[]){super(),this.key=t,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class es extends Js{constructor(t,r,s,u,f=[]){super(),this.key=t,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function ea(a){const t=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=a.data.field(r);t.set(r,s)}}),t}function Tu(a,t,r){const s=new Map;rt(a.length===r.length);for(let u=0;u<r.length;u++){const f=a[u],m=f.transform,E=t.data.field(f.field);s.set(f.field,mo(m,E,r[u]))}return s}function Fa(a,t,r){const s=new Map;for(const u of a){const f=u.transform,m=r.data.field(u.field);s.set(u.field,Di(f,m,t))}return s}class wi extends Js{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class La extends Js{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hi{constructor(t,r,s,u){this.batchId=t,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(t,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(t.key)&&Oa(f,t,s[u])}}applyToLocalView(t,r){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(r=_i(s,t,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(r=_i(s,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const s=mr();return this.mutations.forEach(u=>{const f=t.get(u.key),m=f.overlayedDocument;let E=this.applyToLocalView(m,f.mutatedFields);E=r.has(u.key)?null:E;const P=ga(m,E);null!==P&&s.set(u.key,P),m.isValidDocument()||m.convertToNoDocument(Mn.min())}),s}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Qn())}isEqual(t){return this.batchId===t.batchId&&xn(this.mutations,t.mutations,(r,s)=>tr(r,s))&&xn(this.baseMutations,t.baseMutations,(r,s)=>tr(r,s))}}class Yi{constructor(t,r,s,u){this.batch=t,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(t,r,s){rt(t.mutations.length===s.length);let u=function(){return Kr}();const f=t.mutations;for(let m=0;m<f.length;m++)u=u.insert(f[m].key,s[m].version);return new Yi(t,r,s,u)}}class Va{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Tl{constructor(t,r){this.count=t,this.unchangedNames=r}}var di,Hr;function dc(a){switch(a){default:return Fe();case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0}}function Jl(a){if(void 0===a)return nr("GRPC error has no .code"),Ue.UNKNOWN;switch(a){case di.OK:return Ue.OK;case di.CANCELLED:return Ue.CANCELLED;case di.UNKNOWN:return Ue.UNKNOWN;case di.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case di.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case di.INTERNAL:return Ue.INTERNAL;case di.UNAVAILABLE:return Ue.UNAVAILABLE;case di.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case di.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case di.NOT_FOUND:return Ue.NOT_FOUND;case di.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case di.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case di.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case di.ABORTED:return Ue.ABORTED;case di.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case di.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case di.DATA_LOSS:return Ue.DATA_LOSS;default:return Fe()}}(Hr=di||(di={}))[Hr.OK=0]="OK",Hr[Hr.CANCELLED=1]="CANCELLED",Hr[Hr.UNKNOWN=2]="UNKNOWN",Hr[Hr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hr[Hr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hr[Hr.NOT_FOUND=5]="NOT_FOUND",Hr[Hr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hr[Hr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hr[Hr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hr[Hr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hr[Hr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hr[Hr.ABORTED=10]="ABORTED",Hr[Hr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hr[Hr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hr[Hr.INTERNAL=13]="INTERNAL",Hr[Hr.UNAVAILABLE=14]="UNAVAILABLE",Hr[Hr.DATA_LOSS=15]="DATA_LOSS";function sd(){return new TextEncoder}const ip=new fn([4294967295,4294967295],0);function ad(a){const t=sd().encode(a),r=new Bt;return r.update(t),new Uint8Array(r.digest())}function yh(a){const t=new DataView(a.buffer),r=t.getUint32(0,!0),s=t.getUint32(4,!0),u=t.getUint32(8,!0),f=t.getUint32(12,!0);return[new fn([r,s],0),new fn([u,f],0)]}class Ih{constructor(t,r,s){if(this.bitmap=t,this.padding=r,this.hashCount=s,r<0||r>=8)throw new hc(`Invalid padding: ${r}`);if(s<0)throw new hc(`Invalid hash count: ${s}`);if(t.length>0&&0===this.hashCount)throw new hc(`Invalid hash count: ${s}`);if(0===t.length&&0!==r)throw new hc(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*t.length-r,this.Te=fn.fromNumber(this.Ie)}Ee(t,r,s){let u=t.add(r.multiply(fn.fromNumber(s)));return 1===u.compare(ip)&&(u=new fn([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const r=ad(t),[s,u]=yh(r);for(let f=0;f<this.hashCount;f++){const m=this.Ee(s,u,f);if(!this.de(m))return!1}return!0}static create(t,r,s){const u=t%8==0?0:8-t%8,f=new Uint8Array(Math.ceil(t/8)),m=new Ih(f,u,r);return s.forEach(E=>m.insert(E)),m}insert(t){if(0===this.Ie)return;const r=ad(t),[s,u]=yh(r);for(let f=0;f<this.hashCount;f++){const m=this.Ee(s,u,f);this.Ae(m)}}Ae(t){const r=Math.floor(t/8);this.bitmap[r]|=1<<t%8}}class hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class I{constructor(t,r,s,u,f){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(t,r,s){const u=new Map;return u.set(t,w.createSynthesizedTargetChangeForCurrentChange(t,r,s)),new I(Mn.min(),u,new cr(Tn),B(),Qn())}}class w{constructor(t,r,s,u,f){this.resumeToken=t,this.current=r,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(t,r,s){return new w(s,r,Qn(),Qn(),Qn())}}class N{constructor(t,r,s,u){this.Re=t,this.removedTargetIds=r,this.key=s,this.Ve=u}}class S{constructor(t,r){this.targetId=t,this.me=r}}class V{constructor(t,r,s=qr.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=r,this.resumeToken=s,this.cause=u}}class de{constructor(){this.fe=0,this.ge=nn(),this.pe=qr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Qn(),r=Qn(),s=Qn();return this.ge.forEach((u,f)=>{switch(f){case 0:t=t.add(u);break;case 2:r=r.add(u);break;case 1:s=s.add(u);break;default:Fe()}}),new w(this.pe,this.ye,t,r,s)}Ce(){this.we=!1,this.ge=nn()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,rt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ye{constructor(t){this.Le=t,this.Be=new Map,this.ke=B(),this.qe=Dt(),this.Qe=new cr(Tn)}Ke(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(r,t.Ve):this.Ue(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.Ue(r,t.key,t.Ve)}We(t){this.forEachTarget(t,r=>{const s=this.Ge(r);switch(t.state){case 0:this.ze(r)&&s.De(t.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(t.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(s.Ne(),s.De(t.resumeToken));break;case 4:this.ze(r)&&(this.je(r),s.De(t.resumeToken));break;default:Fe()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((s,u)=>{this.ze(u)&&r(u)})}He(t){const r=t.targetId,s=t.me.count,u=this.Je(r);if(u){const f=u.target;if(da(f))if(0===s){const m=new H(f.path);this.Ue(r,m,Ln.newNoDocument(m,Mn.min()))}else rt(1===s);else{const m=this.Ye(r);if(m!==s){const E=this.Ze(t),P=E?this.Xe(E,t,m):1;0!==P&&(this.je(r),this.Qe=this.Qe.insert(r,2===P?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=r;let m,E;try{m=Mo(s).toUint8Array()}catch(P){if(P instanceof ko)return rr("Decoding the base64 bloom filter in existence filter failed ("+P.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw P}try{E=new Ih(m,u,f)}catch(P){return rr(P instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",P),null}return 0===E.Ie?null:E}Xe(t,r,s){return r.me.count===s-this.nt(t,r.targetId)?0:2}nt(t,r){const s=this.Le.getRemoteKeysForTarget(r);let u=0;return s.forEach(f=>{const m=this.Le.tt(),E=`projects/${m.projectId}/databases/${m.database}/documents/${f.path.canonicalString()}`;t.mightContain(E)||(this.Ue(r,f,null),u++)}),u}rt(t){const r=new Map;this.Be.forEach((f,m)=>{const E=this.Je(m);if(E){if(f.current&&da(E.target)){const P=new H(E.target.path);null!==this.ke.get(P)||this.it(m,P)||this.Ue(m,P,Ln.newNoDocument(P,t))}f.be&&(r.set(m,f.ve()),f.Ce())}});let s=Qn();this.qe.forEach((f,m)=>{let E=!0;m.forEachWhile(P=>{const K=this.Je(P);return!K||"TargetPurposeLimboResolution"===K.purpose||(E=!1,!1)}),E&&(s=s.add(f))}),this.ke.forEach((f,m)=>m.setReadTime(t));const u=new I(t,r,this.Qe,this.ke,s);return this.ke=B(),this.qe=Dt(),this.Qe=new cr(Tn),u}$e(t,r){if(!this.ze(t))return;const s=this.it(t,r.key)?2:0;this.Ge(t).Fe(r.key,s),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t))}Ue(t,r,s){if(!this.ze(t))return;const u=this.Ge(t);this.it(t,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(t)),s&&(this.ke=this.ke.insert(r,s))}removeTarget(t){this.Be.delete(t)}Ye(t){const r=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let r=this.Be.get(t);return r||(r=new de,this.Be.set(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new Tr(Tn),this.qe=this.qe.insert(t,r)),r}ze(t){const r=null!==this.Je(t);return r||yt("WatchChangeAggregator","Detected inactive target",t),r}Je(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new de),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.Ue(t,r,null)})}it(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function Dt(){return new cr(H.comparator)}function nn(){return new cr(H.comparator)}const Pt={asc:"ASCENDING",desc:"DESCENDING"},On={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cr={and:"AND",or:"OR"};class ti{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Dr(a,t){return a.useProto3Json||Sr(t)?t:{value:t}}function Si(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Vo(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function xo(a,t){return Si(a,t.toTimestamp())}function Ii(a){return rt(!!a),Mn.fromTimestamp(function(r){const s=yo(r);return new _r(s.seconds,s.nanos)}(a))}function wo(a,t){return bl(a,t).canonicalString()}function bl(a,t){const r=(u=a,new ur(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===t?r:r.child(t)}function Dl(a){const t=ur.fromString(a);return rt(tu(t)),t}function $a(a,t){return wo(a.databaseId,t.path)}function hs(a,t){const r=Dl(t);if(r.get(1)!==a.databaseId.projectId)throw new W(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new W(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new H(Bs(r))}function Ba(a,t){return wo(a.databaseId,t)}function bu(a){const t=Dl(a);return 4===t.length?ur.emptyPath():Bs(t)}function Eh(a){return new ur(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Bs(a){return rt(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function Ah(a,t,r){return{name:$a(a,t),fields:r.value.mapValue.fields}}function sl(a,t,r){const s=hs(a,t.name),u=Ii(t.updateTime),f=t.createTime?Ii(t.createTime):Mn.min(),m=new _e({mapValue:{fields:t.fields}}),E=Ln.newFoundDocument(s,u,f,m);return r&&E.setHasCommittedMutations(),r?E.setHasCommittedMutations():E}function al(a,t){let r;if(t instanceof ka)r={update:Ah(a,t.key,t.value)};else if(t instanceof wi)r={delete:$a(a,t.key)};else if(t instanceof es)r={update:Ah(a,t.key,t.data),updateMask:fd(t.fieldMask)};else{if(!(t instanceof La))return Fe();r={verify:$a(a,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(s=>function(f,m){const E=m.transform;if(E instanceof ki)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof Eo)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof vi)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof vr)return{fieldPath:m.field.canonicalString(),increment:E.Pe};throw Fe()}(0,s))),t.precondition.isNone||(r.currentDocument=void 0!==(f=t.precondition).updateTime?{updateTime:xo(a,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:Fe()),r;var f}function Uo(a,t){const r=t.currentDocument?void 0!==(f=t.currentDocument).updateTime?fi.updateTime(Ii(f.updateTime)):void 0!==f.exists?fi.exists(f.exists):fi.none():fi.none(),s=t.updateTransforms?t.updateTransforms.map(u=>function(m,E){let P=null;"setToServerValue"in E?(rt("REQUEST_TIME"===E.setToServerValue),P=new ki):"appendMissingElements"in E?P=new Eo(E.appendMissingElements.values||[]):"removeAllFromArray"in E?P=new vi(E.removeAllFromArray.values||[]):"increment"in E?P=new vr(m,E.increment):Fe();const K=ne.fromServerFormat(E.fieldPath);return new pa(K,P)}(a,u)):[];var f;if(t.update){const u=hs(a,t.update.name),f=new _e({mapValue:{fields:t.update.fields}});if(t.updateMask){const m=new Xi((t.updateMask.fieldPaths||[]).map(re=>ne.fromServerFormat(re)));return new es(u,f,m,r,s)}return new ka(u,f,r,s)}if(t.delete){const u=hs(a,t.delete);return new wi(u,r)}if(t.verify){const u=hs(a,t.verify);return new La(u,r)}return Fe()}function eu(a,t){return{documents:[Ba(a,t.path)]}}function ja(a,t){const r={structuredQuery:{}},s=t.path;let u;null!==t.collectionGroup?(u=s,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=Ba(a,u);const f=function(K){if(0!==K.length)return hd(Zr.create(K,"and"))}(t.filters);f&&(r.structuredQuery.where=f);const m=function(K){if(0!==K.length)return K.map(re=>{return{field:ll((Xe=re).field),direction:ta(Xe.dir)};var Xe})}(t.orderBy);m&&(r.structuredQuery.orderBy=m);const E=Dr(a,t.limit);return null!==E&&(r.structuredQuery.limit=E),t.startAt&&(r.structuredQuery.startAt={before:(K=t.startAt).inclusive,values:K.position}),t.endAt&&(r.structuredQuery.endAt=function(K){return{before:!K.inclusive,values:K.position}}(t.endAt)),{_t:r,parent:u};var K}function ld(a){let t=bu(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){rt(1===s);const re=r.from[0];re.allDescendants?u=re.collectionId:t=t.child(re.collectionId)}let f=[];r.where&&(f=function(Ae){const Xe=ud(Ae);return Xe instanceof Zr&&xi(Xe)?Xe.getFilters():[Xe]}(r.where));let m=[];r.orderBy&&(m=r.orderBy.map(Xe=>{return new Io(js((jt=Xe).field),function(Xt){switch(Xt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(jt.direction));var jt}));let E=null;r.limit&&(E=function(Ae){let Xe;return Xe="object"==typeof Ae?Ae.value:Ae,Sr(Xe)?null:Xe}(r.limit));let P=null;var Ae;r.startAt&&(P=new Wr((Ae=r.startAt).values||[],!!Ae.before));let K=null;return r.endAt&&(K=function(Ae){return new Wr(Ae.values||[],!Ae.before)}(r.endAt)),cc(t,u,m,f,E,"F",P,K)}function ud(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=js(r.unaryFilter.field);return Or.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=js(r.unaryFilter.field);return Or.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=js(r.unaryFilter.field);return Or.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=js(r.unaryFilter.field);return Or.create(m,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(a):void 0!==a.fieldFilter?Or.create(js((r=a).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return Zr.create(r.compositeFilter.filters.map(s=>ud(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Fe()}}(r.compositeFilter.op))}(a):Fe();var r}function ta(a){return Pt[a]}function cd(a){return On[a]}function dd(a){return Cr[a]}function ll(a){return{fieldPath:a.canonicalString()}}function js(a){return ne.fromServerFormat(a.fieldPath)}function hd(a){return a instanceof Or?function(r){if("=="===r.op){if(Yo(r.value))return{unaryFilter:{field:ll(r.field),op:"IS_NAN"}};if(Xr(r.value))return{unaryFilter:{field:ll(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Yo(r.value))return{unaryFilter:{field:ll(r.field),op:"IS_NOT_NAN"}};if(Xr(r.value))return{unaryFilter:{field:ll(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(r.field),op:cd(r.op),value:r.value}}}(a):a instanceof Zr?function(r){const s=r.getFilters().map(u=>hd(u));return 1===s.length?s[0]:{compositeFilter:{op:dd(r.op),filters:s}}}(a):Fe()}function fd(a){const t=[];return a.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function tu(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class Hs{constructor(t,r,s,u,f=Mn.min(),m=Mn.min(),E=qr.EMPTY_BYTE_STRING,P=null){this.target=t,this.targetId=r,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=E,this.expectedCount=P}withSequenceNumber(t){return new Hs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class na{constructor(t){this.ct=t}}function Du(a,t){const r=t.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:nu(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())s.document={name:$a(f=a.ct,(m=t).key),fields:m.data.value.mapValue.fields,updateTime:Si(f,m.version.toTimestamp()),createTime:Si(f,m.createTime.toTimestamp())};else if(t.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:ul(t.version)};else{if(!t.isUnknownDocument())return Fe();s.unknownDocument={path:r.path.toArray(),version:ul(t.version)}}var f,m;return s}function nu(a){const t=a.toTimestamp();return[t.seconds,t.nanoseconds]}function ul(a){const t=a.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function wu(a){const t=new _r(a.seconds,a.nanoseconds);return Mn.fromTimestamp(t)}function ru(a,t){const r=(t.baseMutations||[]).map(f=>Uo(a.ct,f));for(let f=0;f<t.mutations.length-1;++f)f+1<t.mutations.length&&void 0!==t.mutations[f+1].transform&&(t.mutations[f].updateTransforms=t.mutations[f+1].transform.fieldTransforms,t.mutations.splice(f+1,1),++f);const s=t.mutations.map(f=>Uo(a.ct,f)),u=_r.fromMillis(t.localWriteTimeMs);return new Hi(t.batchId,u,r,s)}function iu(a){const t=wu(a.readTime),r=void 0!==a.lastLimboFreeSnapshotVersion?wu(a.lastLimboFreeSnapshotVersion):Mn.min();let s;return s=void 0!==a.query.documents?(rt(1===(f=a.query).documents.length),Qi(ds(bu(f.documents[0])))):function(f){return Qi(ld(f))}(a.query),new Hs(s,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,t,r,qr.fromBase64String(a.resumeToken));var f}function op(a,t){const r=ul(t.snapshotVersion),s=ul(t.lastLimboFreeSnapshotVersion);let u;u=da(t.target)?eu(a.ct,t.target):ja(a.ct,t.target)._t;const f=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Zo(t.target),readTime:r,resumeToken:f,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function pd(a){const t=ld({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?Cs(t,t.limit,"L"):t}function ma(a,t){return new Va(t.largestBatchId,Uo(a.ct,t.overlayMutation))}function sp(a,t){const r=t.path.lastSegment();return[a,li(t.path.popLast()),r]}function ap(a,t,r,s){return{indexId:a,uid:t,sequenceNumber:r,readTime:ul(s.readTime),documentKey:li(s.documentKey.path),largestBatchId:s.largestBatchId}}class Dh{getBundleMetadata(t,r){return lp(t).get(r).next(s=>{if(s)return{id:(f=s).bundleId,createTime:wu(f.createTime),version:f.version};var f})}saveBundleMetadata(t,r){return lp(t).put({bundleId:(u=r).id,createTime:ul(Ii(u.createTime)),version:u.version});var u}getNamedQuery(t,r){return gd(t).get(r).next(s=>{if(s)return{name:(f=s).name,query:pd(f.bundledQuery),readTime:wu(f.readTime)};var f})}saveNamedQuery(t,r){return gd(t).put({name:(u=r).name,readTime:ul(Ii(u.readTime)),bundledQuery:u.bundledQuery});var u}}function lp(a){return Un(a,"bundles")}function gd(a){return Un(a,"namedQueries")}class Zt{constructor(t,r){this.serializer=t,this.userId=r}static lt(t,r){return new Zt(t,r.uid||"")}getOverlay(t,r){return Nr(t).get(sp(this.userId,r)).next(s=>s?ma(this.serializer,s):null)}getOverlays(t,r){const s=cn();return It.forEach(r,u=>this.getOverlay(t,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(t,r,s){const u=[];return s.forEach((f,m)=>{const E=new Va(r,m);u.push(this.ht(t,E))}),It.waitFor(u)}removeOverlaysForBatchId(t,r,s){const u=new Set;r.forEach(m=>u.add(li(m.getCollectionPath())));const f=[];return u.forEach(m=>{const E=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,s+1],!1,!0);f.push(Nr(t).j("collectionPathOverlayIndex",E))}),It.waitFor(f)}getOverlaysForCollection(t,r,s){const u=cn(),f=li(r),m=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,Number.POSITIVE_INFINITY],!0);return Nr(t).U("collectionPathOverlayIndex",m).next(E=>{for(const P of E){const K=ma(this.serializer,P);u.set(K.getKey(),K)}return u})}getOverlaysForCollectionGroup(t,r,s,u){const f=cn();let m;const E=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Nr(t).J({index:"collectionGroupOverlayIndex",range:E},(P,K,re)=>{const Ae=ma(this.serializer,K);f.size()<u||Ae.largestBatchId===m?(f.set(Ae.getKey(),Ae),m=Ae.largestBatchId):re.done()}).next(()=>f)}ht(t,r){return Nr(t).put(function(u,f,m){const[E,P,K]=sp(f,m.mutation.key);return{userId:f,collectionPath:P,documentId:K,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:al(u.ct,m.mutation)}}(this.serializer,this.userId,r))}}function Nr(a){return Un(a,"documentOverlays")}class wh{Pt(t){return Un(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(r=>{const s=null==r?void 0:r.value;return s?qr.fromUint8Array(s):qr.EMPTY_BYTE_STRING})}setSessionToken(t,r){return this.Pt(t).put({name:"sessionToken",value:r.toUint8Array()})}}class Ha{constructor(){}It(t,r){this.Tt(t,r),r.Et()}Tt(t,r){if("nullValue"in t)this.dt(r,5);else if("booleanValue"in t)this.dt(r,10),r.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(r,15),r.At(Pr(t.integerValue));else if("doubleValue"in t){const s=Pr(t.doubleValue);isNaN(s)?this.dt(r,13):(this.dt(r,15),ss(s)?r.At(0):r.At(s))}else if("timestampValue"in t){let s=t.timestampValue;this.dt(r,20),"string"==typeof s&&(s=yo(s)),r.Rt(`${s.seconds||""}`),r.At(s.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,r),this.ft(r);else if("bytesValue"in t)this.dt(r,30),r.gt(Mo(t.bytesValue)),this.ft(r);else if("referenceValue"in t)this.yt(t.referenceValue,r);else if("geoPointValue"in t){const s=t.geoPointValue;this.dt(r,45),r.At(s.latitude||0),r.At(s.longitude||0)}else"mapValue"in t?Il(t)?this.dt(r,Number.MAX_SAFE_INTEGER):Ja(t)?this.wt(t.mapValue,r):(this.St(t.mapValue,r),this.ft(r)):"arrayValue"in t?(this.bt(t.arrayValue,r),this.ft(r)):Fe()}Vt(t,r){this.dt(r,25),this.Dt(t,r)}Dt(t,r){r.Rt(t)}St(t,r){const s=t.fields||{};this.dt(r,55);for(const u of Object.keys(s))this.Vt(u,r),this.Tt(s[u],r)}wt(t,r){var s,u;const f=t.fields||{};this.dt(r,53);const m="value",E=(null===(u=null===(s=f[m].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(r,15),r.At(Pr(E)),this.Vt(m,r),this.Tt(f[m],r)}bt(t,r){const s=t.values||[];this.dt(r,50);for(const u of s)this.Tt(u,r)}yt(t,r){this.dt(r,37),H.fromName(t).path.forEach(s=>{this.dt(r,60),this.Dt(s,r)})}dt(t,r){t.At(r)}ft(t){t.At(2)}}function Ei(a){if(0===a)return 8;let t=0;return!(a>>4)&&(t+=4,a<<=4),!(a>>6)&&(t+=2,a<<=2),!(a>>7)&&(t+=1),t}function md(a){const t=64-function(s){let u=0;for(let f=0;f<8;++f){const m=Ei(255&s[f]);if(u+=m,8!==m)break}return u}(a);return Math.ceil(t/8)}Ha.vt=new Ha;class Su{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const r=t[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ft(s.value),s=r.next();this.Mt()}xt(t){const r=t[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ot(s.value),s=r.next();this.Nt()}Lt(t){for(const r of t){const s=r.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=r.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(t){for(const r of t){const s=r.charCodeAt(0);if(s<128)this.Ot(s);else if(s<2048)this.Ot(960|s>>>6),this.Ot(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s);else{const u=r.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(t){const r=this.qt(t),s=md(r);this.Qt(1+s),this.buffer[this.position++]=255&s;for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=255&r[u]}Kt(t){const r=this.qt(t),s=md(r);this.Qt(1+s),this.buffer[this.position++]=~(255&s);for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const r=function(f){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,f,!1),new Uint8Array(m.buffer)}(t),s=!!(128&r[0]);r[0]^=s?255:128;for(let u=1;u<r.length;++u)r[u]^=s?255:0;return r}Ft(t){const r=255&t;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(t){const r=255&t;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const r=t+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class ra{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class Sh{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class wl{constructor(){this.jt=new Su,this.Ht=new ra(this.jt),this.Jt=new Sh(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class za{constructor(t,r,s,u){this.indexId=t,this.documentKey=r,this.arrayValue=s,this.directionalValue=u}Zt(){const t=this.directionalValue.length,r=0===t||255===this.directionalValue[t-1]?t+1:t,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==t?s.set([0],this.directionalValue.length):++s[s.length-1],new za(this.indexId,this.documentKey,this.arrayValue,s)}}function ou(a,t){let r=a.indexId-t.indexId;return 0!==r?r:(r=Im(a.arrayValue,t.arrayValue),0!==r?r:(r=Im(a.directionalValue,t.directionalValue),0!==r?r:H.comparator(a.documentKey,t.documentKey)))}function Im(a,t){for(let r=0;r<a.length&&r<t.length;++r){const s=a[r]-t[r];if(0!==s)return s}return a.length-t.length}class Rh{constructor(t){this.Xt=new Tr((r,s)=>ne.comparator(r.field,s.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const r of t.filters){const s=r;s.isInequality()?this.Xt=this.Xt.add(s):this.tn.push(s)}}get nn(){return this.Xt.size>1}rn(t){if(rt(t.collectionGroup===this.collectionId),this.nn)return!1;const r=J(t);if(void 0!==r&&!this.sn(r))return!1;const s=te(t);let u=new Set,f=0,m=0;for(;f<s.length&&this.sn(s[f]);++f)u=u.add(s[f].fieldPath.canonicalString());if(f===s.length)return!0;if(this.Xt.size>0){const E=this.Xt.getIterator().getNext();if(!u.has(E.field.canonicalString())){const P=s[f];if(!this.on(E,P)||!this._n(this.en[m++],P))return!1}++f}for(;f<s.length;++f)if(m>=this.en.length||!this._n(this.en[m++],s[f]))return!1;return!0}an(){if(this.nn)return null;let t=new Tr(ne.comparator);const r=[];for(const s of this.tn)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new mt(s.field,2));else{if(t.has(s.field))continue;t=t.add(s.field),r.push(new mt(s.field,0))}for(const s of this.en)s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),r.push(new mt(s.field,"asc"===s.dir?0:1)));return new Ee(Ee.UNKNOWN_ID,this.collectionId,r,an.empty())}sn(t){for(const r of this.tn)if(this.on(r,t))return!0;return!1}on(t,r){return!(void 0===t||!t.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,r){return!!t.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===t.dir||1===r.kind&&"desc"===t.dir)}}function fc(a){var t,r;if(rt(a instanceof Or||a instanceof Zr),a instanceof Or){if(a instanceof Eu){const u=(null===(r=null===(t=a.value.arrayValue)||void 0===t?void 0:t.values)||void 0===r?void 0:r.map(f=>Or.create(a.field,"==",f)))||[];return Zr.create(u,"or")}return a}const s=a.filters.map(u=>fc(u));return Zr.create(s,a.op)}function up(a){if(0===a.getFilters().length)return[];const t=ts(fc(a));return rt(Ph(t)),$o(t)||ia(t)?[t]:t.getFilters()}function $o(a){return a instanceof Or}function ia(a){return a instanceof Zr&&xi(a)}function Ph(a){return $o(a)||ia(a)||function(r){if(r instanceof Zr&&Bi(r)){for(const s of r.getFilters())if(!$o(s)&&!ia(s))return!1;return!0}return!1}(a)}function ts(a){if(rt(a instanceof Or||a instanceof Zr),a instanceof Or)return a;if(1===a.filters.length)return ts(a.filters[0]);const t=a.filters.map(s=>ts(s));let r=Zr.create(t,a.op);return r=pc(r),Ph(r)?r:(rt(r instanceof Zr),rt(br(r)),rt(r.filters.length>1),r.filters.reduce((s,u)=>va(s,u)))}function va(a,t){let r;return rt(a instanceof Or||a instanceof Zr),rt(t instanceof Or||t instanceof Zr),r=a instanceof Or?t instanceof Or?Zr.create([a,t],"and"):cp(a,t):t instanceof Or?cp(t,a):function(u,f){if(rt(u.filters.length>0&&f.filters.length>0),br(u)&&br(f))return Pa(u,f.getFilters());const m=Bi(u)?u:f,E=Bi(u)?f:u,P=m.filters.map(K=>va(K,E));return Zr.create(P,"or")}(a,t),pc(r)}function cp(a,t){if(br(t))return Pa(t,a.getFilters());{const r=t.filters.map(s=>va(a,s));return Zr.create(r,"or")}}function pc(a){if(rt(a instanceof Or||a instanceof Zr),a instanceof Or)return a;const t=a.getFilters();if(1===t.length)return pc(t[0]);if(us(a))return a;const r=t.map(u=>pc(u)),s=[];return r.forEach(u=>{u instanceof Or?s.push(u):u instanceof Zr&&(u.op===a.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:Zr.create(s,a.op)}class Em{constructor(){this.un=new Mh}addToCollectionParentIndex(t,r){return this.un.add(r),It.resolve()}getCollectionParents(t,r){return It.resolve(this.un.getEntries(r))}addFieldIndex(t,r){return It.resolve()}deleteFieldIndex(t,r){return It.resolve()}deleteAllFieldIndexes(t){return It.resolve()}createTargetIndexes(t,r){return It.resolve()}getDocumentsMatchingTarget(t,r){return It.resolve(null)}getIndexType(t,r){return It.resolve(0)}getFieldIndexes(t,r){return It.resolve([])}getNextCollectionGroupToUpdate(t){return It.resolve(null)}getMinOffset(t,r){return It.resolve(Nn.min())}getMinOffsetFromCollectionGroup(t,r){return It.resolve(Nn.min())}updateCollectionGroup(t,r,s){return It.resolve()}updateIndexEntries(t,r){return It.resolve()}}class Mh{constructor(){this.index={}}add(t){const r=t.lastSegment(),s=t.popLast(),u=this.index[r]||new Tr(ur.comparator),f=!u.has(s);return this.index[r]=u.add(s),f}has(t){const r=t.lastSegment(),s=t.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(t){return(this.index[t]||new Tr(ur.comparator)).toArray()}}const Ru=new Uint8Array(0);class xh{constructor(t,r){this.databaseId=r,this.cn=new Mh,this.ln=new z(s=>Zo(s),(s,u)=>Ma(s,u)),this.uid=t.uid||""}addToCollectionParentIndex(t,r){if(!this.cn.has(r)){const s=r.lastSegment(),u=r.popLast();t.addOnCommittedListener(()=>{this.cn.add(r)});const f={collectionId:s,parent:li(u)};return vd(t).put(f)}return It.resolve()}getCollectionParents(t,r){const s=[],u=IDBKeyRange.bound([r,""],[Qr(r),""],!1,!0);return vd(t).U(u).next(f=>{for(const m of f){if(m.collectionId!==r)break;s.push(co(m.parent))}return s})}addFieldIndex(t,r){const s=gc(t),u={indexId:(E=r).indexId,collectionGroup:E.collectionGroup,fields:E.fields.map(P=>[P.fieldPath.canonicalString(),P.kind])};var E;delete u.indexId;const f=s.add(u);if(r.indexState){const m=su(t);return f.next(E=>{m.put(ap(E,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return f.next()}deleteFieldIndex(t,r){const s=gc(t),u=su(t),f=_a(t);return s.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const r=gc(t),s=_a(t),u=su(t);return r.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(t,r){return It.forEach(this.hn(r),s=>this.getIndexType(t,s).next(u=>{if(0===u||1===u){const f=new Rh(s).an();if(null!=f)return this.addFieldIndex(t,f)}}))}getDocumentsMatchingTarget(t,r){const s=_a(t);let u=!0;const f=new Map;return It.forEach(this.hn(r),m=>this.Pn(t,m).next(E=>{u&&(u=!!E),f.set(m,E)})).next(()=>{if(u){let m=Qn();const E=[];return It.forEach(f,(P,K)=>{var kn;yt("IndexedDbIndexManager",`Using index ${kn=P,`id=${kn.indexId}|cg=${kn.collectionGroup}|f=${kn.fields.map(Pn=>`${Pn.fieldPath}:${Pn.kind}`).join(",")}`} to execute ${Zo(r)}`);const re=function(kn,Pn){const yr=J(Pn);if(void 0===yr)return null;for(const ar of Us(kn,yr.fieldPath))switch(ar.op){case"array-contains-any":return ar.value.arrayValue.values||[];case"array-contains":return[ar.value]}return null}(K,P),Ae=function(kn,Pn){const yr=new Map;for(const ar of te(Pn))for(const Tt of Us(kn,ar.fieldPath))switch(Tt.op){case"==":case"in":yr.set(ar.fieldPath.canonicalString(),Tt.value);break;case"not-in":case"!=":return yr.set(ar.fieldPath.canonicalString(),Tt.value),Array.from(yr.values())}return null}(K,P),Xe=function(kn,Pn){const yr=[];let ar=!0;for(const Tt of te(Pn)){const Je=0===Tt.kind?nl(kn,Tt.fieldPath,kn.startAt):Cl(kn,Tt.fieldPath,kn.startAt);yr.push(Je.value),ar&&(ar=Je.inclusive)}return new Wr(yr,ar)}(K,P),Ct=function(kn,Pn){const yr=[];let ar=!0;for(const Tt of te(Pn)){const Je=0===Tt.kind?Cl(kn,Tt.fieldPath,kn.endAt):nl(kn,Tt.fieldPath,kn.endAt);yr.push(Je.value),ar&&(ar=Je.inclusive)}return new Wr(yr,ar)}(K,P),jt=this.In(P,K,Xe),sn=this.In(P,K,Ct),Xt=this.Tn(P,K,Ae),Rn=this.En(P.indexId,re,jt,Xe.inclusive,sn,Ct.inclusive,Xt);return It.forEach(Rn,Gn=>s.G(Gn,r.limit).next(kn=>{kn.forEach(Pn=>{const yr=H.fromSegments(Pn.documentKey);m.has(yr)||(m=m.add(yr),E.push(yr))})}))}).next(()=>E)}return It.resolve(null)})}hn(t){let r=this.ln.get(t);return r||(r=0===t.filters.length?[t]:up(Zr.create(t.filters,"and")).map(s=>Au(t.path,t.collectionGroup,t.orderBy,s.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,r),r)}En(t,r,s,u,f,m,E){const P=(null!=r?r.length:1)*Math.max(s.length,f.length),K=P/(null!=r?r.length:1),re=[];for(let Ae=0;Ae<P;++Ae){const Xe=r?this.dn(r[Ae/K]):Ru,Ct=this.An(t,Xe,s[Ae%K],u),jt=this.Rn(t,Xe,f[Ae%K],m),sn=E.map(Xt=>this.An(t,Xe,Xt,!0));re.push(...this.createRange(Ct,jt,sn))}return re}An(t,r,s,u){const f=new za(t,H.empty(),r,s);return u?f:f.Zt()}Rn(t,r,s,u){const f=new za(t,H.empty(),r,s);return u?f.Zt():f}Pn(t,r){const s=new Rh(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(t,u).next(f=>{let m=null;for(const E of f)s.rn(E)&&(!m||E.fields.length>m.fields.length)&&(m=E);return m})}getIndexType(t,r){let s=2;const u=this.hn(r);return It.forEach(u,f=>this.Pn(t,f).next(m=>{m?0!==s&&m.fields.length<function(P){let K=new Tr(ne.comparator),re=!1;for(const Ae of P.filters)for(const Xe of Ae.getFlattenedFilters())Xe.field.isKeyField()||("array-contains"===Xe.op||"array-contains-any"===Xe.op?re=!0:K=K.add(Xe.field));for(const Ae of P.orderBy)Ae.field.isKeyField()||(K=K.add(Ae.field));return K.size+(re?1:0)}(f)&&(s=1):s=0})).next(()=>null!==r.limit&&u.length>1&&2===s?1:s)}Vn(t,r){const s=new wl;for(const u of te(t)){const f=r.data.field(u.fieldPath);if(null==f)return null;const m=s.Yt(u.kind);Ha.vt.It(f,m)}return s.zt()}dn(t){const r=new wl;return Ha.vt.It(t,r.Yt(0)),r.zt()}mn(t,r){const s=new wl;return Ha.vt.It(Qo(this.databaseId,r),s.Yt(function(f){const m=te(f);return 0===m.length?0:m[m.length-1].kind}(t))),s.zt()}Tn(t,r,s){if(null===s)return[];let u=[];u.push(new wl);let f=0;for(const m of te(t)){const E=s[f++];for(const P of u)if(this.fn(r,m.fieldPath)&&As(E))u=this.gn(u,m,E);else{const K=P.Yt(m.kind);Ha.vt.It(E,K)}}return this.pn(u)}In(t,r,s){return this.Tn(t,r,s.position)}pn(t){const r=[];for(let s=0;s<t.length;++s)r[s]=t[s].zt();return r}gn(t,r,s){const u=[...t],f=[];for(const m of s.arrayValue.values||[])for(const E of u){const P=new wl;P.seed(E.zt()),Ha.vt.It(m,P.Yt(r.kind)),f.push(P)}return f}fn(t,r){return!!t.filters.find(s=>s instanceof Or&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(t,r){const s=gc(t),u=su(t);return(r?s.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.U()).next(f=>{const m=[];return It.forEach(f,E=>u.get([E.indexId,this.uid]).next(P=>{m.push(function(re,Ae){const Xe=Ae?new an(Ae.sequenceNumber,new Nn(wu(Ae.readTime),new H(co(Ae.documentKey)),Ae.largestBatchId)):an.empty(),Ct=re.fields.map(([jt,sn])=>new mt(ne.fromServerFormat(jt),sn));return new Ee(re.indexId,re.collectionGroup,Ct,Xe)}(E,P))})).next(()=>m)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(r=>0===r.length?null:(r.sort((s,u)=>{const f=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:Tn(s.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(t,r,s){const u=gc(t),f=su(t);return this.yn(t).next(m=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(E=>It.forEach(E,P=>f.put(ap(P.indexId,this.uid,m,s)))))}updateIndexEntries(t,r){const s=new Map;return It.forEach(r,(u,f)=>{const m=s.get(u.collectionGroup);return(m?It.resolve(m):this.getFieldIndexes(t,u.collectionGroup)).next(E=>(s.set(u.collectionGroup,E),It.forEach(E,P=>this.wn(t,u,P).next(K=>{const re=this.Sn(f,P);return K.isEqual(re)?It.resolve():this.bn(t,f,P,K,re)}))))})}Dn(t,r,s,u){return _a(t).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(s,r.key),documentKey:r.key.path.toArray()})}vn(t,r,s,u){return _a(t).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(s,r.key),r.key.path.toArray()])}wn(t,r,s){const u=_a(t);let f=new Tr(ou);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,r)])},(m,E)=>{f=f.add(new za(s.indexId,r,E.arrayValue,E.directionalValue))}).next(()=>f)}Sn(t,r){let s=new Tr(ou);const u=this.Vn(r,t);if(null==u)return s;const f=J(r);if(null!=f){const m=t.data.field(f.fieldPath);if(As(m))for(const E of m.arrayValue.values||[])s=s.add(new za(r.indexId,t.key,this.dn(E),u))}else s=s.add(new za(r.indexId,t.key,Ru,u));return s}bn(t,r,s,u,f){yt("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const m=[];return function(P,K,re,Ae,Xe){const Ct=P.getIterator(),jt=K.getIterator();let sn=Co(Ct),Xt=Co(jt);for(;sn||Xt;){let Rn=!1,Gn=!1;if(sn&&Xt){const kn=re(sn,Xt);kn<0?Gn=!0:kn>0&&(Rn=!0)}else null!=sn?Gn=!0:Rn=!0;Rn?(Ae(Xt),Xt=Co(jt)):Gn?(Xe(sn),sn=Co(Ct)):(sn=Co(Ct),Xt=Co(jt))}}(u,f,ou,E=>{m.push(this.Dn(t,r,s,E))},E=>{m.push(this.vn(t,r,s,E))}),It.waitFor(m)}yn(t){let r=1;return su(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,f)=>{f.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(t,r,s){s=s.sort((m,E)=>ou(m,E)).filter((m,E,P)=>!E||0!==ou(m,P[E-1]));const u=[];u.push(t);for(const m of s){const E=ou(m,t),P=ou(m,r);if(0===E)u[0]=t.Zt();else if(E>0&&P<0)u.push(m),u.push(m.Zt());else if(P>0)break}u.push(r);const f=[];for(let m=0;m<u.length;m+=2){if(this.Cn(u[m],u[m+1]))return[];f.push(IDBKeyRange.bound([u[m].indexId,this.uid,u[m].arrayValue,u[m].directionalValue,Ru,[]],[u[m+1].indexId,this.uid,u[m+1].arrayValue,u[m+1].directionalValue,Ru,[]]))}return f}Cn(t,r){return ou(t,r)>0}getMinOffsetFromCollectionGroup(t,r){return this.getFieldIndexes(t,r).next(_d)}getMinOffset(t,r){return It.mapArray(this.hn(r),s=>this.Pn(t,s).next(u=>u||Fe())).next(_d)}}function vd(a){return Un(a,"collectionParents")}function _a(a){return Un(a,"indexEntries")}function gc(a){return Un(a,"indexConfiguration")}function su(a){return Un(a,"indexState")}function _d(a){rt(0!==a.length);let t=a[0].indexState.offset,r=t.largestBatchId;for(let s=1;s<a.length;s++){const u=a[s].indexState.offset;si(u,t)<0&&(t=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new Nn(t.readTime,t.documentKey,r)}const Nh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bo{constructor(t,r,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(t){return new Bo(t,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function yd(a,t,r){const s=a.store("mutations"),u=a.store("documentMutations"),f=[],m=IDBKeyRange.only(r.batchId);let E=0;const P=s.J({range:m},(re,Ae,Xe)=>(E++,Xe.delete()));f.push(P.next(()=>{rt(1===E)}));const K=[];for(const re of r.mutations){const Ae=ys(t,re.key.path,r.batchId);f.push(u.delete(Ae)),K.push(re.key)}return It.waitFor(f).next(()=>K)}function mc(a){if(!a)return 0;let t;if(a.document)t=a.document;else if(a.unknownDocument)t=a.unknownDocument;else{if(!a.noDocument)throw Fe();t=a.noDocument}return JSON.stringify(t).length}Bo.DEFAULT_COLLECTION_PERCENTILE=10,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bo.DEFAULT=new Bo(41943040,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bo.DISABLED=new Bo(-1,0,0);class Pu{constructor(t,r,s,u){this.userId=t,this.serializer=r,this.indexManager=s,this.referenceDelegate=u,this.Fn={}}static lt(t,r,s,u){rt(""!==t.uid);const f=t.isAuthenticated()?t.uid:"";return new Pu(f,r,s,u)}checkEmpty(t){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zi(t).J({index:"userMutationsIndex",range:s},(u,f,m)=>{r=!1,m.done()}).next(()=>r)}addMutationBatch(t,r,s,u){const f=oa(t),m=Zi(t);return m.add({}).next(E=>{rt("number"==typeof E);const P=new Hi(E,r,s,u),K=function(Ct,jt,sn){const Xt=sn.baseMutations.map(Gn=>al(Ct.ct,Gn)),Rn=sn.mutations.map(Gn=>al(Ct.ct,Gn));return{userId:jt,batchId:sn.batchId,localWriteTimeMs:sn.localWriteTime.toMillis(),baseMutations:Xt,mutations:Rn}}(this.serializer,this.userId,P),re=[];let Ae=new Tr((Xe,Ct)=>Tn(Xe.canonicalString(),Ct.canonicalString()));for(const Xe of u){const Ct=ys(this.userId,Xe.key.path,E);Ae=Ae.add(Xe.key.path.popLast()),re.push(m.put(K)),re.push(f.put(Ct,Li))}return Ae.forEach(Xe=>{re.push(this.indexManager.addToCollectionParentIndex(t,Xe))}),t.addOnCommittedListener(()=>{this.Fn[E]=P.keys()}),It.waitFor(re).next(()=>P)})}lookupMutationBatch(t,r){return Zi(t).get(r).next(s=>s?(rt(s.userId===this.userId),ru(this.serializer,s)):null)}Mn(t,r){return this.Fn[r]?It.resolve(this.Fn[r]):this.lookupMutationBatch(t,r).next(s=>{if(s){const u=s.keys();return this.Fn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(t,r){const s=r+1,u=IDBKeyRange.lowerBound([this.userId,s]);let f=null;return Zi(t).J({index:"userMutationsIndex",range:u},(m,E,P)=>{E.userId===this.userId&&(rt(E.batchId>=s),f=ru(this.serializer,E)),P.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(t){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Zi(t).J({index:"userMutationsIndex",range:r,reverse:!0},(u,f,m)=>{s=f.batchId,m.done()}).next(()=>s)}getAllMutationBatches(t){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zi(t).U("userMutationsIndex",r).next(s=>s.map(u=>ru(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(t,r){const s=Wo(this.userId,r.path),u=IDBKeyRange.lowerBound(s),f=[];return oa(t).J({range:u},(m,E,P)=>{const[K,re,Ae]=m,Xe=co(re);if(K===this.userId&&r.path.isEqual(Xe))return Zi(t).get(Ae).next(Ct=>{if(!Ct)throw Fe();rt(Ct.userId===this.userId),f.push(ru(this.serializer,Ct))});P.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(t,r){let s=new Tr(Tn);const u=[];return r.forEach(f=>{const m=Wo(this.userId,f.path),E=IDBKeyRange.lowerBound(m),P=oa(t).J({range:E},(K,re,Ae)=>{const[Xe,Ct,jt]=K,sn=co(Ct);Xe===this.userId&&f.path.isEqual(sn)?s=s.add(jt):Ae.done()});u.push(P)}),It.waitFor(u).next(()=>this.xn(t,s))}getAllMutationBatchesAffectingQuery(t,r){const s=r.path,u=s.length+1,f=Wo(this.userId,s),m=IDBKeyRange.lowerBound(f);let E=new Tr(Tn);return oa(t).J({range:m},(P,K,re)=>{const[Ae,Xe,Ct]=P,jt=co(Xe);Ae===this.userId&&s.isPrefixOf(jt)?jt.length===u&&(E=E.add(Ct)):re.done()}).next(()=>this.xn(t,E))}xn(t,r){const s=[],u=[];return r.forEach(f=>{u.push(Zi(t).get(f).next(m=>{if(null===m)throw Fe();rt(m.userId===this.userId),s.push(ru(this.serializer,m))}))}),It.waitFor(u).next(()=>s)}removeMutationBatch(t,r){return yd(t._e,this.userId,r).next(s=>(t.addOnCommittedListener(()=>{this.On(r.batchId)}),It.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(t,u))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(r=>{if(!r)return It.resolve();const s=IDBKeyRange.lowerBound(function(m){return[m]}(this.userId)),u=[];return oa(t).J({range:s},(f,m,E)=>{if(f[0]===this.userId){const P=co(f[1]);u.push(P)}else E.done()}).next(()=>{rt(0===u.length)})})}containsKey(t,r){return dp(t,this.userId,r)}Nn(t){return Ai(t).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function dp(a,t,r){const s=Wo(t,r.path),u=s[1],f=IDBKeyRange.lowerBound(s);let m=!1;return oa(a).J({range:f,H:!0},(E,P,K)=>{const[re,Ae,Xe]=E;re===t&&Ae===u&&(m=!0),K.done()}).next(()=>m)}function Zi(a){return Un(a,"mutations")}function oa(a){return Un(a,"documentMutations")}function Ai(a){return Un(a,"mutationQueues")}class cl{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new cl(0)}static kn(){return new cl(-1)}}class Am{constructor(t,r){this.referenceDelegate=t,this.serializer=r}allocateTargetId(t){return this.qn(t).next(r=>{const s=new cl(r.highestTargetId);return r.highestTargetId=s.next(),this.Qn(t,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(r=>Mn.fromTimestamp(new _r(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(t,r,s){return this.qn(t).next(u=>(u.highestListenSequenceNumber=r,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.Qn(t,u)))}addTargetData(t,r){return this.Kn(t,r).next(()=>this.qn(t).next(s=>(s.targetCount+=1,this.$n(r,s),this.Qn(t,s))))}updateTargetData(t,r){return this.Kn(t,r)}removeTargetData(t,r){return this.removeMatchingKeysForTargetId(t,r.targetId).next(()=>Sl(t).delete(r.targetId)).next(()=>this.qn(t)).next(s=>(rt(s.targetCount>0),s.targetCount-=1,this.Qn(t,s)))}removeTargets(t,r,s){let u=0;const f=[];return Sl(t).J((m,E)=>{const P=iu(E);P.sequenceNumber<=r&&null===s.get(P.targetId)&&(u++,f.push(this.removeTargetData(t,P)))}).next(()=>It.waitFor(f)).next(()=>u)}forEachTarget(t,r){return Sl(t).J((s,u)=>{const f=iu(u);r(f)})}qn(t){return hp(t).get("targetGlobalKey").next(r=>(rt(null!==r),r))}Qn(t,r){return hp(t).put("targetGlobalKey",r)}Kn(t,r){return Sl(t).put(op(this.serializer,r))}$n(t,r){let s=!1;return t.targetId>r.highestTargetId&&(r.highestTargetId=t.targetId,s=!0),t.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t.sequenceNumber,s=!0),s}getTargetCount(t){return this.qn(t).next(r=>r.targetCount)}getTargetData(t,r){const s=Zo(r),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let f=null;return Sl(t).J({range:u,index:"queryTargetsIndex"},(m,E,P)=>{const K=iu(E);Ma(r,K.target)&&(f=K,P.done())}).next(()=>f)}addMatchingKeys(t,r,s){const u=[],f=Ga(t);return r.forEach(m=>{const E=li(m.path);u.push(f.put({targetId:s,path:E})),u.push(this.referenceDelegate.addReference(t,s,m))}),It.waitFor(u)}removeMatchingKeys(t,r,s){const u=Ga(t);return It.forEach(r,f=>{const m=li(f.path);return It.waitFor([u.delete([s,m]),this.referenceDelegate.removeReference(t,s,f)])})}removeMatchingKeysForTargetId(t,r){const s=Ga(t),u=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(t,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),u=Ga(t);let f=Qn();return u.J({range:s,H:!0},(m,E,P)=>{const K=co(m[1]),re=new H(K);f=f.add(re)}).next(()=>f)}containsKey(t,r){const s=li(r.path),u=IDBKeyRange.bound([s],[Qr(s)],!1,!0);let f=0;return Ga(t).J({index:"documentTargetsIndex",H:!0,range:u},([m,E],P,K)=>{0!==m&&(f++,K.done())}).next(()=>f>0)}ot(t,r){return Sl(t).get(r).next(s=>s?iu(s):null)}}function Sl(a){return Un(a,"targets")}function hp(a){return Un(a,"targetGlobal")}function Ga(a){return Un(a,"targetDocuments")}function Id([a,t],[r,s]){const u=Tn(a,r);return 0===u?Tn(t,s):u}class au{constructor(t){this.Un=t,this.buffer=new Tr(Id),this.Wn=0}Gn(){return++this.Wn}zn(t){const r=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();Id(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class ya{constructor(t,r,s){this.garbageCollector=t,this.asyncQueue=r,this.localStore=s,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var r=this;yt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,c.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){pi(s)?yt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield ei(s)}yield r.Hn(3e5)}))}}class by{constructor(t,r){this.Jn=t,this.params=r}calculateTargetCount(t,r){return this.Jn.Yn(t).next(s=>Math.floor(r/100*s))}nthSequenceNumber(t,r){if(0===r)return It.resolve(Jn.oe);const s=new au(r);return this.Jn.forEachTarget(t,u=>s.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(t,u=>s.zn(u))).next(()=>s.maxValue)}removeTargets(t,r,s){return this.Jn.removeTargets(t,r,s)}removeOrphanedDocuments(t,r){return this.Jn.removeOrphanedDocuments(t,r)}collect(t,r){return-1===this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),It.resolve(Nh)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nh):this.Xn(t,r))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,r){let s,u,f,m,E,P,K;const re=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Ae=>(Ae>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ae}`),u=this.params.maximumSequenceNumbersToCollect):u=Ae,m=Date.now(),this.nthSequenceNumber(t,u))).next(Ae=>(s=Ae,E=Date.now(),this.removeTargets(t,s,r))).next(Ae=>(f=Ae,P=Date.now(),this.removeOrphanedDocuments(t,s))).next(Ae=>(K=Date.now(),Lr()<=Nt.$b.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-re}ms\n\tDetermined least recently used ${u} in `+(E-m)+`ms\n\tRemoved ${f} targets in `+(P-E)+`ms\n\tRemoved ${Ae} documents in `+(K-P)+`ms\nTotal Duration: ${K-re}ms`),It.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:Ae})))}}class vc{constructor(t,r){this.db=t,this.garbageCollector=function lu(a,t){return new by(a,t)}(this,r)}Yn(t){const r=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(s=>r.next(u=>s+u))}er(t){let r=0;return this.Zn(t,s=>{r++}).next(()=>r)}forEachTarget(t,r){return this.db.getTargetCache().forEachTarget(t,r)}Zn(t,r){return this.tr(t,(s,u)=>r(u))}addReference(t,r,s){return Wa(t,s)}removeReference(t,r,s){return Wa(t,s)}removeTargets(t,r,s){return this.db.getTargetCache().removeTargets(t,r,s)}markPotentiallyOrphaned(t,r){return Wa(t,r)}nr(t,r){return function(u,f){let m=!1;return Ai(u).Y(E=>dp(u,E,f).next(P=>(P&&(m=!0),It.resolve(!P)))).next(()=>m)}(t,r)}removeOrphanedDocuments(t,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.tr(t,(m,E)=>{if(E<=r){const P=this.nr(t,m).next(K=>{if(!K)return f++,s.getEntry(t,m).next(()=>(s.removeEntry(m,Mn.min()),Ga(t).delete([0,li(m.path)])))});u.push(P)}}).next(()=>It.waitFor(u)).next(()=>s.apply(t)).next(()=>f)}removeTarget(t,r){const s=r.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,s)}updateLimboDocument(t,r){return Wa(t,r)}tr(t,r){const s=Ga(t);let u,f=Jn.oe;return s.J({index:"documentTargetsIndex"},([m,E],{path:P,sequenceNumber:K})=>{0===m?(f!==Jn.oe&&r(new H(co(u)),f),f=K,u=P):f=Jn.oe}).next(()=>{f!==Jn.oe&&r(new H(co(u)),f)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Wa(a,t){return Ga(a).put((u=a.currentSequenceNumber,{targetId:0,path:li(t.path),sequenceNumber:u}));var u}class _c{constructor(){this.changes=new z(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Ln.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?It.resolve(s):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Oh{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,r,s){return Ia(t).put(s)}removeEntry(t,r,s){return Ia(t).delete(function(f,m){const E=f.path.toArray();return[E.slice(0,E.length-2),E[E.length-2],nu(m),E[E.length-1]]}(r,s))}updateMetadata(t,r){return this.getMetadata(t).next(s=>(s.byteSize+=r,this.rr(t,s)))}getEntry(t,r){let s=Ln.newInvalidDocument(r);return Ia(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(yc(r))},(u,f)=>{s=this.ir(r,f)}).next(()=>s)}sr(t,r){let s={size:0,document:Ln.newInvalidDocument(r)};return Ia(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(yc(r))},(u,f)=>{s={document:this.ir(r,f),size:mc(f)}}).next(()=>s)}getEntries(t,r){let s=B();return this._r(t,r,(u,f)=>{const m=this.ir(u,f);s=s.insert(u,m)}).next(()=>s)}ar(t,r){let s=B(),u=new cr(H.comparator);return this._r(t,r,(f,m)=>{const E=this.ir(f,m);s=s.insert(f,E),u=u.insert(f,mc(m))}).next(()=>({documents:s,ur:u}))}_r(t,r,s){if(r.isEmpty())return It.resolve();let u=new Tr(Fh);r.forEach(P=>u=u.add(P));const f=IDBKeyRange.bound(yc(u.first()),yc(u.last())),m=u.getIterator();let E=m.getNext();return Ia(t).J({index:"documentKeyIndex",range:f},(P,K,re)=>{const Ae=H.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;E&&Fh(E,Ae)<0;)s(E,null),E=m.getNext();E&&E.isEqual(Ae)&&(s(E,K),E=m.hasNext()?m.getNext():null),E?re.$(yc(E)):re.done()}).next(()=>{for(;E;)s(E,null),E=m.hasNext()?m.getNext():null})}getDocumentsMatchingQuery(t,r,s,u,f){const m=r.path,E=[m.popLast().toArray(),m.lastSegment(),nu(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],P=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ia(t).U(IDBKeyRange.bound(E,P,!0)).next(K=>{null==f||f.incrementDocumentReadCount(K.length);let re=B();for(const Ae of K){const Xe=this.ir(H.fromSegments(Ae.prefixPath.concat(Ae.collectionGroup,Ae.documentId)),Ae);Xe.isFoundDocument()&&(bs(r,Xe)||u.has(Xe.key))&&(re=re.insert(Xe.key,Xe))}return re})}getAllFromCollectionGroup(t,r,s,u){let f=B();const m=Ic(r,s),E=Ic(r,Nn.max());return Ia(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,E,!0)},(P,K,re)=>{const Ae=this.ir(H.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);f=f.insert(Ae.key,Ae),f.size===u&&re.done()}).next(()=>f)}newChangeBuffer(t){return new Cm(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(r=>r.byteSize)}getMetadata(t){return uu(t).get("remoteDocumentGlobalKey").next(r=>(rt(!!r),r))}rr(t,r){return uu(t).put("remoteDocumentGlobalKey",r)}ir(t,r){if(r){const s=function wr(a,t){let r;if(t.document)r=sl(a.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const s=H.fromSegments(t.noDocument.path),u=wu(t.noDocument.readTime);r=Ln.newNoDocument(s,u),t.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!t.unknownDocument)return Fe();{const s=H.fromSegments(t.unknownDocument.path),u=wu(t.unknownDocument.version);r=Ln.newUnknownDocument(s,u)}}return t.readTime&&r.setReadTime(function(u){const f=new _r(u[0],u[1]);return Mn.fromTimestamp(f)}(t.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(Mn.min()))return s}return Ln.newInvalidDocument(t)}}function kh(a){return new Oh(a)}class Cm extends _c{constructor(t,r){super(),this.cr=t,this.trackRemovals=r,this.lr=new z(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(t){const r=[];let s=0,u=new Tr((f,m)=>Tn(f.canonicalString(),m.canonicalString()));return this.changes.forEach((f,m)=>{const E=this.lr.get(f);if(r.push(this.cr.removeEntry(t,f,E.readTime)),m.isValidDocument()){const P=Du(this.cr.serializer,m);u=u.add(f.path.popLast());const K=mc(P);s+=K-E.size,r.push(this.cr.addEntry(t,f,P))}else if(s-=E.size,this.trackRemovals){const P=Du(this.cr.serializer,m.convertToNoDocument(Mn.min()));r.push(this.cr.addEntry(t,f,P))}}),u.forEach(f=>{r.push(this.cr.indexManager.addToCollectionParentIndex(t,f))}),r.push(this.cr.updateMetadata(t,s)),It.waitFor(r)}getFromCache(t,r){return this.cr.sr(t,r).next(s=>(this.lr.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(t,r){return this.cr.ar(t,r).next(({documents:s,ur:u})=>(u.forEach((f,m)=>{this.lr.set(f,{size:m,readTime:s.get(f).readTime})}),s))}}function uu(a){return Un(a,"remoteDocumentGlobal")}function Ia(a){return Un(a,"remoteDocumentsV14")}function yc(a){const t=a.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Ic(a,t){const r=t.documentKey.path.toArray();return[a,nu(t.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Fh(a,t){const r=a.path.toArray(),s=t.path.toArray();let u=0;for(let f=0;f<r.length-2&&f<s.length-2;++f)if(u=Tn(r[f],s[f]),u)return u;return u=Tn(r.length,s.length),u||(u=Tn(r[r.length-2],s[s.length-2]),u||Tn(r[r.length-1],s[s.length-1]))}class Tm{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}class fp{constructor(t,r,s,u){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(t,r){let s=null;return this.documentOverlayCache.getOverlay(t,r).next(u=>(s=u,this.remoteDocumentCache.getEntry(t,r))).next(u=>(null!==s&&_i(s.mutation,u,Xi.empty(),_r.now()),u))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.getLocalViewOfDocuments(t,s,Qn()).next(()=>s))}getLocalViewOfDocuments(t,r,s=Qn()){const u=cn();return this.populateOverlays(t,u,r).next(()=>this.computeViews(t,r,u,s).next(f=>{let m=je();return f.forEach((E,P)=>{m=m.insert(E,P.overlayedDocument)}),m}))}getOverlayedDocuments(t,r){const s=cn();return this.populateOverlays(t,s,r).next(()=>this.computeViews(t,r,s,Qn()))}populateOverlays(t,r,s){const u=[];return s.forEach(f=>{r.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(t,u).next(f=>{f.forEach((m,E)=>{r.set(m,E)})})}computeViews(t,r,s,u){let f=B();const m=Vr(),E=Vr();return r.forEach((P,K)=>{const re=s.get(K.key);u.has(K.key)&&(void 0===re||re.mutation instanceof es)?f=f.insert(K.key,K):void 0!==re?(m.set(K.key,re.mutation.getFieldMask()),_i(re.mutation,K,re.mutation.getFieldMask(),_r.now())):m.set(K.key,Xi.empty())}),this.recalculateAndSaveOverlays(t,f).next(P=>(P.forEach((K,re)=>m.set(K,re)),r.forEach((K,re)=>{var Ae;return E.set(K,new Tm(re,null!==(Ae=m.get(K))&&void 0!==Ae?Ae:null))}),E))}recalculateAndSaveOverlays(t,r){const s=Vr();let u=new cr((m,E)=>m-E),f=Qn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(m=>{for(const E of m)E.keys().forEach(P=>{const K=r.get(P);if(null===K)return;let re=s.get(P)||Xi.empty();re=E.applyToLocalView(K,re),s.set(P,re);const Ae=(u.get(E.batchId)||Qn()).add(P);u=u.insert(E.batchId,Ae)})}).next(()=>{const m=[],E=u.getReverseIterator();for(;E.hasNext();){const P=E.getNext(),K=P.key,re=P.value,Ae=mr();re.forEach(Xe=>{if(!f.has(Xe)){const Ct=ga(r.get(Xe),s.get(Xe));null!==Ct&&Ae.set(Xe,Ct),f=f.add(Xe)}}),m.push(this.documentOverlayCache.saveOverlays(t,K,Ae))}return It.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,r,s,u){return H.isDocumentKey((m=r).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(t,r.path):bo(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,s,u):this.getDocumentsMatchingCollectionQuery(t,r,s,u);var m}getNextDocuments(t,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,s,u).next(f=>{const m=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,s.largestBatchId,u-f.size):It.resolve(cn());let E=-1,P=f;return m.next(K=>It.forEach(K,(re,Ae)=>(E<Ae.largestBatchId&&(E=Ae.largestBatchId),f.get(re)?It.resolve():this.remoteDocumentCache.getEntry(t,re).next(Xe=>{P=P.insert(re,Xe)}))).next(()=>this.populateOverlays(t,K,f)).next(()=>this.computeViews(t,P,K,Qn())).next(re=>({batchId:E,changes:Ht(re)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new H(r)).next(s=>{let u=je();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(t,r,s,u){const f=r.collectionGroup;let m=je();return this.indexManager.getCollectionParents(t,f).next(E=>It.forEach(E,P=>{const K=(Ae=r,Xe=P.child(f),new Fo(Xe,null,Ae.explicitOrderBy.slice(),Ae.filters.slice(),Ae.limit,Ae.limitType,Ae.startAt,Ae.endAt));var Ae,Xe;return this.getDocumentsMatchingCollectionQuery(t,K,s,u).next(re=>{re.forEach((Ae,Xe)=>{m=m.insert(Ae,Xe)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(t,r,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,s.largestBatchId).next(m=>(f=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,s,f,u))).next(m=>{f.forEach((P,K)=>{const re=K.getKey();null===m.get(re)&&(m=m.insert(re,Ln.newInvalidDocument(re)))});let E=je();return m.forEach((P,K)=>{const re=f.get(P);void 0!==re&&_i(re.mutation,K,Xi.empty(),_r.now()),bs(r,K)&&(E=E.insert(P,K))}),E})}}class A{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,r){return It.resolve(this.hr.get(r))}saveBundleMetadata(t,r){return this.hr.set(r.id,{id:(u=r).id,version:u.version,createTime:Ii(u.createTime)}),It.resolve();var u}getNamedQuery(t,r){return It.resolve(this.Pr.get(r))}saveNamedQuery(t,r){return this.Pr.set(r.name,{name:(u=r).name,query:pd(u.bundledQuery),readTime:Ii(u.readTime)}),It.resolve();var u}}class p{constructor(){this.overlays=new cr(H.comparator),this.Ir=new Map}getOverlay(t,r){return It.resolve(this.overlays.get(r))}getOverlays(t,r){const s=cn();return It.forEach(r,u=>this.getOverlay(t,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(t,r,s){return s.forEach((u,f)=>{this.ht(t,r,f)}),It.resolve()}removeOverlaysForBatchId(t,r,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.Ir.delete(s)),It.resolve()}getOverlaysForCollection(t,r,s){const u=cn(),f=r.length+1,m=new H(r.child("")),E=this.overlays.getIteratorFrom(m);for(;E.hasNext();){const P=E.getNext().value,K=P.getKey();if(!r.isPrefixOf(K.path))break;K.path.length===f&&P.largestBatchId>s&&u.set(P.getKey(),P)}return It.resolve(u)}getOverlaysForCollectionGroup(t,r,s,u){let f=new cr((K,re)=>K-re);const m=this.overlays.getIterator();for(;m.hasNext();){const K=m.getNext().value;if(K.getKey().getCollectionGroup()===r&&K.largestBatchId>s){let re=f.get(K.largestBatchId);null===re&&(re=cn(),f=f.insert(K.largestBatchId,re)),re.set(K.getKey(),K)}}const E=cn(),P=f.getIterator();for(;P.hasNext()&&(P.getNext().value.forEach((K,re)=>E.set(K,re)),!(E.size()>=u)););return It.resolve(E)}ht(t,r,s){const u=this.overlays.get(s.key);if(null!==u){const m=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new Va(r,s));let f=this.Ir.get(r);void 0===f&&(f=Qn(),this.Ir.set(r,f)),this.Ir.set(r,f.add(s.key))}}class v{constructor(){this.sessionToken=qr.EMPTY_BYTE_STRING}getSessionToken(t){return It.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,It.resolve()}}class D{constructor(){this.Tr=new Tr(X.Er),this.dr=new Tr(X.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,r){const s=new X(t,r);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(t,r){t.forEach(s=>this.addReference(s,r))}removeReference(t,r){this.Vr(new X(t,r))}mr(t,r){t.forEach(s=>this.removeReference(s,r))}gr(t){const r=new H(new ur([])),s=new X(r,t),u=new X(r,t+1),f=[];return this.dr.forEachInRange([s,u],m=>{this.Vr(m),f.push(m.key)}),f}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const r=new H(new ur([])),s=new X(r,t),u=new X(r,t+1);let f=Qn();return this.dr.forEachInRange([s,u],m=>{f=f.add(m.key)}),f}containsKey(t){const r=new X(t,0),s=this.Tr.firstAfterOrEqual(r);return null!==s&&t.isEqual(s.key)}}class X{constructor(t,r){this.key=t,this.wr=r}static Er(t,r){return H.comparator(t.key,r.key)||Tn(t.wr,r.wr)}static Ar(t,r){return Tn(t.wr,r.wr)||H.comparator(t.key,r.key)}}class ve{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Tr(X.Er)}checkEmpty(t){return It.resolve(0===this.mutationQueue.length)}addMutationBatch(t,r,s,u){const f=this.Sr;this.Sr++;const m=new Hi(f,r,s,u);this.mutationQueue.push(m);for(const E of u)this.br=this.br.add(new X(E.key,f)),this.indexManager.addToCollectionParentIndex(t,E.key.path.popLast());return It.resolve(m)}lookupMutationBatch(t,r){return It.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(t,r){const u=this.vr(r+1),f=u<0?0:u;return It.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return It.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return It.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const s=new X(r,0),u=new X(r,Number.POSITIVE_INFINITY),f=[];return this.br.forEachInRange([s,u],m=>{const E=this.Dr(m.wr);f.push(E)}),It.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(t,r){let s=new Tr(Tn);return r.forEach(u=>{const f=new X(u,0),m=new X(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([f,m],E=>{s=s.add(E.wr)})}),It.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(t,r){const s=r.path,u=s.length+1;let f=s;H.isDocumentKey(f)||(f=f.child(""));const m=new X(new H(f),0);let E=new Tr(Tn);return this.br.forEachWhile(P=>{const K=P.key.path;return!!s.isPrefixOf(K)&&(K.length===u&&(E=E.add(P.wr)),!0)},m),It.resolve(this.Cr(E))}Cr(t){const r=[];return t.forEach(s=>{const u=this.Dr(s);null!==u&&r.push(u)}),r}removeMutationBatch(t,r){rt(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return It.forEach(r.mutations,u=>{const f=new X(u.key,r.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(()=>{this.br=s})}On(t){}containsKey(t,r){const s=new X(r,0),u=this.br.firstAfterOrEqual(s);return It.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(t){return It.resolve()}Fr(t,r){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const r=this.vr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class gt{constructor(t){this.Mr=t,this.docs=new cr(H.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const s=r.key,u=this.docs.get(s),f=u?u.size:0,m=this.Mr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:m}),this.size+=m-f,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const s=this.docs.get(r);return It.resolve(s?s.document.mutableCopy():Ln.newInvalidDocument(r))}getEntries(t,r){let s=B();return r.forEach(u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():Ln.newInvalidDocument(u))}),It.resolve(s)}getDocumentsMatchingQuery(t,r,s,u){let f=B();const m=r.path,E=new H(m.child("")),P=this.docs.getIteratorFrom(E);for(;P.hasNext();){const{key:K,value:{document:re}}=P.getNext();if(!m.isPrefixOf(K.path))break;K.path.length>m.length+1||si(gr(re),s)<=0||(u.has(re.key)||bs(r,re))&&(f=f.insert(re.key,re.mutableCopy()))}return It.resolve(f)}getAllFromCollectionGroup(t,r,s,u){Fe()}Or(t,r){return It.forEach(this.docs,s=>r(s))}newChangeBuffer(t){return new $t(this)}getSize(t){return It.resolve(this.size)}}class $t extends _c{constructor(t){super(),this.cr=t}applyChanges(t){const r=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?r.push(this.cr.addEntry(t,u)):this.cr.removeEntry(s)}),It.waitFor(r)}getFromCache(t,r){return this.cr.getEntry(t,r)}getAllFromCache(t,r){return this.cr.getEntries(t,r)}}class pn{constructor(t){this.persistence=t,this.Nr=new z(r=>Zo(r),Ma),this.lastRemoteSnapshotVersion=Mn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new D,this.targetCount=0,this.kr=cl.Bn()}forEachTarget(t,r){return this.Nr.forEach((s,u)=>r(u)),It.resolve()}getLastRemoteSnapshotVersion(t){return It.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return It.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),It.resolve(this.highestTargetId)}setTargetsMetadata(t,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Lr&&(this.Lr=r),It.resolve()}Kn(t){this.Nr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.kr=new cl(r),this.highestTargetId=r),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,r){return this.Kn(r),this.targetCount+=1,It.resolve()}updateTargetData(t,r){return this.Kn(r),It.resolve()}removeTargetData(t,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,It.resolve()}removeTargets(t,r,s){let u=0;const f=[];return this.Nr.forEach((m,E)=>{E.sequenceNumber<=r&&null===s.get(E.targetId)&&(this.Nr.delete(m),f.push(this.removeMatchingKeysForTargetId(t,E.targetId)),u++)}),It.waitFor(f).next(()=>u)}getTargetCount(t){return It.resolve(this.targetCount)}getTargetData(t,r){const s=this.Nr.get(r)||null;return It.resolve(s)}addMatchingKeys(t,r,s){return this.Br.Rr(r,s),It.resolve()}removeMatchingKeys(t,r,s){this.Br.mr(r,s);const u=this.persistence.referenceDelegate,f=[];return u&&r.forEach(m=>{f.push(u.markPotentiallyOrphaned(t,m))}),It.waitFor(f)}removeMatchingKeysForTargetId(t,r){return this.Br.gr(r),It.resolve()}getMatchingKeysForTargetId(t,r){const s=this.Br.yr(r);return It.resolve(s)}containsKey(t,r){return It.resolve(this.Br.containsKey(r))}}class qn{constructor(t,r){this.qr={},this.overlays={},this.Qr=new Jn(0),this.Kr=!1,this.Kr=!0,this.$r=new v,this.referenceDelegate=t(this),this.Ur=new pn(this),this.indexManager=new Em,this.remoteDocumentCache=new gt(s=>this.referenceDelegate.Wr(s)),this.serializer=new na(r),this.Gr=new A(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new p,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let s=this.qr[t.toKey()];return s||(s=new ve(r,this.referenceDelegate),this.qr[t.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,r,s){yt("MemoryPersistence","Starting transaction:",t);const u=new dr(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(f=>this.referenceDelegate.jr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Hr(t,r){return It.or(Object.values(this.qr).map(s=>()=>s.containsKey(t,r)))}}class dr extends ai{constructor(t){super(),this.currentSequenceNumber=t}}class $r{constructor(t){this.persistence=t,this.Jr=new D,this.Yr=null}static Zr(t){return new $r(t)}get Xr(){if(this.Yr)return this.Yr;throw Fe()}addReference(t,r,s){return this.Jr.addReference(s,r),this.Xr.delete(s.toString()),It.resolve()}removeReference(t,r,s){return this.Jr.removeReference(s,r),this.Xr.add(s.toString()),It.resolve()}markPotentiallyOrphaned(t,r){return this.Xr.add(r.toString()),It.resolve()}removeTarget(t,r){this.Jr.gr(r.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,r.targetId).next(u=>{u.forEach(f=>this.Xr.add(f.toString()))}).next(()=>s.removeTargetData(t,r))}zr(){this.Yr=new Set}jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return It.forEach(this.Xr,s=>{const u=H.fromPath(s);return this.ei(t,u).next(f=>{f||r.removeEntry(u,Mn.min())})}).next(()=>(this.Yr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ei(t,r).next(s=>{s?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(t){return 0}ei(t,r){return It.or([()=>It.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Hr(t,r)])}}class dl{constructor(t){this.serializer=t}O(t,r,s,u){const f=new lo("createOrUpgrade",r);var P;s<1&&u>=1&&(t.createObjectStore("owner"),(P=t).createObjectStore("mutationQueues",{keyPath:"userId"}),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rr,{unique:!0}),P.createObjectStore("documentMutations"),Mu(t),function(P){P.createObjectStore("remoteDocuments")}(t));let m=It.resolve();return s<3&&u>=3&&(0!==s&&(function(P){P.deleteObjectStore("targetDocuments"),P.deleteObjectStore("targets"),P.deleteObjectStore("targetGlobal")}(t),Mu(t)),m=m.next(()=>function(P){const K=P.store("targetGlobal"),re={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mn.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",re)}(f))),s<4&&u>=4&&(0!==s&&(m=m.next(()=>function(P,K){return K.store("mutations").U().next(re=>{P.deleteObjectStore("mutations"),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Rr,{unique:!0});const Ae=K.store("mutations"),Xe=re.map(Ct=>Ae.put(Ct));return It.waitFor(Xe)})}(t,f))),m=m.next(()=>{!function(P){P.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),s<5&&u>=5&&(m=m.next(()=>this.ni(f))),s<6&&u>=6&&(m=m.next(()=>(function(P){P.createObjectStore("remoteDocumentGlobal")}(t),this.ri(f)))),s<7&&u>=7&&(m=m.next(()=>this.ii(f))),s<8&&u>=8&&(m=m.next(()=>this.si(t,f))),s<9&&u>=9&&(m=m.next(()=>{!function(P){P.objectStoreNames.contains("remoteDocumentChanges")&&P.deleteObjectStore("remoteDocumentChanges")}(t)})),s<10&&u>=10&&(m=m.next(()=>this.oi(f))),s<11&&u>=11&&(m=m.next(()=>{(function(P){P.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(P){P.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),s<12&&u>=12&&(m=m.next(()=>{!function(P){const K=P.createObjectStore("documentOverlays",{keyPath:Ne});K.createIndex("collectionPathOverlayIndex",$e,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",ht,{unique:!1})}(t)})),s<13&&u>=13&&(m=m.next(()=>function(P){const K=P.createObjectStore("remoteDocumentsV14",{keyPath:Ko});K.createIndex("documentKeyIndex",Ls),K.createIndex("collectionGroupIndex",Is)}(t)).next(()=>this._i(t,f)).next(()=>t.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(m=m.next(()=>this.ai(t,f))),s<15&&u>=15&&(m=m.next(()=>function(P){P.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),P.createObjectStore("indexState",{keyPath:me}).createIndex("sequenceNumberIndex",O,{unique:!1}),P.createObjectStore("indexEntries",{keyPath:C}).createIndex("documentKeyIndex",j,{unique:!1})}(t))),s<16&&u>=16&&(m=m.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),s<17&&u>=17&&(m=m.next(()=>{!function(P){P.createObjectStore("globals",{keyPath:"name"})}(t)})),m}ri(t){let r=0;return t.store("remoteDocuments").J((s,u)=>{r+=mc(u)}).next(()=>{const s={byteSize:r};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}ni(t){const r=t.store("mutationQueues"),s=t.store("mutations");return r.U().next(u=>It.forEach(u,f=>{const m=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",m).next(E=>It.forEach(E,P=>{rt(P.userId===f.userId);const K=ru(this.serializer,P);return yd(t,f.userId,K).next(()=>{})}))}))}ii(t){const r=t.store("targetDocuments"),s=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return s.J((m,E)=>{const P=new ur(m),K=[0,li(P)];f.push(r.get(K).next(re=>re?It.resolve():r.put({targetId:0,path:li(P),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>It.waitFor(f))})}si(t,r){t.createObjectStore("collectionParents",{keyPath:Y});const s=r.store("collectionParents"),u=new Mh,f=m=>{if(u.add(m)){const E=m.lastSegment(),P=m.popLast();return s.put({collectionId:E,parent:li(P)})}};return r.store("remoteDocuments").J({H:!0},(m,E)=>{const P=new ur(m);return f(P.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([m,E,P],K)=>{const re=co(E);return f(re.popLast())}))}oi(t){const r=t.store("targets");return r.J((s,u)=>{const f=iu(u),m=op(this.serializer,f);return r.put(m)})}_i(t,r){const s=r.store("remoteDocuments"),u=[];return s.J((f,m)=>{const E=r.store("remoteDocumentsV14"),P=(Ae=m,Ae.document?new H(ur.fromString(Ae.document.name).popFirst(5)):Ae.noDocument?H.fromSegments(Ae.noDocument.path):Ae.unknownDocument?H.fromSegments(Ae.unknownDocument.path):Fe()).path.toArray(),K={prefixPath:P.slice(0,P.length-2),collectionGroup:P[P.length-2],documentId:P[P.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};var Ae;u.push(E.put(K))}).next(()=>It.waitFor(u))}ai(t,r){const s=r.store("mutations"),u=kh(this.serializer),f=new qn($r.Zr,this.serializer.ct);return s.U().next(m=>{const E=new Map;return m.forEach(P=>{var K;let re=null!==(K=E.get(P.userId))&&void 0!==K?K:Qn();ru(this.serializer,P).keys().forEach(Ae=>re=re.add(Ae)),E.set(P.userId,re)}),It.forEach(E,(P,K)=>{const re=new mn(K),Ae=Zt.lt(this.serializer,re),Xe=f.getIndexManager(re),Ct=Pu.lt(re,this.serializer,Xe,f.referenceDelegate);return new fp(u,Ct,Ae,Xe).recalculateAndSaveOverlaysForDocumentKeys(new jn(r,Jn.oe),P).next()})})}}function Mu(a){a.createObjectStore("targetDocuments",{keyPath:Pi}).createIndex("documentTargetsIndex",M,{unique:!0}),a.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Oo,{unique:!0}),a.createObjectStore("targetGlobal")}const Ed="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ss{constructor(t,r,s,u,f,m,E,P,K,re,Ae=17){if(this.allowTabSynchronization=t,this.persistenceKey=r,this.clientId=s,this.ui=f,this.window=m,this.document=E,this.ci=K,this.li=re,this.hi=Ae,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Xe=>Promise.resolve(),!Ss.D())throw new W(Ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vc(this,u),this.Ai=r+"main",this.serializer=new na(P),this.Ri=new ii(this.Ai,this.hi,new dl(this.serializer)),this.$r=new wh,this.Ur=new Am(this.referenceDelegate,this.serializer),this.remoteDocumentCache=kh(this.serializer),this.Gr=new Dh,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===re&&nr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new W(Ue.FAILED_PRECONDITION,Ed);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new Jn(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var r=this;return this.di=function(){var s=(0,c.A)(function*(u){if(r.started)return t(u)});return function(u){return s.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var r=(0,c.A)(function*(s){null===s.newVersion&&(yield t())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(t){var r=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,c.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Rl(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(r=>this.isPrimary&&!r?this.bi(t).next(()=>!1):!!r&&this.Di(t).next(()=>!0))).catch(t=>{if(pi(t))return yt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return yt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return xu(t).get("owner").next(r=>It.resolve(this.vi(r)))}Ci(t){return Rl(t).delete(this.clientId)}Fi(){var t=this;return(0,c.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const r=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=Un(s,"clientMetadata");return u.U().next(f=>{const m=t.xi(f,18e5),E=f.filter(P=>-1===m.indexOf(P));return It.forEach(E,P=>u.delete(P.clientId)).next(()=>E)})}).catch(()=>[]);if(t.Vi)for(const s of r)t.Vi.removeItem(t.Oi(s.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?It.resolve(!0):xu(t).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new W(Ue.FAILED_PRECONDITION,Ed);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rl(t).U().next(s=>void 0===this.xi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&yt("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var t=this;return(0,c.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new jn(r,Jn.oe);return t.bi(s).next(()=>t.Ci(s))}),t.Ri.close(),t.qi()})()}xi(t,r){return t.filter(s=>this.Mi(s.updateTimeMs,r)&&!this.Ni(s.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>Rl(t).U().next(r=>this.xi(r,18e5).map(s=>s.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,r){return Pu.lt(t,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new xh(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return Zt.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,r,s){yt("IndexedDbPersistence","Starting transaction:",t);const u="readonly"===r?"readonly":"readwrite",f=17===(P=this.hi)?Fn:16===P?bn:15===P?tn:14===P?qt:13===P?wt:12===P?Yt:11===P?st:void Fe();var P;let m;return this.Ri.runTransaction(t,u,f,E=>(m=new jn(E,this.Qr?this.Qr.next():Jn.oe),"readwrite-primary"===r?this.wi(m).next(P=>!!P||this.Si(m)).next(P=>{if(!P)throw nr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new W(Ue.FAILED_PRECONDITION,ir);return s(m)}).next(P=>this.Di(m).next(()=>P)):this.Ki(m).next(()=>s(m)))).then(E=>(m.raiseOnCommittedEvent(),E))}Ki(t){return xu(t).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new W(Ue.FAILED_PRECONDITION,Ed)})}Di(t){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xu(t).put("owner",r)}static D(){return ii.D()}bi(t){const r=xu(t);return r.get("owner").next(s=>this.vi(s)?(yt("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):It.resolve())}Mi(t,r){const s=Date.now();return!(t<s-r||t>s&&(nr(`Detected an update time that is in the future: ${t} > ${s}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,dt.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var r;try{const s=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(t)));return yt("IndexedDbPersistence",`Client '${t}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return nr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){nr("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function xu(a){return Un(a,"owner")}function Rl(a){return Un(a,"clientMetadata")}function cu(a,t){let r=a.projectId;return a.isDefaultDatabase||(r+="."+a.database),"firestore/"+t+"/"+r+"/"}class Ec{constructor(t,r,s,u){this.targetId=t,this.fromCache=r,this.$i=s,this.Ui=u}static Wi(t,r){let s=Qn(),u=Qn();for(const f of r.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Ec(t,r.fromCache,s,u)}}class Ac{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Nu{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,dt.nr)()?8:Ki((0,dt.ZQ)())>0?6:4}initialize(t,r){this.Ji=t,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(t,r,s,u){const f={result:null};return this.Yi(t,r).next(m=>{f.result=m}).next(()=>{if(!f.result)return this.Zi(t,r,u,s).next(m=>{f.result=m})}).next(()=>{if(f.result)return;const m=new Ac;return this.Xi(t,r,m).next(E=>{if(f.result=E,this.zi)return this.es(t,r,m,E.size)})}).next(()=>f.result)}es(t,r,s,u){return s.documentReadCount<this.ji?(Lr()<=Nt.$b.DEBUG&&yt("QueryEngine","SDK will not create cache indexes for query:",Ts(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),It.resolve()):(Lr()<=Nt.$b.DEBUG&&yt("QueryEngine","Query:",Ts(r),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(Lr()<=Nt.$b.DEBUG&&yt("QueryEngine","The SDK decides to create cache indexes for query:",Ts(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Qi(r))):It.resolve())}Yi(t,r){if(rl(r))return It.resolve(null);let s=Qi(r);return this.indexManager.getIndexType(t,s).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=Cs(r,null,"F"),s=Qi(r)),this.indexManager.getDocumentsMatchingTarget(t,s).next(f=>{const m=Qn(...f);return this.Ji.getDocuments(t,m).next(E=>this.indexManager.getMinOffset(t,s).next(P=>{const K=this.ts(r,E);return this.ns(r,K,m,P.readTime)?this.Yi(t,Cs(r,null,"F")):this.rs(t,K,r,P)}))})))}Zi(t,r,s,u){return rl(r)||u.isEqual(Mn.min())?It.resolve(null):this.Ji.getDocuments(t,s).next(f=>{const m=this.ts(r,f);return this.ns(r,m,s,u)?It.resolve(null):(Lr()<=Nt.$b.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Ts(r)),this.rs(t,m,r,wn(u,-1)).next(E=>E))})}ts(t,r){let s=new Tr(Yl(t));return r.forEach((u,f)=>{bs(t,f)&&(s=s.add(f))}),s}ns(t,r,s,u){if(null===t.limit)return!1;if(s.size!==r.size)return!0;const f="F"===t.limitType?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Xi(t,r,s){return Lr()<=Nt.$b.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",Ts(r)),this.Ji.getDocumentsMatchingQuery(t,r,Nn.min(),s)}rs(t,r,s,u){return this.Ji.getDocumentsMatchingQuery(t,s,u).next(f=>(r.forEach(m=>{f=f.insert(m.key,m)}),f))}}class pp{constructor(t,r,s,u){this.persistence=t,this.ss=r,this.serializer=u,this.os=new cr(Tn),this._s=new z(f=>Zo(f),Ma),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(s)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fp(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.os))}}function Lh(a,t,r,s){return new pp(a,t,r,s)}function Cc(a,t){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,c.A)(function*(a,t){const r=ke(a);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next(f=>(u=f,r.ls(t),r.mutationQueue.getAllMutationBatches(s))).next(f=>{const m=[],E=[];let P=Qn();for(const K of u){m.push(K.batchId);for(const re of K.mutations)P=P.add(re.key)}for(const K of f){E.push(K.batchId);for(const re of K.mutations)P=P.add(re.key)}return r.localDocuments.getDocuments(s,P).next(K=>({hs:K,removedBatchIds:m,addedBatchIds:E}))})})})).apply(this,arguments)}function wy(a){const t=ke(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Ur.getLastRemoteSnapshotVersion(r))}function Ou(a,t,r){let s=Qn(),u=Qn();return r.forEach(f=>s=s.add(f)),t.getEntries(a,s).next(f=>{let m=B();return r.forEach((E,P)=>{const K=f.get(E);P.isFoundDocument()!==K.isFoundDocument()&&(u=u.add(E)),P.isNoDocument()&&P.version.isEqual(Mn.min())?(t.removeEntry(E,P.readTime),m=m.insert(E,P)):!K.isValidDocument()||P.version.compareTo(K.version)>0||0===P.version.compareTo(K.version)&&K.hasPendingWrites?(t.addEntry(P),m=m.insert(E,P)):yt("LocalStore","Ignoring outdated watch update for ",E,". Current version:",K.version," Watch version:",P.version)}),{Ps:m,Is:u}})}function YE(a,t){const r=ke(a);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===t&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function Tc(a,t){const r=ke(a);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return r.Ur.getTargetData(s,t).next(f=>f?(u=f,It.resolve(u)):r.Ur.allocateTargetId(s).next(m=>(u=new Hs(t,m,"TargetPurposeListen",s.currentSequenceNumber),r.Ur.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=r.os.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.os=r.os.insert(s.targetId,s),r._s.set(t,s.targetId)),s})}function bc(a,t,r){return ku.apply(this,arguments)}function ku(){return(ku=(0,c.A)(function*(a,t,r){const s=ke(a),u=s.os.get(t),f=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",f,m=>s.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!pi(m))throw m;yt("LocalStore",`Failed to update sequence numbers for target ${t}: ${m}`)}s.os=s.os.remove(t),s._s.delete(u.target)})).apply(this,arguments)}function du(a,t,r){const s=ke(a);let u=Mn.min(),f=Qn();return s.persistence.runTransaction("Execute query","readwrite",m=>function(P,K,re){const Ae=ke(P),Xe=Ae._s.get(re);return void 0!==Xe?It.resolve(Ae.os.get(Xe)):Ae.Ur.getTargetData(K,re)}(s,m,Qi(t)).next(E=>{if(E)return u=E.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(m,E.targetId).next(P=>{f=P})}).next(()=>s.ss.getDocumentsMatchingQuery(m,t,r?u:Mn.min(),r?f:Qn())).next(E=>(bm(s,Cu(t),E),{documents:E,Ts:f})))}function No(a,t){const r=ke(a),s=ke(r.Ur),u=r.os.get(t);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",f=>s.ot(f,t).next(m=>m?m.target:null))}function Sy(a,t){const r=ke(a),s=r.us.get(t)||Mn.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.cs.getAllFromCollectionGroup(u,t,wn(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(bm(r,t,u),u))}function bm(a,t,r){let s=a.us.get(t)||Mn.min();r.forEach((u,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),a.us.set(t,s)}function wm(){return(wm=(0,c.A)(function*(a,t,r,s){const u=ke(a);let f=Qn(),m=B();for(const K of r){const re=t.Es(K.metadata.name);K.document&&(f=f.add(re));const Ae=t.ds(K);Ae.setReadTime(t.As(K.metadata.readTime)),m=m.insert(re,Ae)}const E=u.cs.newChangeBuffer({trackRemovals:!0}),P=yield Tc(u,(re=s,Qi(ds(ur.fromString(`__bundle__/docs/${re}`)))));var re;return u.persistence.runTransaction("Apply bundle documents","readwrite",K=>Ou(K,E,m).next(re=>(E.apply(K),re)).next(re=>u.Ur.removeMatchingKeysForTargetId(K,P.targetId).next(()=>u.Ur.addMatchingKeys(K,f,P.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(K,re.Ps,re.Is)).next(()=>re.Ps)))})).apply(this,arguments)}function Ry(a,t){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,c.A)(function*(a,t,r=Qn()){const s=yield Tc(a,Qi(pd(t.bundledQuery))),u=ke(a);return u.persistence.runTransaction("Save named query","readwrite",f=>{const m=Ii(t.readTime);if(s.snapshotVersion.compareTo(m)>=0)return u.Gr.saveNamedQuery(f,t);const E=s.withResumeToken(qr.EMPTY_BYTE_STRING,m);return u.os=u.os.insert(E.targetId,E),u.Ur.updateTargetData(f,E).next(()=>u.Ur.removeMatchingKeysForTargetId(f,s.targetId)).next(()=>u.Ur.addMatchingKeys(f,r,s.targetId)).next(()=>u.Gr.saveNamedQuery(f,t))})})).apply(this,arguments)}function Py(a,t){return`firestore_clients_${a}_${t}`}function Sm(a,t,r){let s=`firestore_mutations_${a}_${r}`;return t.isAuthenticated()&&(s+=`_${t.uid}`),s}function Vh(a,t){return`firestore_targets_${a}_${t}`}class Dc{constructor(t,r,s,u){this.user=t,this.batchId=r,this.state=s,this.error=u}static Rs(t,r,s){const u=JSON.parse(s);let f,m="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return m&&u.error&&(m="string"==typeof u.error.message&&"string"==typeof u.error.code,m&&(f=new W(u.error.code,u.error.message))),m?new Dc(t,r,u.state,f):(nr("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Td{constructor(t,r,s){this.targetId=t,this.state=r,this.error=s}static Rs(t,r){const s=JSON.parse(r);let u,f="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return f&&s.error&&(f="string"==typeof s.error.message&&"string"==typeof s.error.code,f&&(u=new W(s.error.code,s.error.message))),f?new Td(t,s.state,u):(nr("SharedClientState",`Failed to parse target state for ID '${t}': ${r}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class mp{constructor(t,r){this.clientId=t,this.activeTargetIds=r}static Rs(t,r){const s=JSON.parse(r);let u="object"==typeof s&&s.activeTargetIds instanceof Array,f=mi();for(let m=0;u&&m<s.activeTargetIds.length;++m)u=qs(s.activeTargetIds[m]),f=f.add(s.activeTargetIds[m]);return u?new mp(t,f):(nr("SharedClientState",`Failed to parse client data for instance '${t}': ${r}`),null)}}class Rm{constructor(t,r){this.clientId=t,this.onlineState=r}static Rs(t){const r=JSON.parse(t);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Rm(r.clientId,r.onlineState):(nr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Pm{constructor(){this.activeTargetIds=mi()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class vp{constructor(t,r,s,u,f){this.window=t,this.ui=r,this.persistenceKey=s,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new cr(Tn),this.started=!1,this.bs=[];const m=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Ds=Py(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new Pm),this.Cs=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(P){return`firestore_bundle_loaded_v2_${P}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,c.A)(function*(){const r=yield t.syncEngine.Qi();for(const u of r){if(u===t.ps)continue;const f=t.getItem(Py(t.persistenceKey,u));if(f){const m=mp.Rs(u,f);m&&(t.Ss=t.Ss.insert(m.clientId,m))}}t.Ns();const s=t.storage.getItem(t.xs);if(s){const u=t.Ls(s);u&&t.Bs(u)}for(const u of t.bs)t.ws(u);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let r=!1;return this.Ss.forEach((s,u)=>{u.activeTargetIds.has(t)&&(r=!0)}),r}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,r,s){this.qs(t,r,s),this.Qs(t)}addLocalQueryTarget(t,r=!0){let s="not-current";if(this.isActiveQueryTarget(t)){const u=this.storage.getItem(Vh(this.persistenceKey,t));if(u){const f=Td.Rs(t,u);f&&(s=f.state)}}return r&&this.Ks.fs(t),this.Ns(),s}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Vh(this.persistenceKey,t))}updateQueryState(t,r,s){this.$s(t,r,s)}handleUserChange(t,r,s){r.forEach(u=>{this.Qs(u)}),this.currentUser=t,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const r=this.storage.getItem(t);return yt("SharedClientState","READ",t,r),r}setItem(t,r){yt("SharedClientState","SET",t,r),this.storage.setItem(t,r)}removeItem(t){yt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var r=this;const s=t;if(s.storageArea===this.storage){if(yt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Ds)return void nr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,c.A)(function*(){if(r.started){if(null!==s.key)if(r.Cs.test(s.key)){if(null==s.newValue){const u=r.Gs(s.key);return r.zs(u,null)}{const u=r.js(s.key,s.newValue);if(u)return r.zs(u.clientId,u)}}else if(r.Fs.test(s.key)){if(null!==s.newValue){const u=r.Hs(s.key,s.newValue);if(u)return r.Js(u)}}else if(r.Ms.test(s.key)){if(null!==s.newValue){const u=r.Ys(s.key,s.newValue);if(u)return r.Zs(u)}}else if(s.key===r.xs){if(null!==s.newValue){const u=r.Ls(s.newValue);if(u)return r.Bs(u)}}else if(s.key===r.vs){const u=function(m){let E=Jn.oe;if(null!=m)try{const P=JSON.parse(m);rt("number"==typeof P),E=P}catch(P){nr("SharedClientState","Failed to read sequence number from WebStorage",P)}return E}(s.newValue);u!==Jn.oe&&r.sequenceNumberHandler(u)}else if(s.key===r.Os){const u=r.Xs(s.newValue);yield Promise.all(u.map(f=>r.syncEngine.eo(f)))}}else r.bs.push(s)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,r,s){const u=new Dc(this.currentUser,t,r,s),f=Sm(this.persistenceKey,this.currentUser,t);this.setItem(f,u.Vs())}Qs(t){const r=Sm(this.persistenceKey,this.currentUser,t);this.removeItem(r)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,r,s){const u=Vh(this.persistenceKey,t),f=new Td(t,r,s);this.setItem(u,f.Vs())}Ws(t){const r=JSON.stringify(Array.from(t));this.setItem(this.Os,r)}Gs(t){const r=this.Cs.exec(t);return r?r[1]:null}js(t,r){const s=this.Gs(t);return mp.Rs(s,r)}Hs(t,r){const s=this.Fs.exec(t),u=Number(s[1]);return Dc.Rs(new mn(void 0!==s[2]?s[2]:null),u,r)}Ys(t,r){const s=this.Ms.exec(t),u=Number(s[1]);return Td.Rs(u,r)}Ls(t){return Rm.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var r=this;return(0,c.A)(function*(){if(t.user.uid===r.currentUser.uid)return r.syncEngine.no(t.batchId,t.state,t.error);yt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,r){const s=r?this.Ss.insert(t,r):this.Ss.remove(t),u=this.ks(this.Ss),f=this.ks(s),m=[],E=[];return f.forEach(P=>{u.has(P)||m.push(P)}),u.forEach(P=>{f.has(P)||E.push(P)}),this.syncEngine.io(m,E).then(()=>{this.Ss=s})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let r=mi();return t.forEach((s,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class My{constructor(){this.so=new Pm,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,s){}addLocalQueryTarget(t,r=!0){return r&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,r,s){this.oo[t]=r}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Pm,Promise.resolve()}handleUserChange(t,r,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class xy{_o(t){}shutdown(){}}class Ny{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){yt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){yt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _p=null;function Oy(){return null===_p?_p=268435456+Math.round(2147483648*Math.random()):_p++,"0x"+_p.toString(16)}const ky={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fy{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const Ri="WebChannelConnection";class hb extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+r.host,this.vo=`projects/${u}/databases/${f}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get Fo(){return!1}Mo(r,s,u,f,m){const E=Oy(),P=this.xo(r,s.toUriEncodedString());yt("RestConnection",`Sending RPC '${r}' ${E}:`,P,u);const K={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(K,f,m),this.No(r,P,K,u).then(re=>(yt("RestConnection",`Received RPC '${r}' ${E}: `,re),re),re=>{throw rr("RestConnection",`RPC '${r}' ${E} failed with error: `,re,"url: ",P,"request:",u),re})}Lo(r,s,u,f,m,E){return this.Mo(r,s,u,f,m)}Oo(r,s,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+Gr,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,m)=>r[m]=f),u&&u.headers.forEach((f,m)=>r[m]=f)}xo(r,s){return`${this.Do}/v1/${s}:${ky[r]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,r,s,u){const f=Oy();return new Promise((m,E)=>{const P=new Cn;P.setWithCredentials(!0),P.listenOnce(lr.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case $n.NO_ERROR:const re=P.getResponseJson();yt(Ri,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(re)),m(re);break;case $n.TIMEOUT:yt(Ri,`RPC '${t}' ${f} timed out`),E(new W(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case $n.HTTP_ERROR:const Ae=P.getStatus();if(yt(Ri,`RPC '${t}' ${f} failed with status:`,Ae,"response text:",P.getResponseText()),Ae>0){let Xe=P.getResponseJson();Array.isArray(Xe)&&(Xe=Xe[0]);const Ct=null==Xe?void 0:Xe.error;if(Ct&&Ct.status&&Ct.message){const jt=function(Xt){const Rn=Xt.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(Rn)>=0?Rn:Ue.UNKNOWN}(Ct.status);E(new W(jt,Ct.message))}else E(new W(Ue.UNKNOWN,"Server responded with status "+P.getStatus()))}else E(new W(Ue.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{yt(Ri,`RPC '${t}' ${f} completed.`)}});const K=JSON.stringify(u);yt(Ri,`RPC '${t}' ${f} sending request:`,u),P.send(r,"POST",K,s,15)})}Bo(t,r,s){const u=Oy(),f=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=sr(),E=Fr(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(P.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(P.useFetchStreams=!0),this.Oo(P.initMessageHeaders,r,s),P.encodeInitMessageHeaders=!0;const re=f.join("");yt(Ri,`Creating RPC '${t}' stream ${u}: ${re}`,P);const Ae=m.createWebChannel(re,P);let Xe=!1,Ct=!1;const jt=new Fy({Io:Xt=>{Ct?yt(Ri,`Not sending because RPC '${t}' stream ${u} is closed:`,Xt):(Xe||(yt(Ri,`Opening RPC '${t}' stream ${u} transport.`),Ae.open(),Xe=!0),yt(Ri,`RPC '${t}' stream ${u} sending:`,Xt),Ae.send(Xt))},To:()=>Ae.close()}),sn=(Xt,Rn,Gn)=>{Xt.listen(Rn,kn=>{try{Gn(kn)}catch(Pn){setTimeout(()=>{throw Pn},0)}})};return sn(Ae,Wn.EventType.OPEN,()=>{Ct||(yt(Ri,`RPC '${t}' stream ${u} transport opened.`),jt.yo())}),sn(Ae,Wn.EventType.CLOSE,()=>{Ct||(Ct=!0,yt(Ri,`RPC '${t}' stream ${u} transport closed`),jt.So())}),sn(Ae,Wn.EventType.ERROR,Xt=>{Ct||(Ct=!0,rr(Ri,`RPC '${t}' stream ${u} transport errored:`,Xt),jt.So(new W(Ue.UNAVAILABLE,"The operation could not be completed")))}),sn(Ae,Wn.EventType.MESSAGE,Xt=>{var Rn;if(!Ct){const Gn=Xt.data[0];rt(!!Gn);const Pn=Gn.error||(null===(Rn=Gn[0])||void 0===Rn?void 0:Rn.error);if(Pn){yt(Ri,`RPC '${t}' stream ${u} received error:`,Pn);const yr=Pn.status;let ar=function(pt){const Rt=di[pt];if(void 0!==Rt)return Jl(Rt)}(yr),Tt=Pn.message;void 0===ar&&(ar=Ue.INTERNAL,Tt="Unknown error status: "+yr+" with message "+Pn.message),Ct=!0,jt.So(new W(ar,Tt)),Ae.close()}else yt(Ri,`RPC '${t}' stream ${u} received:`,Gn),jt.bo(Gn)}}),sn(E,fr.STAT_EVENT,Xt=>{Xt.stat===Vn.PROXY?yt(Ri,`RPC '${t}' stream ${u} detected buffering proxy`):Xt.stat===Vn.NOPROXY&&yt(Ri,`RPC '${t}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{jt.wo()},0),jt}}function Ly(){return typeof window<"u"?window:null}function Mm(){return typeof document<"u"?document:null}function bd(a){return new ti(a,!0)}class Vy{constructor(t,r,s=1e3,u=1.5,f=6e4){this.ui=t,this.timerId=r,this.ko=s,this.qo=u,this.Qo=f,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const r=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,r-s);u>0&&yt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class yp{constructor(t,r,s,u,f,m,E,P){this.ui=t,this.Ho=s,this.Jo=u,this.connection=f,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=E,this.listener=P,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Vy(t,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,c.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,c.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,r){var s=this;return(0,c.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==t?s.t_.reset():r&&r.code===Ue.RESOURCE_EXHAUSTED?(nr(r.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):r&&r.code===Ue.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=t,yield s.listener.mo(r)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===r&&this.P_(s,u)},s=>{t(()=>{const u=new W(Ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(t,r){const s=this.h_(this.Yo);this.stream=this.T_(t,r),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var t=this;this.state=5,this.t_.Go((0,c.A)(function*(){t.state=0,t.start()}))}I_(t){return yt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return r=>{this.ui.enqueueAndForget(()=>this.Yo===t?r():(yt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Uy extends yp{constructor(t,r,s,u,f,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,u,m),this.serializer=f}T_(t,r){return this.connection.Bo("Listen",t,r)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const r=function Ch(a,t){let r;if("targetChange"in t){const s="NO_CHANGE"===(K=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:Fe(),u=t.targetChange.targetIds||[],f=function(K,re){return K.useProto3Json?(rt(void 0===re||"string"==typeof re),qr.fromBase64String(re||"")):(rt(void 0===re||re instanceof Buffer||re instanceof Uint8Array),qr.fromUint8Array(re||new Uint8Array))}(a,t.targetChange.resumeToken),m=t.targetChange.cause,E=m&&function(K){const re=void 0===K.code?Ue.UNKNOWN:Jl(K.code);return new W(re,K.message||"")}(m);r=new V(s,u,f,E||null)}else if("documentChange"in t){const s=t.documentChange,u=hs(a,s.document.name),f=Ii(s.document.updateTime),m=s.document.createTime?Ii(s.document.createTime):Mn.min(),E=new _e({mapValue:{fields:s.document.fields}}),P=Ln.newFoundDocument(u,f,m,E);r=new N(s.targetIds||[],s.removedTargetIds||[],P.key,P)}else if("documentDelete"in t){const s=t.documentDelete,u=hs(a,s.document),f=s.readTime?Ii(s.readTime):Mn.min(),m=Ln.newNoDocument(u,f);r=new N([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in t){const s=t.documentRemove,u=hs(a,s.document);r=new N([],s.removedTargetIds||[],u,null)}else{if(!("filter"in t))return Fe();{const s=t.filter,{count:u=0,unchangedNames:f}=s,m=new Tl(u,f);r=new S(s.targetId,m)}}var K;return r}(this.serializer,t),s=function(f){if(!("targetChange"in f))return Mn.min();const m=f.targetChange;return m.targetIds&&m.targetIds.length?Mn.min():m.readTime?Ii(m.readTime):Mn.min()}(t);return this.listener.d_(r,s)}A_(t){const r={};r.database=Eh(this.serializer),r.addTarget=function(f,m){let E;const P=m.target;if(E=da(P)?{documents:eu(f,P)}:{query:ja(f,P)._t},E.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){E.resumeToken=Vo(f,m.resumeToken);const K=Dr(f,m.expectedCount);null!==K&&(E.expectedCount=K)}else if(m.snapshotVersion.compareTo(Mn.min())>0){E.readTime=Si(f,m.snapshotVersion.toTimestamp());const K=Dr(f,m.expectedCount);null!==K&&(E.expectedCount=K)}return E}(this.serializer,t);const s=function bh(a,t){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(t.purpose);return null==r?null:{"goog-listen-tags":r}}(0,t);s&&(r.labels=s),this.a_(r)}R_(t){const r={};r.database=Eh(this.serializer),r.removeTarget=t,this.a_(r)}}class Uh extends yp{constructor(t,r,s,u,f,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,m),this.serializer=f}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,r){return this.connection.Bo("Write",t,r)}E_(t){return rt(!!t.streamToken),this.lastStreamToken=t.streamToken,rt(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){rt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const r=function Th(a,t){return a&&a.length>0?(rt(void 0!==t),a.map(r=>function(u,f){let m=Ii(u.updateTime?u.updateTime:f);return m.isEqual(Mn.min())&&(m=Ii(f)),new Zl(m,u.transformResults||[])}(r,t))):[]}(t.writeResults,t.commitTime),s=Ii(t.commitTime);return this.listener.g_(s,r)}p_(){const t={};t.database=Eh(this.serializer),this.a_(t)}m_(t){const r={streamToken:this.lastStreamToken,writes:t.map(s=>al(this.serializer,s))};this.a_(r)}}class ZE extends class{}{constructor(t,r,s,u){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new W(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,r,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Mo(t,bl(r,s),u,f,m)).catch(f=>{throw"FirebaseError"===f.name?(f.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new W(Ue.UNKNOWN,f.toString())})}Lo(t,r,s,u,f){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,E])=>this.connection.Lo(t,bl(r,s),u,m,E,f)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new W(Ue.UNKNOWN,m.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class JE{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const r=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(nr(r),this.D_=!1):yt("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class wc{constructor(t,r,s,u,f){var m=this;this.localStore=t,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=f,this.k_._o(E=>{s.enqueueAndForget((0,c.A)(function*(){var P;Ci(m)&&(yt("RemoteStore","Restarting streams for network reachability change."),yield(P=(0,c.A)(function*(re){const Ae=ke(re);Ae.L_.add(4),yield zs(Ae),Ae.q_.set("Unknown"),Ae.L_.delete(4),yield Ip(Ae)}),function K(re){return P.apply(this,arguments)})(m))}))}),this.q_=new JE(s,u)}}function Ip(a){return xm.apply(this,arguments)}function xm(){return(xm=(0,c.A)(function*(a){if(Ci(a))for(const t of a.B_)yield t(!0)})).apply(this,arguments)}function zs(a){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,c.A)(function*(a){for(const t of a.B_)yield t(!1)})).apply(this,arguments)}function $h(a,t){const r=ke(a);r.N_.has(t.targetId)||(r.N_.set(t.targetId,t),Nm(r)?wd(r):Pl(r).r_()&&$y(r,t))}function Sc(a,t){const r=ke(a),s=Pl(r);r.N_.delete(t),s.r_()&&Ep(r,t),0===r.N_.size&&(s.r_()?s.o_():Ci(r)&&r.q_.set("Unknown"))}function $y(a,t){if(a.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Mn.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Pl(a).A_(t)}function Ep(a,t){a.Q_.xe(t),Pl(a).R_(t)}function wd(a){a.Q_=new ye({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>a.N_.get(t)||null,tt:()=>a.datastore.serializer.databaseId}),Pl(a).start(),a.q_.v_()}function Nm(a){return Ci(a)&&!Pl(a).n_()&&a.N_.size>0}function Ci(a){return 0===ke(a).L_.size}function By(a){a.Q_=void 0}function Om(a){return km.apply(this,arguments)}function km(){return(km=(0,c.A)(function*(a){a.q_.set("Online")})).apply(this,arguments)}function eA(a){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,c.A)(function*(a){a.N_.forEach((t,r)=>{$y(a,t)})})).apply(this,arguments)}function jy(a,t){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,c.A)(function*(a,t){By(a),Nm(a)?(a.q_.M_(t),wd(a)):a.q_.set("Unknown")})).apply(this,arguments)}function Fm(a,t,r){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,c.A)(function*(a,t,r){if(a.q_.set("Online"),t instanceof V&&2===t.state&&t.cause)try{yield(s=(0,c.A)(function*(f,m){const E=m.cause;for(const P of m.targetIds)f.N_.has(P)&&(yield f.remoteSyncer.rejectListen(P,E),f.N_.delete(P),f.Q_.removeTarget(P))}),function u(f,m){return s.apply(this,arguments)})(a,t)}catch(s){yt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),yield Cp(a,s)}else if(t instanceof N?a.Q_.Ke(t):t instanceof S?a.Q_.He(t):a.Q_.We(t),!r.isEqual(Mn.min()))try{const s=yield wy(a.localStore);r.compareTo(s)>=0&&(yield function(f,m){const E=f.Q_.rt(m);return E.targetChanges.forEach((P,K)=>{if(P.resumeToken.approximateByteSize()>0){const re=f.N_.get(K);re&&f.N_.set(K,re.withResumeToken(P.resumeToken,m))}}),E.targetMismatches.forEach((P,K)=>{const re=f.N_.get(P);if(!re)return;f.N_.set(P,re.withResumeToken(qr.EMPTY_BYTE_STRING,re.snapshotVersion)),Ep(f,P);const Ae=new Hs(re.target,P,K,re.sequenceNumber);$y(f,Ae)}),f.remoteSyncer.applyRemoteEvent(E)}(a,r))}catch(s){yt("RemoteStore","Failed to raise snapshot:",s),yield Cp(a,s)}var s}),Lm.apply(this,arguments)}function Cp(a,t,r){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,c.A)(function*(a,t,r){if(!pi(t))throw t;a.L_.add(1),yield zs(a),a.q_.set("Offline"),r||(r=()=>wy(a.localStore)),a.asyncQueue.enqueueRetryable((0,c.A)(function*(){yt("RemoteStore","Retrying IndexedDB access"),yield r(),a.L_.delete(1),yield Ip(a)}))})).apply(this,arguments)}function Hy(a,t){return t().catch(r=>Cp(a,r,t))}function sa(a){return Vm.apply(this,arguments)}function Vm(){return(Vm=(0,c.A)(function*(a){const t=ke(a),r=Ka(t);let s=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;zy(t);)try{const u=yield YE(t.localStore,s);if(null===u){0===t.O_.length&&r.o_();break}s=u.batchId,fb(t,u)}catch(u){yield Cp(t,u)}tA(t)&&nA(t)})).apply(this,arguments)}function zy(a){return Ci(a)&&a.O_.length<10}function fb(a,t){a.O_.push(t);const r=Ka(a);r.r_()&&r.V_&&r.m_(t.mutations)}function tA(a){return Ci(a)&&!Ka(a).n_()&&a.O_.length>0}function nA(a){Ka(a).start()}function pb(a){return Gy.apply(this,arguments)}function Gy(){return(Gy=(0,c.A)(function*(a){Ka(a).p_()})).apply(this,arguments)}function rA(a){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,c.A)(function*(a){const t=Ka(a);for(const r of a.O_)t.m_(r.mutations)})).apply(this,arguments)}function jh(a,t,r){return bp.apply(this,arguments)}function bp(){return(bp=(0,c.A)(function*(a,t,r){const s=a.O_.shift(),u=Yi.from(s,t,r);yield Hy(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),yield sa(a)})).apply(this,arguments)}function iA(a,t){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,c.A)(function*(a,t){var r;t&&Ka(a).V_&&(yield(r=(0,c.A)(function*(u,f){if(dc(E=f.code)&&E!==Ue.ABORTED){const m=u.O_.shift();Ka(u).s_(),yield Hy(u,()=>u.remoteSyncer.rejectFailedWrite(m.batchId,f)),yield sa(u)}var E}),function s(u,f){return r.apply(this,arguments)})(a,t)),tA(a)&&nA(a)}),Hh.apply(this,arguments)}function Sd(a,t){return Um.apply(this,arguments)}function Um(){return(Um=(0,c.A)(function*(a,t){const r=ke(a);r.asyncQueue.verifyOperationInProgress(),yt("RemoteStore","RemoteStore received new credentials");const s=Ci(r);r.L_.add(3),yield zs(r),s&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(t),r.L_.delete(3),yield Ip(r)})).apply(this,arguments)}function zh(a,t){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,c.A)(function*(a,t){const r=ke(a);t?(r.L_.delete(2),yield Ip(r)):t||(r.L_.add(2),yield zs(r),r.q_.set("Unknown"))})).apply(this,arguments)}function Pl(a){return a.K_||(a.K_=function(r,s,u){const f=ke(r);return f.w_(),new Uy(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Eo:Om.bind(null,a),Ro:eA.bind(null,a),mo:jy.bind(null,a),d_:Fm.bind(null,a)}),a.B_.push(function(){var t=(0,c.A)(function*(r){r?(a.K_.s_(),Nm(a)?wd(a):a.q_.set("Unknown")):(yield a.K_.stop(),By(a))});return function(r){return t.apply(this,arguments)}}())),a.K_}function Ka(a){return a.U_||(a.U_=function(r,s,u){const f=ke(r);return f.w_(),new Uh(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Eo:()=>Promise.resolve(),Ro:pb.bind(null,a),mo:iA.bind(null,a),f_:rA.bind(null,a),g_:jh.bind(null,a)}),a.B_.push(function(){var t=(0,c.A)(function*(r){r?(a.U_.s_(),yield sa(a)):(yield a.U_.stop(),a.O_.length>0&&(yt("RemoteStore",`Stopping write stream with ${a.O_.length} pending writes`),a.O_=[]))});return function(r){return t.apply(this,arguments)}}())),a.U_}class wp{constructor(t,r,s,u,f){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new R,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,s,u,f){const m=Date.now()+s,E=new wp(t,r,m,u,f);return E.start(s),E}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new W(Ue.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lu(a,t){if(nr("AsyncQueue",`${t}: ${a}`),pi(a))return new W(Ue.UNAVAILABLE,`${t}: ${a}`);throw a}class Rd{constructor(t){this.comparator=t?(r,s)=>t(r,s)||H.comparator(r.key,s.key):(r,s)=>H.comparator(r.key,s.key),this.keyedMap=je(),this.sortedSet=new cr(this.comparator)}static emptySet(t){return new Rd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,s)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Rd)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=s.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,r){const s=new Rd;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=r,s}}class Wy{constructor(){this.W_=new cr(H.comparator)}track(t){const r=t.doc.key,s=this.W_.get(r);s?0!==t.type&&3===s.type?this.W_=this.W_.insert(r,t):3===t.type&&1!==s.type?this.W_=this.W_.insert(r,{type:s.type,doc:t.doc}):2===t.type&&2===s.type?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):2===t.type&&0===s.type?this.W_=this.W_.insert(r,{type:0,doc:t.doc}):1===t.type&&0===s.type?this.W_=this.W_.remove(r):1===t.type&&2===s.type?this.W_=this.W_.insert(r,{type:1,doc:s.doc}):0===t.type&&1===s.type?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):Fe():this.W_=this.W_.insert(r,t)}G_(){const t=[];return this.W_.inorderTraversal((r,s)=>{t.push(s)}),t}}class Pd{constructor(t,r,s,u,f,m,E,P,K){this.query=t,this.docs=r,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=f,this.fromCache=m,this.syncStateChanged=E,this.excludesMetadataChanges=P,this.hasCachedResults=K}static fromInitialDocuments(t,r,s,u,f){const m=[];return r.forEach(E=>{m.push({type:0,doc:E})}),new Pd(t,r,Rd.emptySet(r),m,s,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ha(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,s=t.docChanges;if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==s[u].type||!r[u].doc.isEqual(s[u].doc))return!1;return!0}}class Ky{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class $m{constructor(){this.queries=qy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,s){const u=ke(r),f=u.queries;u.queries=qy(),f.forEach((m,E)=>{for(const P of E.j_)P.onError(s)})}(this,new W(Ue.ABORTED,"Firestore shutting down"))}}function qy(){return new z(a=>fa(a),ha)}function Rs(a,t){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,c.A)(function*(a,t){const r=ke(a);let s=3;const u=t.query;let f=r.queries.get(u);f?!f.H_()&&t.J_()&&(s=2):(f=new Ky,s=t.J_()?0:1);try{switch(s){case 0:f.z_=yield r.onListen(u,!0);break;case 1:f.z_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(m){const E=Lu(m,`Initialization of query '${Ts(t.query)}' failed`);return void t.onError(E)}r.queries.set(u,f),f.j_.push(t),t.Z_(r.onlineState),f.z_&&t.X_(f.z_)&&rs(r)})).apply(this,arguments)}function Sp(a,t){return Md.apply(this,arguments)}function Md(){return(Md=(0,c.A)(function*(a,t){const r=ke(a),s=t.query;let u=3;const f=r.queries.get(s);if(f){const m=f.j_.indexOf(t);m>=0&&(f.j_.splice(m,1),0===f.j_.length?u=t.J_()?0:1:!f.H_()&&t.J_()&&(u=2))}switch(u){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function gb(a,t){const r=ke(a);let s=!1;for(const u of t){const m=r.queries.get(u.query);if(m){for(const E of m.j_)E.X_(u)&&(s=!0);m.z_=u}}s&&rs(r)}function mb(a,t,r){const s=ke(a),u=s.queries.get(t);if(u)for(const f of u.j_)f.onError(r);s.queries.delete(t)}function rs(a){a.Y_.forEach(t=>{t.next()})}var Vu,Bm;(Bm=Vu||(Vu={})).ea="default",Bm.Cache="cache";class Rp{constructor(t,r,s){this.query=t,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(t){if(!this.options.includeMetadataChanges){const s=[];for(const u of t.docChanges)3!==u.type&&s.push(u);t=new Pd(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.na?this.ia(t)&&(this.ta.next(t),r=!0):this.sa(t,this.onlineState)&&(this.oa(t),r=!0),this.ra=t,r}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),r=!0),r}sa(t,r){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===r)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=Pd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Vu.Cache}}class oA{constructor(t,r){this.aa=t,this.byteLength=r}ua(){return"metadata"in this.aa}}class jm{constructor(t){this.serializer=t}Es(t){return hs(this.serializer,t)}ds(t){return t.metadata.exists?sl(this.serializer,t.document,!1):Ln.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return Ii(t)}}class sA{constructor(t,r,s){this.ca=t,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Hm(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let r=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++r;const s=ur.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(t){const r=new Map,s=new jm(this.serializer);for(const u of t)if(u.metadata.queries){const f=s.Es(u.metadata.name);for(const m of u.metadata.queries){const E=(r.get(m)||Qn()).add(f);r.set(m,E)}}return r}complete(){var t=this;return(0,c.A)(function*(){const r=yield function Dm(a,t,r,s){return wm.apply(this,arguments)}(t.localStore,new jm(t.serializer),t.documents,t.ca.id),s=t.ha(t.documents);for(const u of t.queries)yield Ry(t.localStore,u,s.get(u.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:r}})()}}function Hm(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class Xy{constructor(t){this.key=t}}class zm{constructor(t){this.key=t}}class Qy{constructor(t,r){this.query=t,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Qn(),this.mutatedKeys=Qn(),this.Aa=Yl(t),this.Ra=new Rd(this.Aa)}get Va(){return this.Ta}ma(t,r){const s=r?r.fa:new Wy,u=r?r.Ra:this.Ra;let f=r?r.mutatedKeys:this.mutatedKeys,m=u,E=!1;const P="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,K="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal((re,Ae)=>{const Xe=u.get(re),Ct=bs(this.query,Ae)?Ae:null,jt=!!Xe&&this.mutatedKeys.has(Xe.key),sn=!!Ct&&(Ct.hasLocalMutations||this.mutatedKeys.has(Ct.key)&&Ct.hasCommittedMutations);let Xt=!1;Xe&&Ct?Xe.data.isEqual(Ct.data)?jt!==sn&&(s.track({type:3,doc:Ct}),Xt=!0):this.ga(Xe,Ct)||(s.track({type:2,doc:Ct}),Xt=!0,(P&&this.Aa(Ct,P)>0||K&&this.Aa(Ct,K)<0)&&(E=!0)):!Xe&&Ct?(s.track({type:0,doc:Ct}),Xt=!0):Xe&&!Ct&&(s.track({type:1,doc:Xe}),Xt=!0,(P||K)&&(E=!0)),Xt&&(Ct?(m=m.add(Ct),f=sn?f.add(re):f.delete(re)):(m=m.delete(re),f=f.delete(re)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const re="F"===this.query.limitType?m.last():m.first();m=m.delete(re.key),f=f.delete(re.key),s.track({type:1,doc:re})}return{Ra:m,fa:s,ns:E,mutatedKeys:f}}ga(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,s,u){const f=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const m=t.fa.G_();m.sort((re,Ae)=>function(Ct,jt){const sn=Xt=>{switch(Xt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return sn(Ct)-sn(jt)}(re.type,Ae.type)||this.Aa(re.doc,Ae.doc)),this.pa(s),u=null!=u&&u;const E=r&&!u?this.ya():[],P=0===this.da.size&&this.current&&!u?1:0,K=P!==this.Ea;return this.Ea=P,0!==m.length||K?{snapshot:new Pd(this.query,t.Ra,f,m,t.mutatedKeys,0===P,K,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:E}:{wa:E}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Wy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Qn(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const r=[];return t.forEach(s=>{this.da.has(s)||r.push(new zm(s))}),this.da.forEach(s=>{t.has(s)||r.push(new Xy(s))}),r}ba(t){this.Ta=t.Ts,this.da=Qn();const r=this.ma(t.documents);return this.applyChanges(r,!0)}Da(){return Pd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class aA{constructor(t,r,s){this.query=t,this.targetId=r,this.view=s}}class lA{constructor(t){this.key=t,this.va=!1}}class uA{constructor(t,r,s,u,f,m){this.localStore=t,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.Ca={},this.Fa=new z(E=>fa(E),ha),this.Ma=new Map,this.xa=new Set,this.Oa=new cr(H.comparator),this.Na=new Map,this.La=new D,this.Ba={},this.ka=new Map,this.qa=cl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Yy(a,t){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,c.A)(function*(a,t,r=!0){const s=Vp(a);let u;const f=s.Fa.get(t);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.Da()):u=yield Gm(s,t,r,!0),u})).apply(this,arguments)}function Zy(a,t){return xd.apply(this,arguments)}function xd(){return(xd=(0,c.A)(function*(a,t){const r=Vp(a);yield Gm(r,t,!0,!1)})).apply(this,arguments)}function Gm(a,t,r,s){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,c.A)(function*(a,t,r,s){const u=yield Tc(a.localStore,Qi(t)),f=u.targetId,m=a.sharedClientState.addLocalQueryTarget(f,r);let E;return s&&(E=yield xp(a,t,f,"current"===m,u.resumeToken)),a.isPrimaryClient&&r&&$h(a.remoteStore,u),E})).apply(this,arguments)}function xp(a,t,r,s,u){return Np.apply(this,arguments)}function Np(){return Np=(0,c.A)(function*(a,t,r,s,u){a.Ka=(Ae,Xe,Ct)=>{return(jt=(0,c.A)(function*(Xt,Rn,Gn,kn){let Pn=Rn.view.ma(Gn);Pn.ns&&(Pn=yield du(Xt.localStore,Rn.query,!1).then(({documents:Je})=>Rn.view.ma(Je,Pn)));const yr=kn&&kn.targetChanges.get(Rn.targetId),ar=kn&&null!=kn.targetMismatches.get(Rn.targetId),Tt=Rn.view.applyChanges(Pn,Xt.isPrimaryClient,yr,ar);return Zm(Xt,Rn.targetId,Tt.wa),Tt.snapshot}),function sn(Xt,Rn,Gn,kn){return jt.apply(this,arguments)})(a,Ae,Xe,Ct);var jt};const f=yield du(a.localStore,t,!0),m=new Qy(t,f.Ts),E=m.ma(f.documents),P=w.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==a.onlineState,u),K=m.applyChanges(E,a.isPrimaryClient,P);Zm(a,r,K.wa);const re=new aA(t,r,m);return a.Fa.set(t,re),a.Ma.has(r)?a.Ma.get(r).push(t):a.Ma.set(r,[t]),K.snapshot}),Np.apply(this,arguments)}function cA(a,t,r){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,c.A)(function*(a,t,r){const s=ke(a),u=s.Fa.get(t),f=s.Ma.get(u.targetId);if(f.length>1)return s.Ma.set(u.targetId,f.filter(m=>!ha(m,t))),void s.Fa.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield bc(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),r&&Sc(s.remoteStore,u.targetId),Kh(s,u.targetId)}).catch(ei))):(Kh(s,u.targetId),yield bc(s.localStore,u.targetId,!0))})).apply(this,arguments)}function dA(a,t){return Km.apply(this,arguments)}function Km(){return(Km=(0,c.A)(function*(a,t){const r=ke(a),s=r.Fa.get(t),u=r.Ma.get(s.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),Sc(r.remoteStore,s.targetId))})).apply(this,arguments)}function e0(){return(e0=(0,c.A)(function*(a,t,r){const s=iv(a);try{const u=yield function(m,E){const P=ke(m),K=_r.now(),re=E.reduce((Ct,jt)=>Ct.add(jt.key),Qn());let Ae,Xe;return P.persistence.runTransaction("Locally write mutations","readwrite",Ct=>{let jt=B(),sn=Qn();return P.cs.getEntries(Ct,re).next(Xt=>{jt=Xt,jt.forEach((Rn,Gn)=>{Gn.isValidDocument()||(sn=sn.add(Rn))})}).next(()=>P.localDocuments.getOverlayedDocuments(Ct,jt)).next(Xt=>{Ae=Xt;const Rn=[];for(const Gn of E){const kn=$s(Gn,Ae.get(Gn.key).overlayedDocument);null!=kn&&Rn.push(new es(Gn.key,kn,ln(kn.value.mapValue),fi.exists(!0)))}return P.mutationQueue.addMutationBatch(Ct,K,Rn,E)}).next(Xt=>{Xe=Xt;const Rn=Xt.applyToLocalDocumentSet(Ae,sn);return P.documentOverlayCache.saveOverlays(Ct,Xt.batchId,Rn)})}).then(()=>({batchId:Xe.batchId,changes:Ht(Ae)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(u.batchId),function(m,E,P){let K=m.Ba[m.currentUser.toKey()];K||(K=new cr(Tn)),K=K.insert(E,P),m.Ba[m.currentUser.toKey()]=K}(s,u.batchId,r),yield Uu(s,u.changes),yield sa(s.remoteStore)}catch(u){const f=Lu(u,"Failed to persist write");r.reject(f)}})).apply(this,arguments)}function qm(a,t){return Xm.apply(this,arguments)}function Xm(){return(Xm=(0,c.A)(function*(a,t){const r=ke(a);try{const s=yield function gp(a,t){const r=ke(a),s=t.snapshotVersion;let u=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const m=r.cs.newChangeBuffer({trackRemovals:!0});u=r.os;const E=[];t.targetChanges.forEach((re,Ae)=>{const Xe=u.get(Ae);if(!Xe)return;E.push(r.Ur.removeMatchingKeys(f,re.removedDocuments,Ae).next(()=>r.Ur.addMatchingKeys(f,re.addedDocuments,Ae)));let Ct=Xe.withSequenceNumber(f.currentSequenceNumber);var sn,Xt,Rn;null!==t.targetMismatches.get(Ae)?Ct=Ct.withResumeToken(qr.EMPTY_BYTE_STRING,Mn.min()).withLastLimboFreeSnapshotVersion(Mn.min()):re.resumeToken.approximateByteSize()>0&&(Ct=Ct.withResumeToken(re.resumeToken,s)),u=u.insert(Ae,Ct),Xt=Ct,Rn=re,(0===(sn=Xe).resumeToken.approximateByteSize()||Xt.snapshotVersion.toMicroseconds()-sn.snapshotVersion.toMicroseconds()>=3e8||Rn.addedDocuments.size+Rn.modifiedDocuments.size+Rn.removedDocuments.size>0)&&E.push(r.Ur.updateTargetData(f,Ct))});let P=B(),K=Qn();if(t.documentUpdates.forEach(re=>{t.resolvedLimboDocuments.has(re)&&E.push(r.persistence.referenceDelegate.updateLimboDocument(f,re))}),E.push(Ou(f,m,t.documentUpdates).next(re=>{P=re.Ps,K=re.Is})),!s.isEqual(Mn.min())){const re=r.Ur.getLastRemoteSnapshotVersion(f).next(Ae=>r.Ur.setTargetsMetadata(f,f.currentSequenceNumber,s));E.push(re)}return It.waitFor(E).next(()=>m.apply(f)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,P,K)).next(()=>P)}).then(f=>(r.os=u,f))}(r.localStore,t);t.targetChanges.forEach((u,f)=>{const m=r.Na.get(f);m&&(rt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?m.va=!0:u.modifiedDocuments.size>0?rt(m.va):u.removedDocuments.size>0&&(rt(m.va),m.va=!1))}),yield Uu(r,s,t)}catch(s){yield ei(s)}})).apply(this,arguments)}function t0(a,t,r){const s=ke(a);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const u=[];s.Fa.forEach((f,m)=>{const E=m.view.Z_(t);E.snapshot&&u.push(E.snapshot)}),function(m,E){const P=ke(m);P.onlineState=E;let K=!1;P.queries.forEach((re,Ae)=>{for(const Xe of Ae.j_)Xe.Z_(E)&&(K=!0)}),K&&rs(P)}(s.eventManager,t),u.length&&s.Ca.d_(u),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}function vb(a,t,r){return Qm.apply(this,arguments)}function Qm(){return(Qm=(0,c.A)(function*(a,t,r){const s=ke(a);s.sharedClientState.updateQueryState(t,"rejected",r);const u=s.Na.get(t),f=u&&u.key;if(f){let m=new cr(H.comparator);m=m.insert(f,Ln.newNoDocument(f,Mn.min()));const E=Qn().add(f),P=new I(Mn.min(),new Map,new cr(Tn),m,E);yield qm(s,P),s.Oa=s.Oa.remove(f),s.Na.delete(t),Jm(s)}else yield bc(s.localStore,t,!1).then(()=>Kh(s,t,r)).catch(ei)})).apply(this,arguments)}function n0(a,t){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,c.A)(function*(a,t){const r=ke(a),s=t.batch.batchId;try{const u=yield function Dy(a,t){const r=ke(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=t.batch.keys(),f=r.cs.newChangeBuffer({trackRemovals:!0});return function(E,P,K,re){const Ae=K.batch,Xe=Ae.keys();let Ct=It.resolve();return Xe.forEach(jt=>{Ct=Ct.next(()=>re.getEntry(P,jt)).next(sn=>{const Xt=K.docVersions.get(jt);rt(null!==Xt),sn.version.compareTo(Xt)<0&&(Ae.applyToRemoteDocument(sn,K),sn.isValidDocument()&&(sn.setReadTime(K.commitVersion),re.addEntry(sn)))})}),Ct.next(()=>E.mutationQueue.removeMutationBatch(P,Ae))}(r,s,t,f).next(()=>f.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(E){let P=Qn();for(let K=0;K<E.mutationResults.length;++K)E.mutationResults[K].transformResults.length>0&&(P=P.add(E.batch.mutations[K].key));return P}(t))).next(()=>r.localDocuments.getDocuments(s,u))})}(r.localStore,t);Nd(r,s,null),kp(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Uu(r,u)}catch(u){yield ei(u)}})).apply(this,arguments)}function hA(a,t,r){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,c.A)(function*(a,t,r){const s=ke(a);try{const u=yield function(m,E){const P=ke(m);return P.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let re;return P.mutationQueue.lookupMutationBatch(K,E).next(Ae=>(rt(null!==Ae),re=Ae.keys(),P.mutationQueue.removeMutationBatch(K,Ae))).next(()=>P.mutationQueue.performConsistencyCheck(K)).next(()=>P.documentOverlayCache.removeOverlaysForBatchId(K,re,E)).next(()=>P.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,re)).next(()=>P.localDocuments.getDocuments(K,re))})}(s.localStore,t);Nd(s,t,r),kp(s,t),s.sharedClientState.updateMutationState(t,"rejected",r),yield Uu(s,u)}catch(u){yield ei(u)}})).apply(this,arguments)}function Ym(){return(Ym=(0,c.A)(function*(a,t){const r=ke(a);Ci(r.remoteStore)||yt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(m){const E=ke(m);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",P=>E.mutationQueue.getHighestUnacknowledgedBatchId(P))}(r.localStore);if(-1===s)return void t.resolve();const u=r.ka.get(s)||[];u.push(t),r.ka.set(s,u)}catch(s){const u=Lu(s,"Initialization of waitForPendingWrites() operation failed");t.reject(u)}})).apply(this,arguments)}function kp(a,t){(a.ka.get(t)||[]).forEach(r=>{r.resolve()}),a.ka.delete(t)}function Nd(a,t,r){const s=ke(a);let u=s.Ba[s.currentUser.toKey()];if(u){const f=u.get(t);f&&(r?f.reject(r):f.resolve(),u=u.remove(t)),s.Ba[s.currentUser.toKey()]=u}}function Kh(a,t,r=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Ma.get(t))a.Fa.delete(s),r&&a.Ca.$a(s,r);a.Ma.delete(t),a.isPrimaryClient&&a.La.gr(t).forEach(s=>{a.La.containsKey(s)||fA(a,s)})}function fA(a,t){a.xa.delete(t.path.canonicalString());const r=a.Oa.get(t);null!==r&&(Sc(a.remoteStore,r),a.Oa=a.Oa.remove(t),a.Na.delete(r),Jm(a))}function Zm(a,t,r){for(const s of r)s instanceof Xy?(a.La.addReference(s.key,t),pA(a,s)):s instanceof zm?(yt("SyncEngine","Document no longer in limbo: "+s.key),a.La.removeReference(s.key,t),a.La.containsKey(s.key)||fA(a,s.key)):Fe()}function pA(a,t){const r=t.key,s=r.path.canonicalString();a.Oa.get(r)||a.xa.has(s)||(yt("SyncEngine","New document in limbo: "+r),a.xa.add(s),Jm(a))}function Jm(a){for(;a.xa.size>0&&a.Oa.size<a.maxConcurrentLimboResolutions;){const t=a.xa.values().next().value;a.xa.delete(t);const r=new H(ur.fromString(t)),s=a.qa.next();a.Na.set(s,new lA(r)),a.Oa=a.Oa.insert(r,s),$h(a.remoteStore,new Hs(Qi(ds(r.path)),s,"TargetPurposeLimboResolution",Jn.oe))}}function Uu(a,t,r){return r0.apply(this,arguments)}function r0(){return r0=(0,c.A)(function*(a,t,r){const s=ke(a),u=[],f=[],m=[];var E;s.Fa.isEmpty()||(s.Fa.forEach((E,P)=>{m.push(s.Ka(P,t,r).then(K=>{var re;if((K||r)&&s.isPrimaryClient){const Ae=K?!K.fromCache:null===(re=null==r?void 0:r.targetChanges.get(P.targetId))||void 0===re?void 0:re.current;s.sharedClientState.updateQueryState(P.targetId,Ae?"current":"not-current")}if(K){u.push(K);const Ae=Ec.Wi(P.targetId,K);f.push(Ae)}}))}),yield Promise.all(m),s.Ca.d_(u),yield(E=(0,c.A)(function*(K,re){const Ae=ke(K);try{yield Ae.persistence.runTransaction("notifyLocalViewChanges","readwrite",Xe=>It.forEach(re,Ct=>It.forEach(Ct.$i,jt=>Ae.persistence.referenceDelegate.addReference(Xe,Ct.targetId,jt)).next(()=>It.forEach(Ct.Ui,jt=>Ae.persistence.referenceDelegate.removeReference(Xe,Ct.targetId,jt)))))}catch(Xe){if(!pi(Xe))throw Xe;yt("LocalStore","Failed to update sequence numbers: "+Xe)}for(const Xe of re){const Ct=Xe.targetId;if(!Xe.fromCache){const jt=Ae.os.get(Ct),Xt=jt.withLastLimboFreeSnapshotVersion(jt.snapshotVersion);Ae.os=Ae.os.insert(Ct,Xt)}}}),function P(K,re){return E.apply(this,arguments)})(s.localStore,f))}),r0.apply(this,arguments)}function Fp(a,t){return ev.apply(this,arguments)}function ev(){return(ev=(0,c.A)(function*(a,t){const r=ke(a);if(!r.currentUser.isEqual(t)){yt("SyncEngine","User change. New user:",t.toKey());const s=yield Cc(r.localStore,t);r.currentUser=t,(f=r).ka.forEach(E=>{E.forEach(P=>{P.reject(new W(Ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ka.clear(),r.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),yield Uu(r,s.hs)}var f})).apply(this,arguments)}function tv(a,t){const r=ke(a),s=r.Na.get(t);if(s&&s.va)return Qn().add(s.key);{let u=Qn();const f=r.Ma.get(t);if(!f)return u;for(const m of f){const E=r.Fa.get(m);u=u.unionWith(E.view.Va)}return u}}function nv(a,t){return $u.apply(this,arguments)}function $u(){return($u=(0,c.A)(function*(a,t){const r=ke(a),s=yield du(r.localStore,t.query,!0),u=t.view.ba(s);return r.isPrimaryClient&&Zm(r,t.targetId,u.wa),u})).apply(this,arguments)}function qh(a,t){return Od.apply(this,arguments)}function Od(){return(Od=(0,c.A)(function*(a,t){const r=ke(a);return Sy(r.localStore,t).then(s=>Uu(r,s))})).apply(this,arguments)}function kd(a,t,r,s){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,c.A)(function*(a,t,r,s){const u=ke(a),f=yield function(E,P){const K=ke(E),re=ke(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",Ae=>re.Mn(Ae,P).next(Xe=>Xe?K.localDocuments.getDocuments(Ae,Xe):It.resolve(null)))}(u.localStore,t);var P;null!==f?("pending"===r?yield sa(u.remoteStore):"acknowledged"===r||"rejected"===r?(Nd(u,t,s||null),kp(u,t),P=t,ke(ke(u.localStore).mutationQueue).On(P)):Fe(),yield Uu(u,f)):yt("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function Xh(){return(Xh=(0,c.A)(function*(a,t){const r=ke(a);if(Vp(r),iv(r),!0===t&&!0!==r.Qa){const s=r.sharedClientState.getAllActiveQueryTargets(),u=yield Ld(r,s.toArray());r.Qa=!0,yield zh(r.remoteStore,!0);for(const f of u)$h(r.remoteStore,f)}else if(!1===t&&!1!==r.Qa){const s=[];let u=Promise.resolve();r.Ma.forEach((f,m)=>{r.sharedClientState.isLocalQueryTarget(m)?s.push(m):u=u.then(()=>(Kh(r,m),bc(r.localStore,m,!0))),Sc(r.remoteStore,m)}),yield u,yield Ld(r,s),function(m){const E=ke(m);E.Na.forEach((P,K)=>{Sc(E.remoteStore,K)}),E.La.pr(),E.Na=new Map,E.Oa=new cr(H.comparator)}(r),r.Qa=!1,yield zh(r.remoteStore,!1)}})).apply(this,arguments)}function Ld(a,t,r){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,c.A)(function*(a,t,r){const s=ke(a),u=[],f=[];for(const m of t){let E;const P=s.Ma.get(m);if(P&&0!==P.length){E=yield Tc(s.localStore,Qi(P[0]));for(const K of P){const re=s.Fa.get(K),Ae=yield nv(s,re);Ae.snapshot&&f.push(Ae.snapshot)}}else{const K=yield No(s.localStore,m);E=yield Tc(s.localStore,K),yield xp(s,Qh(K),m,!1,E.resumeToken)}u.push(E)}return s.Ca.d_(f),u})).apply(this,arguments)}function Qh(a){return cc(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function _b(a){return r=ke(a).localStore,ke(ke(r).persistence).Qi();var r}function rv(a,t,r,s){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,c.A)(function*(a,t,r,s){const u=ke(a);if(u.Qa)return void yt("SyncEngine","Ignoring unexpected query state notification.");const f=u.Ma.get(t);if(f&&f.length>0)switch(r){case"current":case"not-current":{const m=yield Sy(u.localStore,Cu(f[0])),E=I.createSynthesizedRemoteEventForCurrentChange(t,"current"===r,qr.EMPTY_BYTE_STRING);yield Uu(u,m,E);break}case"rejected":yield bc(u.localStore,t,!0),Kh(u,t,s);break;default:Fe()}})).apply(this,arguments)}function gA(a,t,r){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,c.A)(function*(a,t,r){const s=Vp(a);if(s.Qa){for(const u of t){if(s.Ma.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){yt("SyncEngine","Adding an already active target "+u);continue}const f=yield No(s.localStore,u),m=yield Tc(s.localStore,f);yield xp(s,Qh(f),m.targetId,!1,m.resumeToken),$h(s.remoteStore,m)}for(const u of r)s.Ma.has(u)&&(yield bc(s.localStore,u,!1).then(()=>{Sc(s.remoteStore,u),Kh(s,u)}).catch(ei))}})).apply(this,arguments)}function Vp(a){const t=ke(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=qm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vb.bind(null,t),t.Ca.d_=gb.bind(null,t.eventManager),t.Ca.$a=mb.bind(null,t.eventManager),t}function iv(a){const t=ke(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=n0.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hA.bind(null,t),t}let Mc=(()=>{class a{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var s=this;return(0,c.A)(function*(){s.serializer=bd(r.databaseInfo.databaseId),s.sharedClientState=s.Wa(r),s.persistence=s.Ga(r),yield s.persistence.start(),s.localStore=s.za(r),s.gcScheduler=s.ja(r,s.localStore),s.indexBackfillerScheduler=s.Ha(r,s.localStore)})()}ja(r,s){return null}Ha(r,s){return null}za(r){return Lh(this.persistence,new Nu,r.initialUser,this.serializer)}Ga(r){return new qn($r.Zr,this.serializer)}Wa(r){return new My}terminate(){var r=this;return(0,c.A)(function*(){var s,u;null===(s=r.gcScheduler)||void 0===s||s.stop(),null===(u=r.indexBackfillerScheduler)||void 0===u||u.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return a.provider={build:()=>new a},a})();class sv extends Mc{constructor(t,r,s){super(),this.Ja=t,this.cacheSizeBytes=r,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}initialize(t){var r=()=>super.initialize,s=this;return(0,c.A)(function*(){yield r().call(s,t),yield s.Ja.initialize(s,t),yield iv(s.Ja.syncEngine),yield sa(s.Ja.remoteStore),yield s.persistence.yi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(t){return Lh(this.persistence,new Nu,t.initialUser,this.serializer)}ja(t,r){return new ya(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,r)}Ha(t,r){const s=new _s(r,this.persistence);return new bi(t.asyncQueue,s)}Ga(t){const r=cu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Bo.withCacheSize(this.cacheSizeBytes):Bo.DEFAULT;return new Ss(this.synchronizeTabs,r,t.clientId,s,t.asyncQueue,Ly(),Mm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new My}}class Vd extends sv{constructor(t,r){super(t,r,!1),this.Ja=t,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(t){var r=()=>super.initialize,s=this;return(0,c.A)(function*(){yield r().call(s,t);const u=s.Ja.syncEngine;s.sharedClientState instanceof vp&&(s.sharedClientState.syncEngine={no:kd.bind(null,u),ro:rv.bind(null,u),io:gA.bind(null,u),Qi:_b.bind(null,u),eo:qh.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.yi(function(){var f=(0,c.A)(function*(m){yield function Fd(a,t){return Xh.apply(this,arguments)}(s.Ja.syncEngine,m),s.gcScheduler&&(m&&!s.gcScheduler.started?s.gcScheduler.start():m||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(m&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():m||s.indexBackfillerScheduler.stop())});return function(m){return f.apply(this,arguments)}}())})()}Wa(t){const r=Ly();if(!vp.D(r))throw new W(Ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=cu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new vp(r,t.asyncQueue,s,t.clientId,t.initialUser)}}let xc=(()=>{class a{initialize(r,s){var u=this;return(0,c.A)(function*(){u.localStore||(u.localStore=r.localStore,u.sharedClientState=r.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!r.synchronizeTabs),u.sharedClientState.onlineStateHandler=f=>t0(u.syncEngine,f,1),u.remoteStore.remoteSyncer.handleCredentialChange=Fp.bind(null,u.syncEngine),yield zh(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(r){return new $m}createDatastore(r){const s=bd(r.databaseInfo.databaseId),u=new hb(r.databaseInfo);return new ZE(r.authCredentials,r.appCheckCredentials,u,s)}createRemoteStore(r){return u=this.localStore,f=this.datastore,m=r.asyncQueue,E=s=>t0(this.syncEngine,s,0),P=Ny.D()?new Ny:new xy,new wc(u,f,m,E,P);var u,f,m,E,P}createSyncEngine(r,s){return function(f,m,E,P,K,re,Ae){const Xe=new uA(f,m,E,P,K,re);return Ae&&(Xe.Qa=!0),Xe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,s)}terminate(){var r=this;return(0,c.A)(function*(){var s,u,f;yield(f=(0,c.A)(function*(E){const P=ke(E);yt("RemoteStore","RemoteStore shutting down."),P.L_.add(5),yield zs(P),P.k_.shutdown(),P.q_.set("Unknown")}),function m(E){return f.apply(this,arguments)})(r.remoteStore),null===(s=r.datastore)||void 0===s||s.terminate(),null===(u=r.eventManager)||void 0===u||u.terminate()})()}}return a.provider={build:()=>new a},a})();function Up(a,t=10240){let r=0;return{read:()=>(0,c.A)(function*(){if(r<a.byteLength){const s={value:a.slice(r,r+t),done:!1};return r+=t,s}return{done:!0}})(),cancel:()=>(0,c.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class $p{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):nr("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,r){setTimeout(()=>{this.muted||t(r)},0)}}class yb{constructor(t,r){this.Xa=t,this.serializer=r,this.metadata=new R,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(s=>{s&&s.ua()?this.metadata.resolve(s.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.aa)}`))},s=>this.metadata.reject(s))}close(){return this.Xa.cancel()}getMetadata(){var t=this;return(0,c.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,c.A)(function*(){return yield t.getMetadata(),t.tu()})()}tu(){var t=this;return(0,c.A)(function*(){const r=yield t.nu();if(null===r)return null;const s=t.eu.decode(r),u=Number(s);isNaN(u)&&t.ru(`length string (${s}) is not valid number`);const f=yield t.iu(u);return new oA(JSON.parse(f),r.length+u)})()}su(){return this.buffer.findIndex(t=>123===t)}nu(){var t=this;return(0,c.A)(function*(){for(;t.su()<0&&!(yield t.ou()););if(0===t.buffer.length)return null;const r=t.su();r<0&&t.ru("Reached the end of bundle when a length string is expected.");const s=t.buffer.slice(0,r);return t.buffer=t.buffer.slice(r),s})()}iu(t){var r=this;return(0,c.A)(function*(){for(;r.buffer.length<t;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const s=r.eu.decode(r.buffer.slice(0,t));return r.buffer=r.buffer.slice(t),s})()}ru(t){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${t}`)}ou(){var t=this;return(0,c.A)(function*(){const r=yield t.Xa.read();if(!r.done){const s=new Uint8Array(t.buffer.length+r.value.length);s.set(t.buffer),s.set(r.value,t.buffer.length),t.buffer=s}return r.done})()}}class Ib{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var r=this;return(0,c.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new W(Ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const s=yield(u=(0,c.A)(function*(m,E){const P=ke(m),K={documents:E.map(Ct=>$a(P.serializer,Ct))},re=yield P.Lo("BatchGetDocuments",P.serializer.databaseId,ur.emptyPath(),K,E.length),Ae=new Map;re.forEach(Ct=>{const jt=function ni(a,t){return"found"in t?function(s,u){rt(!!u.found);const f=hs(s,u.found.name),m=Ii(u.found.updateTime),E=u.found.createTime?Ii(u.found.createTime):Mn.min(),P=new _e({mapValue:{fields:u.found.fields}});return Ln.newFoundDocument(f,m,E,P)}(a,t):"missing"in t?function(s,u){rt(!!u.missing),rt(!!u.readTime);const f=hs(s,u.missing),m=Ii(u.readTime);return Ln.newNoDocument(f,m)}(a,t):Fe()}(P.serializer,Ct);Ae.set(jt.key.toString(),jt)});const Xe=[];return E.forEach(Ct=>{const jt=Ae.get(Ct.toString());rt(!!jt),Xe.push(jt)}),Xe}),function f(m,E){return u.apply(this,arguments)})(r.datastore,t);var u;return s.forEach(u=>r.recordVersion(u)),s})()}set(t,r){this.write(r.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,r){try{this.write(r.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new wi(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,c.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const r=t.readVersions;var s;t.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,u)=>{const f=H.fromPath(u);t.mutations.push(new La(f,t.precondition(f)))}),yield(s=(0,c.A)(function*(f,m){const E=ke(f),P={writes:m.map(K=>al(E.serializer,K))};yield E.Mo("Commit",E.serializer.databaseId,ur.emptyPath(),P)}),function u(f,m){return s.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let r;if(t.isFoundDocument())r=t.version;else{if(!t.isNoDocument())throw Fe();r=Mn.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!r.isEqual(s))throw new W(Ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),r)}precondition(t){const r=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&r?r.isEqual(Mn.min())?fi.exists(!1):fi.updateTime(r):fi.none()}preconditionForUpdate(t){const r=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&r){if(r.isEqual(Mn.min()))throw new W(Ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fi.updateTime(r)}return fi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Yh{constructor(t,r,s,u,f){this.asyncQueue=t,this.datastore=r,this.options=s,this.updateFunction=u,this.deferred=f,this._u=s.maxAttempts,this.t_=new Vy(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var t=this;this.t_.Go((0,c.A)(function*(){const r=new Ib(t.datastore),s=t.cu(r);s&&s.then(u=>{t.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{t.deferred.resolve(u)}).catch(f=>{t.lu(f)}))}).catch(u=>{t.lu(u)})}))}cu(t){try{const r=this.updateFunction(t);return!Sr(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(t){this._u>0&&this.hu(t)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(t)}hu(t){if("FirebaseError"===t.name){const r=t.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!dc(r)}return!1}}class vA{constructor(t,r,s,u,f){var m=this;this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=mn.UNAUTHENTICATED,this.clientId=er.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,function(){var E=(0,c.A)(function*(P){yt("FirestoreClient","Received user=",P.uid),yield m.authCredentialListener(P),m.user=P});return function(P){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(s,E=>(yt("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const r=new R;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),r.resolve()}catch(s){const u=Lu(s,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function Ud(a,t){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,c.A)(function*(a,t){a.asyncQueue.verifyOperationInProgress(),yt("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield t.initialize(r);let s=r.initialUser;a.setCredentialChangeListener(function(){var u=(0,c.A)(function*(f){s.isEqual(f)||(yield Cc(t.localStore,f),s=f)});return function(f){return u.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}),Zh.apply(this,arguments)}function av(a,t){return lv.apply(this,arguments)}function lv(){return(lv=(0,c.A)(function*(a,t){a.asyncQueue.verifyOperationInProgress();const r=yield Bp(a);yt("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(r,a.configuration),a.setCredentialChangeListener(s=>Sd(t.remoteStore,s)),a.setAppCheckTokenChangeListener((s,u)=>Sd(t.remoteStore,u)),a._onlineComponents=t})).apply(this,arguments)}function Bp(a){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,c.A)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){yt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ud(a,a._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(u=t).name?u.code===Ue.FAILED_PRECONDITION||u.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw t;rr("Error using user provided cache. Falling back to memory cache: "+t),yield Ud(a,new Mc)}}else yt("FirestoreClient","Using default OfflineComponentProvider"),yield Ud(a,new Mc);var u;return a._offlineComponents})).apply(this,arguments)}function ef(a){return hu.apply(this,arguments)}function hu(){return(hu=(0,c.A)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(yt("FirestoreClient","Using user provided OnlineComponentProvider"),yield av(a,a._uninitializedComponentsProvider._online)):(yt("FirestoreClient","Using default OnlineComponentProvider"),yield av(a,new xc))),a._onlineComponents})).apply(this,arguments)}function uv(a){return Bp(a).then(t=>t.persistence)}function fu(a){return Bp(a).then(t=>t.localStore)}function cv(a){return ef(a).then(t=>t.remoteStore)}function jp(a){return ef(a).then(t=>t.syncEngine)}function ju(a){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,c.A)(function*(a){const t=yield ef(a),r=t.eventManager;return r.onListen=Yy.bind(null,t.syncEngine),r.onUnlisten=cA.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=Zy.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=dA.bind(null,t.syncEngine),r})).apply(this,arguments)}function o0(a,t,r={}){const s=new R;return a.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(f,m,E,P,K){const re=new $p({next:Xe=>{re.Za(),m.enqueueAndForget(()=>Sp(f,Ae));const Ct=Xe.docs.has(E);!Ct&&Xe.fromCache?K.reject(new W(Ue.UNAVAILABLE,"Failed to get document because the client is offline.")):Ct&&Xe.fromCache&&P&&"server"===P.source?K.reject(new W(Ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(Xe)},error:Xe=>K.reject(Xe)}),Ae=new Rp(ds(E.path),re,{includeMetadataChanges:!0,_a:!0});return Rs(f,Ae)}(yield ju(a),a.asyncQueue,t,r,s)})),s.promise}function yA(a,t,r={}){const s=new R;return a.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function(f,m,E,P,K){const re=new $p({next:Xe=>{re.Za(),m.enqueueAndForget(()=>Sp(f,Ae)),Xe.fromCache&&"server"===P.source?K.reject(new W(Ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(Xe)},error:Xe=>K.reject(Xe)}),Ae=new Rp(E,re,{includeMetadataChanges:!0,_a:!0});return Rs(f,Ae)}(yield ju(a),a.asyncQueue,t,r,s)})),s.promise}function c0(a){const t={};return void 0!==a.timeoutSeconds&&(t.timeoutSeconds=a.timeoutSeconds),t}const d0=new Map;function pv(a,t,r){if(!r)throw new W(Ue.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function h0(a,t,r,s){if(!0===t&&!0===s)throw new W(Ue.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function pu(a){if(!H.isDocumentKey(a))throw new W(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Bd(a){if(H.isDocumentKey(a))throw new W(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Wp(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const t=(s=a).constructor?s.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var s;return"function"==typeof a?"a function":Fe()}function ri(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new W(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Wp(a);throw new W(Ue.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return a}function EA(a,t){if(t<=0)throw new W(Ue.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${t}.`)}class AA{constructor(t){var r,s;if(void 0===t.host){if(void 0!==t.ssl)throw new W(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(r=t.ssl)||void 0===r||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new W(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}h0("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=c0(null!==(s=t.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new W(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new W(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new W(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Kp{constructor(t,r,s,u){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new W(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AA(t),void 0!==t.credentials&&(this._authCredentials=function(s){if(!s)return new ce;switch(s.type){case"firstParty":return new Lt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new W(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,c.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=d0.get(r);s&&(yt("ComponentProvider","Removing Datastore"),d0.delete(r),s.terminate())}(this),Promise.resolve()}}function CA(a,t,r,s={}){var u;const f=(a=ri(a,Kp))._getSettings(),m=`${t}:${r}`;if("firestore.googleapis.com"!==f.host&&f.host!==m&&rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},f),{host:m,ssl:!1})),s.mockUserToken){let E,P;if("string"==typeof s.mockUserToken)E=s.mockUserToken,P=mn.MOCK_USER;else{E=(0,dt.Fy)(s.mockUserToken,null===(u=a._app)||void 0===u?void 0:u.options.projectId);const K=s.mockUserToken.sub||s.mockUserToken.user_id;if(!K)throw new W(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new mn(K)}a._authCredentials=new se(new k(E,P))}}class is{constructor(t,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new is(this.firestore,t,this._query)}}class no{constructor(t,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new no(this.firestore,t,this._key)}}class xl extends is{constructor(t,r,s){super(t,r,ds(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new no(this.firestore,null,new H(t))}withConverter(t){return new xl(this.firestore,t,this._path)}}function gv(a,t,...r){if(a=(0,dt.Ku)(a),pv("collection","path",t),a instanceof Kp){const s=ur.fromString(t,...r);return Bd(s),new xl(a,null,s)}{if(!(a instanceof no||a instanceof xl))throw new W(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ur.fromString(t,...r));return Bd(s),new xl(a.firestore,null,s)}}function Nc(a,t,...r){if(a=(0,dt.Ku)(a),1===arguments.length&&(t=er.newId()),pv("doc","path",t),a instanceof Kp){const s=ur.fromString(t,...r);return pu(s),new no(a,null,new H(s))}{if(!(a instanceof no||a instanceof xl))throw new W(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ur.fromString(t,...r));return pu(s),new no(a.firestore,a instanceof xl?a.converter:null,new H(s))}}function Nl(a,t){return a=(0,dt.Ku)(a),t=(0,dt.Ku)(t),(a instanceof no||a instanceof xl)&&(t instanceof no||t instanceof xl)&&a.firestore===t.firestore&&a.path===t.path&&a.converter===t.converter}function Oc(a,t){return a=(0,dt.Ku)(a),t=(0,dt.Ku)(t),a instanceof is&&t instanceof is&&a.firestore===t.firestore&&ha(a._query,t._query)&&a.converter===t.converter}class mv{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Vy(this,"async_queue_retry"),this.Vu=()=>{const s=Mm();s&&yt("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=t;const r=Mm();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const r=Mm();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new R;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){var t=this;return(0,c.A)(function*(){if(0!==t.Pu.length){try{yield t.Pu[0](),t.Pu.shift(),t.t_.reset()}catch(r){if(!pi(r))throw r;yt("AsyncQueue","Operation failed with retryable error: "+r)}t.Pu.length>0&&t.t_.Go(()=>t.pu())}})()}gu(t){const r=this.mu.then(()=>(this.du=!0,t().catch(s=>{throw this.Eu=s,this.du=!1,nr("INTERNAL UNHANDLED ERROR: ",function(m){let E=m.message||"";return m.stack&&(E=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),E}(s)),s}).then(s=>(this.du=!1,s))));return this.mu=r,r}enqueueAfterDelay(t,r,s){this.fu(),this.Ru.indexOf(t)>-1&&(r=0);const u=wp.createAndSchedule(this,t,r,s,f=>this.yu(f));return this.Tu.push(u),u}fu(){this.Eu&&Fe()}verifyOperationInProgress(){}wu(){var t=this;return(0,c.A)(function*(){let r;do{r=t.mu,yield r}while(r!==t.mu)})()}Su(t){for(const r of this.Tu)if(r.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==t&&r.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const r=this.Tu.indexOf(t);this.Tu.splice(r,1)}}function qp(a){return function(r){if("object"!=typeof r||null===r)return!1;const u=r;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(a)}class f0{constructor(){this._progressObserver={},this._taskCompletionResolver=new R,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,r,s){this._progressObserver={next:t,error:r,complete:s}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,r){return this._taskCompletionResolver.promise.then(t,r)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ji extends Kp{constructor(t,r,s,u){super(t,r,s,u),this.type="firestore",this._queue=new mv,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){var t=this;return(0,c.A)(function*(){if(t._firestoreClient){const r=t._firestoreClient.terminate();t._queue=new mv(r),t._firestoreClient=void 0,yield r}})()}}function vv(a,t){const r="object"==typeof a?a:(0,He.getApp)(),s="string"==typeof a?a:t||"(default)",u=(0,He._getProvider)(r,"firestore").getImmediate({identifier:s});if(!u._initialized){const f=(0,dt.yU)("firestore");f&&CA(u,...f)}return u}function eo(a){if(a._terminated)throw new W(Ue.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||bA(a),a._firestoreClient}function bA(a){var t,r,s;const u=a._freezeSettings(),f=(P=(null===(t=a._app)||void 0===t?void 0:t.options.appId)||"",new Vi(a._databaseId,P,a._persistenceKey,(re=u).host,re.ssl,re.experimentalForceLongPolling,re.experimentalAutoDetectLongPolling,c0(re.experimentalLongPollingOptions),re.useFetchStreams));var P,re;a._componentsProvider||!(null===(r=u.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(a._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),a._firestoreClient=new vA(a._authCredentials,a._appCheckCredentials,a._queue,f,a._componentsProvider&&function(E){const P=null==E?void 0:E._online.build();return{_offline:null==E?void 0:E._offline.build(P),_online:P}}(a._componentsProvider))}function _v(){return(_v=(0,c.A)(function*(a){rr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=a._freezeSettings();g0(a,xc.provider,{build:r=>new Vd(r,t.cacheSizeBytes)})})).apply(this,arguments)}function g0(a,t,r){if((a=ri(a,Ji))._firestoreClient||a._terminated)throw new W(Ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(a._componentsProvider||a._getSettings().localCache)throw new W(Ue.FAILED_PRECONDITION,"SDK cache is already specified.");a._componentsProvider={_online:t,_offline:r},bA(a)}class Ol{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ol(qr.fromBase64String(t))}catch(r){throw new W(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Ol(qr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class hl{constructor(...t){for(let r=0;r<t.length;++r)if(0===t[r].length)throw new W(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ne(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class qa{constructor(t){this._methodName=t}}class Qp{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new W(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new W(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Tn(this._lat,t._lat)||Tn(this._long,t._long)}}class Yp{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,u){if(s.length!==u.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==u[f])return!1;return!0}(this._values,t._values)}}const yv=/^__.*__$/;class v0{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return null!==this.fieldMask?new es(t,this.data,this.fieldMask,r,this.fieldTransforms):new ka(t,this.data,r,this.fieldTransforms)}}class _0{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return new es(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function y0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class Zp{constructor(t,r,s,u,f,m){this.settings=t,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===f&&this.vu(),this.fieldTransforms=f||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Zp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(t),u=this.Fu({path:s,xu:!1});return u.Ou(t),u}Nu(t){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(t),u=this.Fu({path:s,xu:!1});return u.vu(),u}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Dv(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(r=>t.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>t.isPrefixOf(r.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(y0(this.Cu)&&yv.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class xA{constructor(t,r,s){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=s||bd(t)}Qu(t,r,s,u=!1){return new Zp({Cu:t,methodName:r,qu:s,path:ne.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hu(a){const t=a._freezeSettings(),r=bd(a._databaseId);return new xA(a._databaseId,!!t.ignoreUndefinedProperties,r)}function Iv(a,t,r,s,u,f={}){const m=a.Qu(f.merge||f.mergeFields?2:0,t,r,u);tf("Data must be an object, but it was:",m,s);const E=E0(s,m);let P,K;if(f.merge)P=new Xi(m.fieldMask),K=m.fieldTransforms;else if(f.mergeFields){const re=[];for(const Ae of f.mergeFields){const Xe=tg(t,Ae,r);if(!m.contains(Xe))throw new W(Ue.INVALID_ARGUMENT,`Field '${Xe}' is specified in your field mask but missing from your input data.`);NA(re,Xe)||re.push(Xe)}P=new Xi(re),K=m.fieldTransforms.filter(Ae=>P.covers(Ae.field))}else P=null,K=m.fieldTransforms;return new v0(new _e(E),P,K)}class Jp extends qa{_toFieldTransform(t){if(2!==t.Cu)throw t.Bu(1===t.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Jp}}function Hd(a,t,r){return new Zp({Cu:3,qu:t.settings.qu,methodName:a._methodName,xu:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Ev extends qa{_toFieldTransform(t){return new pa(t.path,new ki)}isEqual(t){return t instanceof Ev}}class Av extends qa{constructor(t,r){super(t),this.Ku=r}_toFieldTransform(t){const r=Hd(this,t,!0),s=this.Ku.map(f=>kc(f,r)),u=new Eo(s);return new pa(t.path,u)}isEqual(t){return t instanceof Av&&(0,dt.bD)(this.Ku,t.Ku)}}class Cv extends qa{constructor(t,r){super(t),this.Ku=r}_toFieldTransform(t){const r=Hd(this,t,!0),s=this.Ku.map(f=>kc(f,r)),u=new vi(s);return new pa(t.path,u)}isEqual(t){return t instanceof Cv&&(0,dt.bD)(this.Ku,t.Ku)}}class eg extends qa{constructor(t,r){super(t),this.$u=r}_toFieldTransform(t){const r=new vr(t.serializer,_n(t.serializer,this.$u));return new pa(t.path,r)}isEqual(t){return t instanceof eg&&this.$u===t.$u}}function Tv(a,t,r,s){const u=a.Qu(1,t,r);tf("Data must be an object, but it was:",u,s);const f=[],m=_e.empty();jr(s,(P,K)=>{const re=zd(t,P,r);K=(0,dt.Ku)(K);const Ae=u.Nu(re);if(K instanceof Jp)f.push(re);else{const Xe=kc(K,Ae);null!=Xe&&(f.push(re),m.set(re,Xe))}});const E=new Xi(f);return new _0(m,E,u.fieldTransforms)}function bv(a,t,r,s,u,f){const m=a.Qu(1,t,r),E=[tg(t,s,r)],P=[u];if(f.length%2!=0)throw new W(Ue.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Xe=0;Xe<f.length;Xe+=2)E.push(tg(t,f[Xe])),P.push(f[Xe+1]);const K=[],re=_e.empty();for(let Xe=E.length-1;Xe>=0;--Xe)if(!NA(K,E[Xe])){const Ct=E[Xe];let jt=P[Xe];jt=(0,dt.Ku)(jt);const sn=m.Nu(Ct);if(jt instanceof Jp)K.push(Ct);else{const Xt=kc(jt,sn);null!=Xt&&(K.push(Ct),re.set(Ct,Xt))}}const Ae=new Xi(K);return new _0(re,Ae,m.fieldTransforms)}function I0(a,t,r,s=!1){return kc(r,a.Qu(s?4:3,t))}function kc(a,t){if(A0(a=(0,dt.Ku)(a)))return tf("Unsupported field value:",t,a),E0(a,t);if(a instanceof qa)return function(s,u){if(!y0(u.Cu))throw u.Bu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(a,t),null;if(void 0===a&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(s,u){const f=[];let m=0;for(const E of s){let P=kc(E,u.Lu(m));null==P&&(P={nullValue:"NULL_VALUE"}),f.push(P),m++}return{arrayValue:{values:f}}}(a,t)}return function(s,u){if(null===(s=(0,dt.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return _n(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const f=_r.fromDate(s);return{timestampValue:Si(u.serializer,f)}}if(s instanceof _r){const f=new _r(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Si(u.serializer,f)}}if(s instanceof Qp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ol)return{bytesValue:Vo(u.serializer,s._byteString)};if(s instanceof no){const f=u.databaseId,m=s.firestore._databaseId;if(!m.isEqual(f))throw u.Bu(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:wo(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Yp)return E=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(P=>{if("number"!=typeof P)throw E.Bu("VectorValues must only contain numeric values.");return ci(E.serializer,P)})}}}}};var E;throw u.Bu(`Unsupported field value: ${Wp(s)}`)}(a,t)}function E0(a,t){const r={};return Yr(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jr(a,(s,u)=>{const f=kc(u,t.Mu(s));null!=f&&(r[s]=f)}),{mapValue:{fields:r}}}function A0(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof _r||a instanceof Qp||a instanceof Ol||a instanceof no||a instanceof qa||a instanceof Yp)}function tf(a,t,r){if(!A0(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Wp(r);throw t.Bu("an object"===s?a+" a custom object":a+" "+s)}var u}function tg(a,t,r){if((t=(0,dt.Ku)(t))instanceof hl)return t._internalPath;if("string"==typeof t)return zd(a,t);throw Dv("Field path arguments must be of type string or ",a,!1,void 0,r)}const Tb=new RegExp("[~\\*/\\[\\]]");function zd(a,t,r){if(t.search(Tb)>=0)throw Dv(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new hl(...t.split("."))._internalPath}catch{throw Dv(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function Dv(a,t,r,s,u){const f=s&&!s.isEmpty(),m=void 0!==u;let E=`Function ${t}() called with invalid data`;r&&(E+=" (via `toFirestore()`)"),E+=". ";let P="";return(f||m)&&(P+=" (found",f&&(P+=` in field ${s}`),m&&(P+=` in document ${u}`),P+=")"),new W(Ue.INVALID_ARGUMENT,E+a+P)}function NA(a,t){return a.some(r=>r.isEqual(t))}class ng{constructor(t,r,s,u,f){this._firestore=t,this._userDataWriter=r,this._key=s,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new no(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new bb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(wv("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r)}}}class bb extends ng{data(){return super.data()}}function wv(a,t){return"string"==typeof t?zd(a,t):t instanceof hl?t._internalPath:t._delegate._internalPath}function C0(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new W(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gd{}class zu extends Gd{}function kl(a,t,...r){let s=[];t instanceof Gd&&s.push(t),s=s.concat(r),function(f){const m=f.filter(P=>P instanceof Kd).length,E=f.filter(P=>P instanceof Wd).length;if(m>1||m>0&&E>0)throw new W(Ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)a=u._apply(a);return a}class Wd extends zu{constructor(t,r,s){super(),this._field=t,this._op=r,this._value=s,this.type="where"}static _create(t,r,s){return new Wd(t,r,s)}_apply(t){const r=this._parse(t);return w0(t._query,r),new is(t.firestore,t.converter,Na(t._query,r))}_parse(t){const r=Hu(t.firestore);return function(f,m,E,P,K,re,Ae){let Xe;if(K.isKeyField()){if("array-contains"===re||"array-contains-any"===re)throw new W(Ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${re}' queries on documentId().`);if("in"===re||"not-in"===re){og(Ae,re);const Ct=[];for(const jt of Ae)Ct.push(ig(P,f,jt));Xe={arrayValue:{values:Ct}}}else Xe=ig(P,f,Ae)}else"in"!==re&&"not-in"!==re&&"array-contains-any"!==re||og(Ae,re),Xe=I0(E,"where",Ae,"in"===re||"not-in"===re);return Or.create(K,re,Xe)}(t._query,0,r,t.firestore._databaseId,this._field,this._op,this._value)}}class Kd extends Gd{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Kd(t,r)}_parse(t){const r=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:Zr.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return 0===r.getFilters().length?t:(function(u,f){let m=u;const E=f.getFlattenedFilters();for(const P of E)w0(m,P),m=Na(m,P)}(t._query,r),new is(t.firestore,t.converter,Na(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Gu extends zu{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new Gu(t,r)}_apply(t){const r=function(u,f,m){if(null!==u.startAt)throw new W(Ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new W(Ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Io(f,m)}(t._query,this._field,this._direction);return new is(t.firestore,t.converter,function(u,f){const m=u.explicitOrderBy.concat([f]);return new Fo(u.path,u.collectionGroup,m,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(t._query,r))}}class Ps extends zu{constructor(t,r,s){super(),this.type=t,this._limit=r,this._limitType=s}static _create(t,r,s){return new Ps(t,r,s)}_apply(t){return new is(t.firestore,t.converter,Cs(t._query,this._limit,this._limitType))}}class rg extends zu{constructor(t,r,s){super(),this.type=t,this._docOrFields=r,this._inclusive=s}static _create(t,r,s){return new rg(t,r,s)}_apply(t){const r=rf(t,this.type,this._docOrFields,this._inclusive);return new is(t.firestore,t.converter,(f=r,new Fo((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}class nf extends zu{constructor(t,r,s){super(),this.type=t,this._docOrFields=r,this._inclusive=s}static _create(t,r,s){return new nf(t,r,s)}_apply(t){const r=rf(t,this.type,this._docOrFields,this._inclusive);return new is(t.firestore,t.converter,(f=r,new Fo((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function rf(a,t,r,s){if(r[0]=(0,dt.Ku)(r[0]),r[0]instanceof ng)return function(f,m,E,P,K){if(!P)throw new W(Ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const re=[];for(const Ae of Do(f))if(Ae.field.isKeyField())re.push(Qo(m,P.key));else{const Xe=P.data.field(Ae.field);if(as(Xe))throw new W(Ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ae.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Xe){const Ct=Ae.field.canonicalString();throw new W(Ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ct}' (used as the orderBy) does not exist.`)}re.push(Xe)}return new Wr(re,K)}(a._query,a.firestore._databaseId,t,r[0]._document,s);{const u=Hu(a.firestore);return function(m,E,P,K,re,Ae){const Xe=m.explicitOrderBy;if(re.length>Xe.length)throw new W(Ue.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ct=[];for(let jt=0;jt<re.length;jt++){const sn=re[jt];if(Xe[jt].field.isKeyField()){if("string"!=typeof sn)throw new W(Ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof sn}`);if(!bo(m)&&-1!==sn.indexOf("/"))throw new W(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${sn}' contains a slash.`);const Xt=m.path.child(ur.fromString(sn));if(!H.isDocumentKey(Xt))throw new W(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${Xt}' is not because it contains an odd number of segments.`);const Rn=new H(Xt);Ct.push(Qo(E,Rn))}else{const Xt=I0(P,K,sn);Ct.push(Xt)}}return new Wr(Ct,Ae)}(a._query,a.firestore._databaseId,u,t,r,s)}}function ig(a,t,r){if("string"==typeof(r=(0,dt.Ku)(r))){if(""===r)throw new W(Ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bo(t)&&-1!==r.indexOf("/"))throw new W(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=t.path.child(ur.fromString(r));if(!H.isDocumentKey(s))throw new W(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Qo(a,new H(s))}if(r instanceof no)return Qo(a,r._key);throw new W(Ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wp(r)}.`)}function og(a,t){if(!Array.isArray(a)||0===a.length)throw new W(Ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function w0(a,t){const r=function(u,f){for(const m of u)for(const E of m.getFlattenedFilters())if(f.indexOf(E.op)>=0)return E.op;return null}(a.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==r)throw new W(Ue.INVALID_ARGUMENT,r===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class sf{convertValue(t,r="none"){switch(fo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Mo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Fe()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const s={};return jr(t,(u,f)=>{s[u]=this.convertValue(f,r)}),s}convertVectorValue(t){var r,s,u;const f=null===(u=null===(s=null===(r=t.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(m=>Pr(m.doubleValue));return new Yp(f)}convertGeoPoint(t){return new Qp(Pr(t.latitude),Pr(t.longitude))}convertArray(t,r){return(t.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(t,r){switch(r){case"previous":const s=_l(t);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Es(t));default:return null}}convertTimestamp(t){const r=yo(t);return new _r(r.seconds,r.nanos)}convertDocumentKey(t,r){const s=ur.fromString(t);rt(tu(s));const u=new xr(s.get(1),s.get(3)),f=new H(s.popFirst(5));return u.isEqual(r)||nr(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}function af(a,t,r){let s;return s=a?r&&(r.merge||r.mergeFields)?a.toFirestore(t,r):a.toFirestore(t):t,s}class Sv extends sf{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ol(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new no(this.firestore,null,r)}}class Lc{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fl extends ng{constructor(t,r,s,u,f,m){super(t,r,s,u,m),this._firestore=t,this._firestoreImpl=t,this.metadata=f}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const s=this._document.data.field(wv("DocumentSnapshot.get",t));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class Vc extends Fl{data(t={}){return super.data(t)}}class Xa{constructor(t,r,s,u){this._firestore=t,this._userDataWriter=r,this._snapshot=u,this.metadata=new Lc(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,r){this._snapshot.docs.forEach(s=>{t.call(r,new Vc(this._firestore,this._userDataWriter,s.key,s,new Lc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new W(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let m=0;return u._snapshot.docChanges.map(E=>({type:"added",doc:new Vc(u._firestore,u._userDataWriter,E.doc.key,E.doc,new Lc(u._snapshot.mutatedKeys.has(E.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:m++}))}{let m=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(E=>f||3!==E.type).map(E=>{const P=new Vc(u._firestore,u._userDataWriter,E.doc.key,E.doc,new Lc(u._snapshot.mutatedKeys.has(E.doc.key),u._snapshot.fromCache),u.query.converter);let K=-1,re=-1;return 0!==E.type&&(K=m.indexOf(E.doc.key),m=m.delete(E.doc.key)),1!==E.type&&(m=m.add(E.doc),re=m.indexOf(E.doc.key)),{type:sg(E.type),doc:P,oldIndex:K,newIndex:re}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function sg(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}function ag(a,t){return a instanceof Fl&&t instanceof Fl?a._firestore===t._firestore&&a._key.isEqual(t._key)&&(null===a._document?null===t._document:a._document.isEqual(t._document))&&a._converter===t._converter:a instanceof Xa&&t instanceof Xa&&a._firestore===t._firestore&&Oc(a.query,t.query)&&a.metadata.isEqual(t.metadata)&&a._snapshot.isEqual(t._snapshot)}function S0(a){a=ri(a,no);const t=ri(a.firestore,Ji);return o0(eo(t),a._key).then(r=>qd(t,a,r))}class Wu extends sf{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ol(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new no(this.firestore,null,r)}}function lf(a,t,r){a=ri(a,no);const s=ri(a.firestore,Ji),u=af(a.converter,t,r);return $c(s,[Iv(Hu(s),"setDoc",a._key,u,null!==a.converter,r).toMutation(a._key,fi.none())])}function x0(a,t,r,...s){a=ri(a,no);const u=ri(a.firestore,Ji),f=Hu(u);let m;return m="string"==typeof(t=(0,dt.Ku)(t))||t instanceof hl?bv(f,"updateDoc",a._key,t,r,s):Tv(f,"updateDoc",a._key,t),$c(u,[m.toMutation(a._key,fi.exists(!0))])}function Mv(a,t){const r=ri(a.firestore,Ji),s=Nc(a),u=af(a.converter,t);return $c(r,[Iv(Hu(a.firestore),"addDoc",s._key,u,null!==a.converter,{}).toMutation(s._key,fi.exists(!1))]).then(()=>s)}function lg(a,...t){var r,s,u;a=(0,dt.Ku)(a);let f={includeMetadataChanges:!1,source:"default"},m=0;"object"!=typeof t[m]||qp(t[m])||(f=t[m],m++);const E={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(qp(t[m])){const Ae=t[m];t[m]=null===(r=Ae.next)||void 0===r?void 0:r.bind(Ae),t[m+1]=null===(s=Ae.error)||void 0===s?void 0:s.bind(Ae),t[m+2]=null===(u=Ae.complete)||void 0===u?void 0:u.bind(Ae)}let P,K,re;if(a instanceof no)K=ri(a.firestore,Ji),re=ds(a._key.path),P={next:Ae=>{t[m]&&t[m](qd(K,a,Ae))},error:t[m+1],complete:t[m+2]};else{const Ae=ri(a,is);K=ri(Ae.firestore,Ji),re=Ae._query;const Xe=new Wu(K);P={next:Ct=>{t[m]&&t[m](new Xa(K,Xe,Ae,Ct))},error:t[m+1],complete:t[m+2]},C0(a._query)}return function(Xe,Ct,jt,sn){const Xt=new $p(sn),Rn=new Rp(Ct,Xt,jt);return Xe.asyncQueue.enqueueAndForget((0,c.A)(function*(){return Rs(yield ju(Xe),Rn)})),()=>{Xt.Za(),Xe.asyncQueue.enqueueAndForget((0,c.A)(function*(){return Sp(yield ju(Xe),Rn)}))}}(eo(K),re,E,P)}function $c(a,t){return function(s,u){const f=new R;return s.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function Jy(a,t,r){return e0.apply(this,arguments)}(yield jp(s),u,f)})),f.promise}(eo(a),t)}function qd(a,t,r){const s=r.docs.get(t._key),u=new Wu(a);return new Fl(a,u,t._key,s,new Lc(r.hasPendingWrites,r.fromCache),t.converter)}const Br={maxAttempts:5};class Fv{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Hu(t)}set(t,r,s){this._verifyNotCommitted();const u=gu(t,this._firestore),f=af(u.converter,r,s),m=Iv(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,s);return this._mutations.push(m.toMutation(u._key,fi.none())),this}update(t,r,s,...u){this._verifyNotCommitted();const f=gu(t,this._firestore);let m;return m="string"==typeof(r=(0,dt.Ku)(r))||r instanceof hl?bv(this._dataReader,"WriteBatch.update",f._key,r,s,u):Tv(this._dataReader,"WriteBatch.update",f._key,r),this._mutations.push(m.toMutation(f._key,fi.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=gu(t,this._firestore);return this._mutations=this._mutations.concat(new wi(r._key,fi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new W(Ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gu(a,t){if((a=(0,dt.Ku)(a)).firestore!==t)throw new W(Ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class Qd extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=Hu(r)}get(r){const s=gu(r,this._firestore),u=new Sv(this._firestore);return this._transaction.lookup([s._key]).then(f=>{if(!f||1!==f.length)return Fe();const m=f[0];if(m.isFoundDocument())return new ng(this._firestore,u,m.key,m,s.converter);if(m.isNoDocument())return new ng(this._firestore,u,s._key,null,s.converter);throw Fe()})}set(r,s,u){const f=gu(r,this._firestore),m=af(f.converter,s,u),E=Iv(this._dataReader,"Transaction.set",f._key,m,null!==f.converter,u);return this._transaction.set(f._key,E),this}update(r,s,u,...f){const m=gu(r,this._firestore);let E;return E="string"==typeof(s=(0,dt.Ku)(s))||s instanceof hl?bv(this._dataReader,"Transaction.update",m._key,s,u,f):Tv(this._dataReader,"Transaction.update",m._key,s),this._transaction.update(m._key,E),this}delete(r){const s=gu(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(t,r){super(t,r),this._firestore=t}get(t){const r=gu(t,this._firestore),s=new Wu(this._firestore);return super.get(t).then(u=>new Fl(this._firestore,s,r._key,u._document,new Lc(!1,!1),r.converter))}}function Bv(a,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new W("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return t}function Gs(){if(typeof Uint8Array>"u")throw new W("unimplemented","Uint8Arrays are not available in this environment.")}function H0(){if(!function Da(){return typeof atob<"u"}())throw new W("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,r=!0){Gr=He.SDK_VERSION,(0,He._registerComponent)(new dn.uA("firestore",(s,{instanceIdentifier:u,options:f})=>{const m=s.getProvider("app").getImmediate(),E=new Ji(new Ye(s.getProvider("auth-internal")),new rn(s.getProvider("app-check-internal")),function(K,re){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new W(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xr(K.options.projectId,re)}(m,u),m);return f=Object.assign({useFetchStreams:r},f),E._setSettings(f),E},"PUBLIC").setMultipleInstances(!0)),(0,He.registerVersion)(Er,"4.7.3",t),(0,He.registerVersion)(Er,"4.7.3","esm2017")}();class df{constructor(t){this._delegate=t}static fromBase64String(t){return H0(),new df(Ol.fromBase64String(t))}static fromUint8Array(t){return Gs(),new df(Ol.fromUint8Array(t))}toBase64(){return H0(),this._delegate.toBase64()}toUint8Array(){return Gs(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function z0(a){return function jv(a,t){if("object"!=typeof a||null===a)return!1;const r=a;for(const s of t)if(s in r&&"function"==typeof r[s])return!0;return!1}(a,["next","error","complete"])}class G0{enableIndexedDbPersistence(t,r){return function Ab(a,t){rr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=a._freezeSettings();return g0(a,xc.provider,{build:s=>new sv(s,r.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}(t._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(t){return function p0(a){return _v.apply(this,arguments)}(t._delegate)}clearIndexedDbPersistence(t){return function DA(a){if(a._initialized&&!a._terminated)throw new W(Ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new R;return a._queue.enqueueAndForgetEvenWhileRestricted((0,c.A)(function*(){try{yield(r=(0,c.A)(function*(u){if(!ii.D())return Promise.resolve();const f=u+"main";yield ii.delete(f)}),function s(u){return r.apply(this,arguments)})(cu(a._databaseId,a._persistenceKey)),t.resolve()}catch(r){t.reject(r)}var r})),t.promise}(t._delegate)}}class W0{constructor(t,r,s){this._delegate=r,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},t instanceof xr||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const r=this._delegate._getSettings();!t.merge&&r.host!==t.host&&rr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},r),t)).merge,this._delegate._setSettings(t)}useEmulator(t,r,s={}){CA(this._delegate,t,r,s)}enableNetwork(){return function SA(a){return function zp(a){return a.asyncQueue.enqueue((0,c.A)(function*(){const t=yield uv(a),r=yield cv(a);return t.setNetworkEnabled(!0),function(u){const f=ke(u);return f.L_.delete(0),Ip(f)}(r)}))}(eo(a=ri(a,Ji)))}(this._delegate)}disableNetwork(){return function m0(a){return function hv(a){return a.asyncQueue.enqueue((0,c.A)(function*(){const t=yield uv(a),r=yield cv(a);return t.setNetworkEnabled(!1),(s=(0,c.A)(function*(f){const m=ke(f);m.L_.add(0),yield zs(m),m.q_.set("Offline")}),function u(f){return s.apply(this,arguments)})(r);var s}))}(eo(a=ri(a,Ji)))}(this._delegate)}enablePersistence(t){let r=!1,s=!1;return t&&(r=!!t.synchronizeTabs,s=!!t.experimentalForceOwningTab,h0("synchronizeTabs",r,"experimentalForceOwningTab",s)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function wA(a){return function(r){const s=new R;return r.asyncQueue.enqueueAndForget((0,c.A)(function*(){return function Op(a,t){return Ym.apply(this,arguments)}(yield jp(r),s)})),s.promise}(eo(a=ri(a,Ji)))}(this._delegate)}onSnapshotsInSync(t){return function xv(a,t){return function fv(a,t){const r=new $p(t);return a.asyncQueue.enqueueAndForget((0,c.A)(function*(){return u=yield ju(a),f=r,ke(u).Y_.add(f),void f.next();var u,f})),()=>{r.Za(),a.asyncQueue.enqueueAndForget((0,c.A)(function*(){return u=yield ju(a),f=r,void ke(u).Y_.delete(f);var u,f}))}}(eo(a=ri(a,Ji)),qp(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new W("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Yd(this,gv(this._delegate,t))}catch(r){throw Ws(r,"collection()","Firestore.collection()")}}doc(t){try{return new aa(this,Nc(this._delegate,t))}catch(r){throw Ws(r,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new oo(this,function TA(a,t){if(a=ri(a,Kp),pv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new W(Ue.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new is(a,null,(s=t,new Fo(ur.emptyPath(),s)));var s}(this._delegate,t))}catch(r){throw Ws(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function L0(a,t,r){a=ri(a,Ji);const s=Object.assign(Object.assign({},Br),r);return function(f){if(f.maxAttempts<1)throw new W(Ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(f,m,E){const P=new R;return f.asyncQueue.enqueueAndForget((0,c.A)(function*(){const K=yield function dv(a){return ef(a).then(t=>t.datastore)}(f);new Yh(f.asyncQueue,K,E,m,P).au()})),P.promise}(eo(a),u=>t(new Qd(a,u)),s)}(this._delegate,r=>t(new Hv(this,r)))}batch(){return eo(this._delegate),new K0(new Fv(this._delegate,t=>$c(this._delegate,t)))}loadBundle(t){return function PA(a,t){const r=eo(a=ri(a,Ji)),s=new f0;return function s0(a,t,r,s){const u=function(m,E){let P;return P="string"==typeof m?sd().encode(m):m,re=function(re){if(re instanceof Uint8Array)return Up(re,void 0);if(re instanceof ArrayBuffer)return Up(new Uint8Array(re),void 0);if(re instanceof ReadableStream)return re.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(P),new yb(re,E);var re}(r,bd(t));a.asyncQueue.enqueueAndForget((0,c.A)(function*(){!function ov(a,t,r){const s=ke(a);var u;(u=(0,c.A)(function*(m,E,P){try{const K=yield E.getMetadata();if(yield function(jt,sn){const Xt=ke(jt),Rn=Ii(sn.createTime);return Xt.persistence.runTransaction("hasNewerBundle","readonly",Gn=>Xt.Gr.getBundleMetadata(Gn,sn.id)).then(Gn=>!!Gn&&Gn.createTime.compareTo(Rn)>=0)}(m.localStore,K))return yield E.close(),P._completeWith({taskState:"Success",documentsLoaded:(jt=K).totalDocuments,bytesLoaded:jt.totalBytes,totalDocuments:jt.totalDocuments,totalBytes:jt.totalBytes}),Promise.resolve(new Set);P._updateProgress(Hm(K));const re=new sA(K,m.localStore,E.serializer);let Ae=yield E.Ua();for(;Ae;){const Ct=yield re.la(Ae);Ct&&P._updateProgress(Ct),Ae=yield E.Ua()}const Xe=yield re.complete();return yield Uu(m,Xe.Ia,void 0),yield function(jt,sn){const Xt=ke(jt);return Xt.persistence.runTransaction("Save bundle","readwrite",Rn=>Xt.Gr.saveBundleMetadata(Rn,sn))}(m.localStore,K),P._completeWith(Xe.progress),Promise.resolve(Xe.Pa)}catch(K){return rr("SyncEngine",`Loading bundle failed with ${K}`),P._failWith(K),Promise.resolve(new Set)}var jt}),function f(m,E,P){return u.apply(this,arguments)})(s,t,r).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield jp(a),u,s)}))}(r,a._databaseId,t,s),s}(this._delegate,t)}namedQuery(t){return function MA(a,t){return function a0(a,t){return a.asyncQueue.enqueue((0,c.A)(function*(){return function(s,u){const f=ke(s);return f.persistence.runTransaction("Get named query","readonly",m=>f.Gr.getNamedQuery(m,u))}(yield fu(a),t)}))}(eo(a=ri(a,Ji)),t).then(r=>r?new is(a,null,r.query):null)}(this._delegate,t).then(r=>r?new oo(this,r):null)}}class hg extends sf{constructor(t){super(),this.firestore=t}convertBytes(t){return new df(new Ol(t))}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return aa.forKey(r,this.firestore,null)}}class Hv{constructor(t,r){this._firestore=t,this._delegate=r,this._userDataWriter=new hg(t)}get(t){const r=Ku(t);return this._delegate.get(r).then(s=>new hf(this._firestore,new Fl(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,r.converter)))}set(t,r,s){const u=Ku(t);return s?(Bv("Transaction.set",s),this._delegate.set(u,r,s)):this._delegate.set(u,r),this}update(t,r,s,...u){const f=Ku(t);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,s,...u),this}delete(t){const r=Ku(t);return this._delegate.delete(r),this}}class K0{constructor(t){this._delegate=t}set(t,r,s){const u=Ku(t);return s?(Bv("WriteBatch.set",s),this._delegate.set(u,r,s)):this._delegate.set(u,r),this}update(t,r,s,...u){const f=Ku(t);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,s,...u),this}delete(t){const r=Ku(t);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class jc{constructor(t,r,s){this._firestore=t,this._userDataWriter=r,this._delegate=s}fromFirestore(t,r){const s=new Vc(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ff(this._firestore,s),null!=r?r:{})}toFirestore(t,r){return r?this._delegate.toFirestore(t,r):this._delegate.toFirestore(t)}static getInstance(t,r){const s=jc.INSTANCES;let u=s.get(t);u||(u=new WeakMap,s.set(t,u));let f=u.get(r);return f||(f=new jc(t,new hg(t),r),u.set(r,f)),f}}jc.INSTANCES=new WeakMap;class aa{constructor(t,r){this.firestore=t,this._delegate=r,this._userDataWriter=new hg(t)}static forPath(t,r,s){if(t.length%2!=0)throw new W("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new aa(r,new no(r._delegate,s,new H(t)))}static forKey(t,r,s){return new aa(r,new no(r._delegate,s,t))}get id(){return this._delegate.id}get parent(){return new Yd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Yd(this.firestore,gv(this._delegate,t))}catch(r){throw Ws(r,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,dt.Ku)(t))instanceof no&&Nl(this._delegate,t)}set(t,r){r=Bv("DocumentReference.set",r);try{return r?lf(this._delegate,t,r):lf(this._delegate,t)}catch(s){throw Ws(s,"setDoc()","DocumentReference.set()")}}update(t,r,...s){try{return 1===arguments.length?x0(this._delegate,t):x0(this._delegate,t,r,...s)}catch(u){throw Ws(u,"updateDoc()","DocumentReference.update()")}}delete(){return function N0(a){return $c(ri(a.firestore,Ji),[new wi(a._key,fi.none())])}(this._delegate)}onSnapshot(...t){const r=q0(t),s=X0(t,u=>new hf(this.firestore,new Fl(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return lg(this._delegate,r,s)}get(t){let r;return r="cache"===(null==t?void 0:t.source)?function Pv(a){a=ri(a,no);const t=ri(a.firestore,Ji),r=eo(t),s=new Wu(t);return function $d(a,t){const r=new R;return a.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(s=(0,c.A)(function*(f,m,E){try{const P=yield function(re,Ae){const Xe=ke(re);return Xe.persistence.runTransaction("read document","readonly",Ct=>Xe.localDocuments.getDocument(Ct,Ae))}(f,m);P.isFoundDocument()?E.resolve(P):P.isNoDocument()?E.resolve(null):E.reject(new W(Ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(P){const K=Lu(P,`Failed to get document '${m} from cache`);E.reject(K)}}),function u(f,m,E){return s.apply(this,arguments)})(yield fu(a),t,r);var s})),r.promise}(r,a._key).then(u=>new Fl(t,s,a._key,u,new Lc(null!==u&&u.hasLocalMutations,!0),a.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function R0(a){a=ri(a,no);const t=ri(a.firestore,Ji);return o0(eo(t),a._key,{source:"server"}).then(r=>qd(t,a,r))}(this._delegate):S0(this._delegate),r.then(s=>new hf(this.firestore,new Fl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(t){return new aa(this.firestore,this._delegate.withConverter(t?jc.getInstance(this.firestore,t):null))}}function Ws(a,t,r){return a.message=a.message.replace(t,r),a}function q0(a){for(const t of a)if("object"==typeof t&&!z0(t))return t;return{}}function X0(a,t){var r,s;let u;return u=z0(a[0])?a[0]:z0(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]},{next:f=>{u.next&&u.next(t(f))},error:null===(r=u.error)||void 0===r?void 0:r.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class hf{constructor(t,r){this._firestore=t,this._delegate=r}get ref(){return new aa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,r){return this._delegate.get(t,r)}isEqual(t){return ag(this._delegate,t._delegate)}}class ff extends hf{data(t){const r=this._delegate.data(t);return this._delegate._converter||function ot(a){a||Fe()}(void 0!==r),r}}class oo{constructor(t,r){this.firestore=t,this._delegate=r,this._userDataWriter=new hg(t)}where(t,r,s){try{return new oo(this.firestore,kl(this._delegate,function T0(a,t,r){const s=t,u=wv("where",a);return Wd._create(u,s,r)}(t,r,s)))}catch(u){throw Ws(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,r){try{return new oo(this.firestore,kl(this._delegate,function Ea(a,t="asc"){const r=t,s=wv("orderBy",a);return Gu._create(s,r)}(t,r)))}catch(s){throw Ws(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new oo(this.firestore,kl(this._delegate,function b0(a){return EA("limit",a),Ps._create("limit",a,"F")}(t)))}catch(r){throw Ws(r,"limit()","Query.limit()")}}limitToLast(t){try{return new oo(this.firestore,kl(this._delegate,function wb(a){return EA("limitToLast",a),Ps._create("limitToLast",a,"L")}(t)))}catch(r){throw Ws(r,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new oo(this.firestore,kl(this._delegate,function Sb(...a){return rg._create("startAt",a,!0)}(...t)))}catch(r){throw Ws(r,"startAt()","Query.startAt()")}}startAfter(...t){try{return new oo(this.firestore,kl(this._delegate,function Rb(...a){return rg._create("startAfter",a,!1)}(...t)))}catch(r){throw Ws(r,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new oo(this.firestore,kl(this._delegate,function D0(...a){return nf._create("endBefore",a,!1)}(...t)))}catch(r){throw Ws(r,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new oo(this.firestore,kl(this._delegate,function Pb(...a){return nf._create("endAt",a,!0)}(...t)))}catch(r){throw Ws(r,"endAt()","Query.endAt()")}}isEqual(t){return Oc(this._delegate,t._delegate)}get(t){let r;return r="cache"===(null==t?void 0:t.source)?function P0(a){a=ri(a,is);const t=ri(a.firestore,Ji),r=eo(t),s=new Wu(t);return function _A(a,t){const r=new R;return a.asyncQueue.enqueueAndForget((0,c.A)(function*(){return(s=(0,c.A)(function*(f,m,E){try{const P=yield du(f,m,!0),K=new Qy(m,P.Ts),re=K.ma(P.documents),Ae=K.applyChanges(re,!1);E.resolve(Ae.snapshot)}catch(P){const K=Lu(P,`Failed to execute query '${m} against cache`);E.reject(K)}}),function u(f,m,E){return s.apply(this,arguments)})(yield fu(a),t,r);var s})),r.promise}(r,a._query).then(u=>new Xa(t,s,a,u))}(this._delegate):"server"===(null==t?void 0:t.source)?function M0(a){a=ri(a,is);const t=ri(a.firestore,Ji),r=eo(t),s=new Wu(t);return yA(r,a._query,{source:"server"}).then(u=>new Xa(t,s,a,u))}(this._delegate):function Uc(a){a=ri(a,is);const t=ri(a.firestore,Ji),r=eo(t),s=new Wu(t);return C0(a._query),yA(r,a._query).then(u=>new Xa(t,s,a,u))}(this._delegate),r.then(s=>new Gv(this.firestore,new Xa(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...t){const r=q0(t),s=X0(t,u=>new Gv(this.firestore,new Xa(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return lg(this._delegate,r,s)}withConverter(t){return new oo(this.firestore,this._delegate.withConverter(t?jc.getInstance(this.firestore,t):null))}}class zv{constructor(t,r){this._firestore=t,this._delegate=r}get type(){return this._delegate.type}get doc(){return new ff(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Gv{constructor(t,r){this._firestore=t,this._delegate=r}get query(){return new oo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new ff(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(r=>new zv(this._firestore,r))}forEach(t,r){this._delegate.forEach(s=>{t.call(r,new ff(this._firestore,s))})}isEqual(t){return ag(this._delegate,t._delegate)}}class Yd extends oo{constructor(t,r){super(t,r),this.firestore=t,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new aa(this.firestore,t):null}doc(t){try{return new aa(this.firestore,void 0===t?Nc(this._delegate):Nc(this._delegate,t))}catch(r){throw Ws(r,"doc()","CollectionReference.doc()")}}add(t){return Mv(this._delegate,t).then(r=>new aa(this.firestore,r))}isEqual(t){return Nl(this._delegate,t._delegate)}withConverter(t){return new Yd(this.firestore,this._delegate.withConverter(t?jc.getInstance(this.firestore,t):null))}}function Ku(a){return ri(a,no)}class fg{constructor(...t){this._delegate=new hl(...t)}static documentId(){return new fg(ne.keyField().canonicalString())}isEqual(t){return(t=(0,dt.Ku)(t))instanceof hl&&this._delegate._internalPath.isEqual(t._internalPath)}}class Ll{constructor(t){this._delegate=t}static serverTimestamp(){const t=function BA(){return new Ev("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Ll(t)}static delete(){const t=function V0(){return new Jp("deleteField")}();return t._methodName="FieldValue.delete",new Ll(t)}static arrayUnion(...t){const r=function ug(...a){return new Av("arrayUnion",a)}(...t);return r._methodName="FieldValue.arrayUnion",new Ll(r)}static arrayRemove(...t){const r=function Bc(...a){return new Cv("arrayRemove",a)}(...t);return r._methodName="FieldValue.arrayRemove",new Ll(r)}static increment(t){const r=function Lv(a){return new eg("increment",a)}(t);return r._methodName="FieldValue.increment",new Ll(r)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Wv={Firestore:W0,GeoPoint:Qp,Timestamp:_r,Blob:df,Transaction:Hv,WriteBatch:K0,DocumentReference:aa,DocumentSnapshot:hf,Query:oo,QueryDocumentSnapshot:ff,QuerySnapshot:Gv,CollectionReference:Yd,FieldPath:fg,FieldValue:Ll,setLogLevel:function GA(a){!function Bn(a){or.setLogLevel(a)}(a)},CACHE_SIZE_UNLIMITED:-1};function Kv(a,t){return function Y0(a,t=In.E){return new Pe.c(r=>{let s;return null!=t?t.schedule(()=>{s=a.onSnapshot({includeMetadataChanges:!0},r)}):s=a.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=s&&s()}})}(a,t)}function pf(a,t){return Kv(a,t).pipe((0,ct.T)(r=>({payload:r,type:"query"})))}!function Q0(a){(function $b(a,t){a.INTERNAL.registerComponent(new dn.uA("firestore-compat",r=>{const s=r.getProvider("app-compat").getImmediate(),u=r.getProvider("firestore").getImmediate();return t(s,u)},"PUBLIC").setServiceProps(Object.assign({},Wv)))})(a,(t,r)=>new W0(t,r,new G0)),a.registerVersion("@firebase/firestore-compat","0.3.38")}(Wt.A);class Vl{constructor(t,r){(0,F.A)(this,"ref",void 0),(0,F.A)(this,"afs",void 0),this.ref=t,this.afs=r}set(t,r){return this.ref.set(t,r)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,r){const s=this.ref.collection(t),{ref:u,query:f}=tI(s,r);return new qu(u,f,this.afs)}snapshotChanges(){return function pg(a,t){return Kv(a,t).pipe((0,pr.Z)(void 0),zn(),(0,ct.T)(r=>{const[s,u]=r;return u.exists?null!=s&&s.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ge.U0)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ct.T)(({payload:r})=>t.idField?{...r.data(),[t.idField]:r.id}:r.data()))}get(t){return(0,pe.H)(this.ref.get(t)).pipe(ge.U0)}}function gg(a,t){return pf(a,t).pipe((0,pr.Z)(void 0),zn(),(0,ct.T)(r=>{const[s,u]=r,f=u.payload.docChanges(),m=f.map(E=>({type:E.type,payload:E}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((E,P)=>{const K=f.find(Ae=>Ae.doc.ref.isEqual(E.ref)),re=null==s?void 0:s.payload.docs.find(Ae=>Ae.ref.isEqual(E.ref));K&&JSON.stringify(K.doc.metadata)===JSON.stringify(E.metadata)||!K&&re&&JSON.stringify(re.metadata)===JSON.stringify(E.metadata)||m.push({type:"modified",payload:{oldIndex:P,newIndex:P,type:"modified",doc:E}})}),m}))}function Z0(a,t,r){return gg(a,r).pipe((0,Xn.S)((s,u)=>function qv(a,t,r){return t.forEach(s=>{r.indexOf(s.type)>-1&&(a=function Zd(a,t){switch(t.type){case"added":if(!a[t.newIndex]||!a[t.newIndex].doc.ref.isEqual(t.doc.ref))return Xv(a,t.newIndex,0,t);break;case"modified":if(null==a[t.oldIndex]||a[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const r=a.slice();return r.splice(t.oldIndex,1),r.splice(t.newIndex,0,t),r}return Xv(a,t.newIndex,1,t)}break;case"removed":if(a[t.oldIndex]&&a[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Xv(a,t.oldIndex,1)}return a}(a,s))}),a}(s,u.map(f=>f.payload),t),[]),(0,Kn.F)(),(0,ct.T)(s=>s.map(u=>({type:u.type,payload:u}))))}function Xv(a,t,r,...s){const u=a.slice();return u.splice(t,r,...s),u}function Qv(a){return(!a||0===a.length)&&(a=["added","removed","modified"]),a}class qu{constructor(t,r,s){(0,F.A)(this,"ref",void 0),(0,F.A)(this,"query",void 0),(0,F.A)(this,"afs",void 0),this.ref=t,this.query=r,this.afs=s}stateChanges(t){let r=gg(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(r=r.pipe((0,ct.T)(s=>s.filter(u=>t.indexOf(u.type)>-1)))),r.pipe((0,pr.Z)(void 0),zn(),(0,yn.p)(([s,u])=>u.length>0||!s),(0,ct.T)(([,s])=>s),ge.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,Xn.S)((r,s)=>[...r,...s],[]))}snapshotChanges(t){const r=Qv(t);return Z0(this.query,r,this.afs.schedulers.outsideAngular).pipe(ge.U0)}valueChanges(t={}){return pf(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.T)(r=>r.payload.docs.map(s=>t.idField?{...s.data(),[t.idField]:s.id}:s.data())),ge.U0)}get(t){return(0,pe.H)(this.query.get(t)).pipe(ge.U0)}add(t){return this.ref.add(t)}doc(t){return new Vl(this.ref.doc(t),this.afs)}}class Jd{constructor(t,r){(0,F.A)(this,"query",void 0),(0,F.A)(this,"afs",void 0),this.query=t,this.afs=r}stateChanges(t){return t&&0!==t.length?gg(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.T)(r=>r.filter(s=>t.indexOf(s.type)>-1)),(0,yn.p)(r=>r.length>0),ge.U0):gg(this.query,this.afs.schedulers.outsideAngular).pipe(ge.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,Xn.S)((r,s)=>[...r,...s],[]))}snapshotChanges(t){const r=Qv(t);return Z0(this.query,r,this.afs.schedulers.outsideAngular).pipe(ge.U0)}valueChanges(t={}){return pf(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.T)(s=>s.payload.docs.map(u=>t.idField?{[t.idField]:u.id,...u.data()}:u.data())),ge.U0)}get(t){return(0,pe.H)(this.query.get(t)).pipe(ge.U0)}}const Yv=new h.nKC("angularfire2.enableFirestorePersistence"),gf=new h.nKC("angularfire2.firestore.persistenceSettings"),J0=new h.nKC("angularfire2.firestore.settings"),eI=new h.nKC("angularfire2.firestore.use-emulator");function tI(a,t=r=>r){return{query:t(a),ref:a}}let WA=(()=>{var a;class t{constructor(s,u,f,m,E,P,K,re,Ae,Xe,Ct,jt,sn,Xt,Rn,Gn,kn){(0,F.A)(this,"schedulers",void 0),(0,F.A)(this,"firestore",void 0),(0,F.A)(this,"persistenceEnabled$",void 0),this.schedulers=K;const Pn=(0,Ce.iB)(s,P,u),yr=Ae;Xe&&le(Pn,P,Ct,sn,Xt,Rn,jt,Gn),[this.firestore,this.persistenceEnabled$]=(0,Ce.BM)(`${Pn.name}.firestore`,"AngularFirestore",Pn.name,()=>{const ar=P.runOutsideAngular(()=>Pn.firestore());if(m&&ar.settings(m),yr&&ar.useEmulator(...yr),f&&!(0,ue.Vy)(E)){const Tt=()=>{try{return(0,pe.H)(ar.enablePersistence(re||void 0).then(()=>!0,()=>!1))}catch(Je){return typeof console<"u"&&console.warn(Je),(0,et.of)(!1)}};return[ar,P.runOutsideAngular(Tt)]}return[ar,(0,et.of)(!1)]},[m,yr,f])}collection(s,u){let f;f="string"==typeof s?this.firestore.collection(s):s;const{ref:m,query:E}=tI(f,u),P=this.schedulers.ngZone.run(()=>m);return new qu(P,E,this)}collectionGroup(s,u){const f=u||(E=>E),m=this.firestore.collectionGroup(s);return new Jd(f(m),this)}doc(s){let u;u="string"==typeof s?this.firestore.doc(s):s;const f=this.schedulers.ngZone.run(()=>u);return new Vl(f,this)}createId(){return this.firestore.collection("_").doc().id}}return a=t,(0,F.A)(t,"\u0275fac",function(s){return new(s||a)(h.KVO(Ce.rx),h.KVO(Ce.uP,8),h.KVO(Yv,8),h.KVO(J0,8),h.KVO(h.Agw),h.KVO(h.SKi),h.KVO(ge.u0),h.KVO(gf,8),h.KVO(eI,8),h.KVO(be,8),h.KVO(Et,8),h.KVO(we,8),h.KVO(xe,8),h.KVO(ee,8),h.KVO(oe,8),h.KVO(fe,8),h.KVO(ge.Jv,8))}),(0,F.A)(t,"\u0275prov",h.jDH({token:a,factory:a.\u0275fac,providedIn:"any"})),t})();L(2214);var Ig=function(){return Ig=Object.assign||function(t){for(var r,s=1,u=arguments.length;s<u;s++)for(var f in r=arguments[s])Object.prototype.hasOwnProperty.call(r,f)&&(t[f]=r[f]);return t},Ig.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Eg={includeMetadataChanges:!1};function uI(a,t){return void 0===t&&(t={}),function vf(a){return function mf(a,t){return void 0===t&&(t=Eg),new Pe.c(function(r){return{unsubscribe:lg(a,t,{next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)})}})}(a,{includeMetadataChanges:!0}).pipe((0,ct.T)(function(t){return t.docs}))}(a).pipe((0,ct.T)(function(r){return r.map(function(s){return function nC(a,t){var r;void 0===t&&(t={});var s=a.data(t);return a.exists()&&"object"==typeof s&&null!==s&&t.idField?Ig(Ig({},s),((r={})[t.idField]=a.id,r)):s}(s,t)})}))}const hI=(0,ge.S3)(uI,!0),pC=(0,ge.S3)(Mv,!0),i_=(0,ge.S3)(gv,!0),s_=(0,ge.S3)(Nc,!0),IC=(0,ge.S3)(S0,!0),Ul=(0,ge.S3)(vv,!0),II=(0,ge.S3)(kl,!0),Ef=(0,ge.S3)(lf,!0);var wC=L(5265);const CI="firebasestorage.googleapis.com",Rg="storageBucket";class zi extends dt.g{constructor(t,r,s=0){super(l_(t),`Firebase Storage: ${r} (${l_(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return l_(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var so=function(a){return a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment",a}(so||{});function l_(a){return"storage/"+a}function Af(){return new zi(so.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function u_(){return new zi(so.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function c_(){return new zi(so.CANCELED,"User canceled the upload/download.")}function DI(){return new zi(so.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rh(a){return new zi(so.INVALID_ARGUMENT,a)}function wI(){return new zi(so.APP_DELETED,"The Firebase app was deleted.")}function SI(a){return new zi(so.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yu(a,t){return new zi(so.INVALID_FORMAT,"String does not match format '"+a+"': "+t)}function bf(a){throw new zi(so.INTERNAL_ERROR,"Internal error: "+a)}class Ms{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let s;try{s=Ms.makeFromUrl(t,r)}catch{return new Ms(t,"")}if(""===s.path)return s;throw function Tf(a){return new zi(so.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}(t)}static makeFromUrl(t,r){let s=null;const u="([A-Za-z0-9.\\-_]+)",E=new RegExp("^gs://"+u+"(/(.*))?$","i");function K(Pn){Pn.path_=decodeURIComponent(Pn.path)}const Ae=r.replace(/[.]/g,"\\."),kn=[{regex:E,indices:{bucket:1,path:3},postModify:function f(Pn){"/"===Pn.path.charAt(Pn.path.length-1)&&(Pn.path_=Pn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ae}/v[A-Za-z0-9_]+/b/${u}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:K},{regex:new RegExp(`^https?://${r===CI?"(?:storage.googleapis.com|storage.cloud.google.com)":r}/${u}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:K}];for(let Pn=0;Pn<kn.length;Pn++){const yr=kn[Pn],ar=yr.regex.exec(t);if(ar){let Je=ar[yr.indices.path];Je||(Je=""),s=new Ms(ar[yr.indices.bucket],Je),yr.postModify(s);break}}if(null==s)throw function RC(a){return new zi(so.INVALID_URL,"Invalid URL '"+a+"'.")}(t);return s}}class RI{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function ih(a){return"string"==typeof a||a instanceof String}function h_(a){return xg()&&a instanceof Blob}function xg(){return typeof Blob<"u"}function f_(a,t,r,s){if(s<t)throw rh(`Invalid value for '${a}'. Expected ${t} or greater.`);if(s>r)throw rh(`Invalid value for '${a}'. Expected ${r} or less.`)}function mu(a,t,r){let s=t;return null==r&&(s=`https://${t}`),`${r}://${s}/v0${a}`}function NI(a){const t=encodeURIComponent;let r="?";for(const s in a)a.hasOwnProperty(s)&&(r=r+(t(s)+"=")+t(a[s])+"&");return r=r.slice(0,-1),r}var Zu=function(a){return a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT",a}(Zu||{});function Ng(a,t){const r=a>=500&&a<600,u=-1!==[408,429].indexOf(a),f=-1!==t.indexOf(a);return r||u||f}class OI{constructor(t,r,s,u,f,m,E,P,K,re,Ae,Xe=!0){this.url_=t,this.method_=r,this.headers_=s,this.body_=u,this.successCodes_=f,this.additionalRetryCodes_=m,this.callback_=E,this.errorCallback_=P,this.timeout_=K,this.progressCallback_=re,this.connectionFactory_=Ae,this.retry=Xe,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ct,jt)=>{this.resolve_=Ct,this.reject_=jt,this.start_()})}start_(){const r=(s,u)=>{const f=this.resolve_,m=this.reject_,E=u.connection;if(u.wasSuccessCode)try{const P=this.callback_(E,E.getResponse());!function MI(a){return void 0!==a}(P)?f():f(P)}catch(P){m(P)}else if(null!==E){const P=Af();P.serverResponse=E.getErrorText(),m(this.errorCallback_?this.errorCallback_(E,P):P)}else m(u.canceled?this.appDelete_?wI():c_():u_())};this.canceled_?r(0,new oh(!1,null,!0)):this.backoffId_=function PI(a,t,r){let s=1,u=null,f=null,m=!1,E=0;function P(){return 2===E}let K=!1;function re(...Xt){K||(K=!0,t.apply(null,Xt))}function Ae(Xt){u=setTimeout(()=>{u=null,a(Ct,P())},Xt)}function Xe(){f&&clearTimeout(f)}function Ct(Xt,...Rn){if(K)return void Xe();if(Xt)return Xe(),void re.call(null,Xt,...Rn);if(P()||m)return Xe(),void re.call(null,Xt,...Rn);let kn;s<64&&(s*=2),1===E?(E=2,kn=0):kn=1e3*(s+Math.random()),Ae(kn)}let jt=!1;function sn(Xt){jt||(jt=!0,Xe(),!K&&(null!==u?(Xt||(E=2),clearTimeout(u),Ae(0)):Xt||(E=1)))}return Ae(0),f=setTimeout(()=>{m=!0,sn(!0)},r),sn}((s,u)=>{if(u)return void s(!1,new oh(!1,null,!0));const f=this.connectionFactory_();this.pendingConnection_=f;const m=E=>{null!==this.progressCallback_&&this.progressCallback_(E.loaded,E.lengthComputable?E.total:-1)};null!==this.progressCallback_&&f.addUploadProgressListener(m),f.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&f.removeUploadProgressListener(m),this.pendingConnection_=null;const E=f.getErrorCode()===Zu.NO_ERROR,P=f.getStatus();if(!E||Ng(P,this.additionalRetryCodes_)&&this.retry){const re=f.getErrorCode()===Zu.ABORT;return void s(!1,new oh(!1,null,re))}const K=-1!==this.successCodes_.indexOf(P);s(!0,new oh(K,f))})},r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function d_(a){a(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class oh{constructor(t,r,s){this.wasSuccessCode=t,this.connection=r,this.canceled=!!s}}function g_(...a){const t=function kI(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const r=new t;for(let s=0;s<a.length;s++)r.append(a[s]);return r.getBlob()}if(xg())return new Blob(a);throw new zi(so.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const la={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Og{constructor(t,r){this.data=t,this.contentType=r||null}}function v_(a,t){switch(a){case la.RAW:return new Og(__(t));case la.BASE64:case la.BASE64URL:return new Og(kg(a,t));case la.DATA_URL:return new Og(function LI(a){const t=new y_(a);return t.base64?kg(la.BASE64,t.rest):function UC(a){let t;try{t=decodeURIComponent(a)}catch{throw Yu(la.DATA_URL,"Malformed data URL.")}return __(t)}(t.rest)}(t),function Ks(a){return new y_(a).contentType}(t))}throw Af()}function __(a){const t=[];for(let r=0;r<a.length;r++){let s=a.charCodeAt(r);s<=127?t.push(s):s<=2047?t.push(192|s>>6,128|63&s):55296==(64512&s)?r<a.length-1&&56320==(64512&a.charCodeAt(r+1))?(s=65536|(1023&s)<<10|1023&a.charCodeAt(++r),t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):t.push(239,191,189):56320==(64512&s)?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(t)}function kg(a,t){switch(a){case la.BASE64:{const u=-1!==t.indexOf("-"),f=-1!==t.indexOf("_");if(u||f)throw Yu(a,"Invalid character '"+(u?"-":"_")+"' found: is it base64url encoded?");break}case la.BASE64URL:{const u=-1!==t.indexOf("+"),f=-1!==t.indexOf("/");if(u||f)throw Yu(a,"Invalid character '"+(u?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=function FI(a){if(typeof atob>"u")throw function NC(a){return new zi(so.UNSUPPORTED_ENVIRONMENT,`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(a)}(t)}catch(u){throw u.message.includes("polyfill")?u:Yu(a,"Invalid character found")}const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}class y_{constructor(t){this.base64=!1,this.contentType=null;const r=t.match(/^data:([^,]+)?,/);if(null===r)throw Yu(la.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=r[1]||null;null!=s&&(this.base64=function VI(a,t){return a.length>=t.length&&a.substring(a.length-t.length)===t}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}class vu{constructor(t,r){let s=0,u="";h_(t)?(this.data_=t,s=t.size,u=t.type):t instanceof ArrayBuffer?(r?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(r?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=u}size(){return this.size_}type(){return this.type_}slice(t,r){if(h_(this.data_)){const u=function m_(a,t,r){return a.webkitSlice?a.webkitSlice(t,r):a.mozSlice?a.mozSlice(t,r):a.slice?a.slice(t,r):null}(this.data_,t,r);return null===u?null:new vu(u)}{const s=new Uint8Array(this.data_.buffer,t,r-t);return new vu(s,!0)}}static getBlob(...t){if(xg()){const r=t.map(s=>s instanceof vu?s.data_:s);return new vu(g_.apply(null,r))}{const r=t.map(m=>ih(m)?v_(la.RAW,m).data:m.data_);let s=0;r.forEach(m=>{s+=m.byteLength});const u=new Uint8Array(s);let f=0;return r.forEach(m=>{for(let E=0;E<m.length;E++)u[f++]=m[E]}),new vu(u,!0)}}uploadData(){return this.data_}}function UI(a){let t;try{t=JSON.parse(a)}catch{return null}return function xI(a){return"object"==typeof a&&!Array.isArray(a)}(t)?t:null}function I_(a){const t=a.lastIndexOf("/",a.length-2);return-1===t?a:a.slice(t+1)}function E_(a,t){return t}class xs{constructor(t,r,s,u){this.server=t,this.local=r||t,this.writable=!!s,this.xform=u||E_}}let Df=null;function sh(){if(Df)return Df;const a=[];a.push(new xs("bucket")),a.push(new xs("generation")),a.push(new xs("metageneration")),a.push(new xs("name","fullPath",!0));const r=new xs("name");r.xform=function t(f,m){return function jI(a){return!ih(a)||a.length<2?a:I_(a)}(m)},a.push(r);const u=new xs("size");return u.xform=function s(f,m){return void 0!==m?Number(m):m},a.push(u),a.push(new xs("timeCreated")),a.push(new xs("updated")),a.push(new xs("md5Hash",null,!0)),a.push(new xs("cacheControl",null,!0)),a.push(new xs("contentDisposition",null,!0)),a.push(new xs("contentEncoding",null,!0)),a.push(new xs("contentLanguage",null,!0)),a.push(new xs("contentType",null,!0)),a.push(new xs("metadata","customMetadata",!0)),Df=a,Df}function BC(a,t,r){const s=UI(t);return null===s?null:function SD(a,t,r){const s={type:"file"},u=r.length;for(let f=0;f<u;f++){const m=r[f];s[m.local]=m.xform(s,t[m.server])}return function $C(a,t){Object.defineProperty(a,"ref",{get:function r(){const f=new Ms(a.bucket,a.fullPath);return t._makeStorageReference(f)}})}(s,a),s}(a,s,r)}function HI(a,t){const r={},s=t.length;for(let u=0;u<s;u++){const f=t[u];f.writable&&(r[f.server]=a[f.local])}return JSON.stringify(r)}const jC="prefixes",HC="items";class fl{constructor(t,r,s,u){this.url=t,this.method=r,this.handler=s,this.timeout=u,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function pl(a){if(!a)throw Af()}function A_(a,t){return function r(s,u){const f=BC(a,u,t);return pl(null!==f),f}}function wf(a){return function t(r,s){let u;return u=401===r.getStatus()?r.getErrorText().includes("Firebase App Check token is invalid")?function wD(){return new zi(so.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Cf(){return new zi(so.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===r.getStatus()?function Qu(a){return new zi(so.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(a.bucket):403===r.getStatus()?function Mg(a){return new zi(so.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}(a.path):s,u.status=r.getStatus(),u.serverResponse=s.serverResponse,u}}function Fg(a){const t=wf(a);return function r(s,u){let f=t(s,u);return 404===s.getStatus()&&(f=function bI(a){return new zi(so.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}(a.path)),f.serverResponse=u.serverResponse,f}}function zC(a,t,r){const u=mu(t.fullServerUrl(),a.host,a._protocol),m=a.maxOperationRetryTime,E=new fl(u,"GET",A_(a,r),m);return E.errorHandler=Fg(t),E}function OD(a,t,r,s,u){const f={};f.prefix=t.isRoot?"":t.path+"/",r&&r.length>0&&(f.delimiter=r),s&&(f.pageToken=s),u&&(f.maxResults=u);const E=mu(t.bucketOnlyServerUrl(),a.host,a._protocol),K=a.maxOperationRetryTime,re=new fl(E,"GET",function xD(a,t){return function r(s,u){const f=function MD(a,t,r){const s=UI(r);return null===s?null:function PD(a,t,r){const s={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[jC])for(const u of r[jC]){const f=u.replace(/\/$/,""),m=a._makeStorageReference(new Ms(t,f));s.prefixes.push(m)}if(r[HC])for(const u of r[HC]){const f=a._makeStorageReference(new Ms(t,u.name));s.items.push(f)}return s}(a,t,s)}(a,t,u);return pl(null!==f),f}}(a,t.bucket),K);return re.urlParams=f,re.errorHandler=wf(t),re}function zI(a,t,r){const s=Object.assign({},r);return s.fullPath=a.path,s.size=t.size(),s.contentType||(s.contentType=function Sf(a,t){return a&&a.contentType||t&&t.type()||"application/octet-stream"}(null,t)),s}function KC(a,t,r,s,u){const f=t.bucketOnlyServerUrl(),m={"X-Goog-Upload-Protocol":"multipart"},P=function E(){let kn="";for(let Pn=0;Pn<2;Pn++)kn+=Math.random().toString().slice(2);return kn}();m["Content-Type"]="multipart/related; boundary="+P;const K=zI(t,s,u),re=HI(K,r),Ct=vu.getBlob("--"+P+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+re+"\r\n--"+P+"\r\nContent-Type: "+K.contentType+"\r\n\r\n",s,"\r\n--"+P+"--");if(null===Ct)throw DI();const jt={name:K.fullPath},sn=mu(f,a.host,a._protocol),Rn=a.maxUploadRetryTime,Gn=new fl(sn,"POST",A_(a,r),Rn);return Gn.urlParams=jt,Gn.headers=m,Gn.body=Ct.uploadData(),Gn.errorHandler=wf(t),Gn}class Rf{constructor(t,r,s,u){this.current=t,this.total=r,this.finalized=!!s,this.metadata=u||null}}function C_(a,t){let r=null;try{r=a.getResponseHeader("X-Goog-Upload-Status")}catch{pl(!1)}return pl(!!r&&-1!==(t||["active"]).indexOf(r)),r}const Lg={STATE_CHANGED:"state_changed"},Ns={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function T_(a){switch(a){case"running":case"pausing":case"canceling":return Ns.RUNNING;case"paused":return Ns.PAUSED;case"success":return Ns.SUCCESS;case"canceled":return Ns.CANCELED;default:return Ns.ERROR}}class WI{constructor(t,r,s){if(function OC(a){return"function"==typeof a}(t)||null!=r||null!=s)this.next=t,this.error=null!=r?r:void 0,this.complete=null!=s?s:void 0;else{const f=t;this.next=f.next,this.error=f.error,this.complete=f.complete}}}function Pf(a){return(...t)=>{Promise.resolve().then(()=>a(...t))}}let b_=null;class LD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zu.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zu.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zu.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,r,s,u){if(this.sent_)throw bf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,t,!0),void 0!==u)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class QC extends LD{initXhr(){this.xhr_.responseType="text"}}function Qa(){return b_?b_():new QC}class KI{constructor(t,r,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=r,this._metadata=s,this._mappings=sh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=u=>{if(this._request=void 0,this._chunkMultiplier=1,u._codeEquals(so.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const f=this.isExponentialBackoffExpired();if(Ng(u.status,[])){if(!f)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();u=u_()}this._error=u,this._transition("error")}},this._metadataErrorHandler=u=>{this._request=void 0,u._codeEquals(so.CANCELED)?this.completeTransitions_():(this._error=u,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((u,f)=>{this._resolve=u,this._reject=f,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return r=>this._updateProgress(t+r)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,s])=>{switch(this._state){case"running":t(r,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,r)=>{const s=function FD(a,t,r,s,u){const f=t.bucketOnlyServerUrl(),m=zI(t,s,u),E={name:m.fullPath},P=mu(f,a.host,a._protocol),re={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":m.contentType,"Content-Type":"application/json; charset=utf-8"},Ae=HI(m,r),jt=new fl(P,"POST",function Ct(sn){let Xt;C_(sn);try{Xt=sn.getResponseHeader("X-Goog-Upload-URL")}catch{pl(!1)}return pl(ih(Xt)),Xt},a.maxUploadRetryTime);return jt.urlParams=E,jt.headers=re,jt.body=Ae,jt.errorHandler=wf(t),jt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),u=this._ref.storage._makeRequest(s,Qa,t,r);this._request=u,u.getPromise().then(f=>{this._request=void 0,this._uploadUrl=f,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((r,s)=>{const u=function qC(a,t,r,s){const P=new fl(r,"POST",function f(K){const re=C_(K,["active","final"]);let Ae=null;try{Ae=K.getResponseHeader("X-Goog-Upload-Size-Received")}catch{pl(!1)}Ae||pl(!1);const Xe=Number(Ae);return pl(!isNaN(Xe)),new Rf(Xe,s.size(),"final"===re)},a.maxUploadRetryTime);return P.headers={"X-Goog-Upload-Command":"query"},P.errorHandler=wf(t),P}(this._ref.storage,this._ref._location,t,this._blob),f=this._ref.storage._makeRequest(u,Qa,r,s);this._request=f,f.getPromise().then(m=>{this._request=void 0,this._updateProgress(m.current),this._needToFetchStatus=!1,m.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,r=new Rf(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((u,f)=>{let m;try{m=function XC(a,t,r,s,u,f,m,E){const P=new Rf(0,0);if(m?(P.current=m.current,P.total=m.total):(P.current=0,P.total=s.size()),s.size()!==P.total)throw function MC(){return new zi(so.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const K=P.total-P.current;let re=K;u>0&&(re=Math.min(re,u));const Ae=P.current;let Ct="";Ct=0===re?"finalize":K===re?"upload, finalize":"upload";const jt={"X-Goog-Upload-Command":Ct,"X-Goog-Upload-Offset":`${P.current}`},sn=s.slice(Ae,Ae+re);if(null===sn)throw DI();const kn=new fl(r,"POST",function Xt(Pn,yr){const ar=C_(Pn,["active","final"]),Tt=P.current+re,Je=s.size();let pt;return pt="final"===ar?A_(t,f)(Pn,yr):null,new Rf(Tt,Je,"final"===ar,pt)},t.maxUploadRetryTime);return kn.headers=jt,kn.body=sn.uploadData(),kn.progressCallback=E||null,kn.errorHandler=wf(a),kn}(this._ref._location,this._ref.storage,s,this._blob,t,this._mappings,r,this._makeProgressCallback())}catch(P){return this._error=P,void this._transition("error")}const E=this._ref.storage._makeRequest(m,Qa,u,f,!1);this._request=E,E.getPromise().then(P=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(P.current),P.finalized?(this._metadata=P.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,r)=>{const s=zC(this._ref.storage,this._ref._location,this._mappings),u=this._ref.storage._makeRequest(s,Qa,t,r);this._request=u,u.getPromise().then(f=>{this._request=void 0,this._metadata=f,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,r)=>{const s=KC(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),u=this._ref.storage._makeRequest(s,Qa,t,r);this._request=u,u.getPromise().then(f=>{this._request=void 0,this._metadata=f,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const r=this._transferred;this._transferred=t,this._transferred!==r&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const r="paused"===this._state;this._state=t,r&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=c_(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=T_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,r,s,u){const f=new WI(r||void 0,s||void 0,u||void 0);return this._addObserver(f),()=>{this._removeObserver(f)}}then(t,r){return this._promise.then(t,r)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const r=this._observers.indexOf(t);-1!==r&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(T_(this._state)){case Ns.SUCCESS:Pf(this._resolve.bind(null,this.snapshot))();break;case Ns.CANCELED:case Ns.ERROR:Pf(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(T_(this._state)){case Ns.RUNNING:case Ns.PAUSED:t.next&&Pf(t.next.bind(t,this.snapshot))();break;case Ns.SUCCESS:t.complete&&Pf(t.complete.bind(t))();break;default:t.error&&Pf(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Hc{constructor(t,r){this._service=t,this._location=r instanceof Ms?r:Ms.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new Hc(t,r)}get root(){const t=new Ms(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return I_(this._location.path)}get storage(){return this._service}get parent(){const t=function $I(a){if(0===a.length)return null;const t=a.lastIndexOf("/");return-1===t?"":a.slice(0,t)}(this._location.path);if(null===t)return null;const r=new Ms(this._location.bucket,t);return new Hc(this._service,r)}_throwIfRoot(t){if(""===this._location.path)throw SI(t)}}function w_(a,t,r){return S_.apply(this,arguments)}function S_(){return(S_=(0,c.A)(function*(a,t,r){const u=yield rT(a,{pageToken:r});t.prefixes.push(...u.prefixes),t.items.push(...u.items),null!=u.nextPageToken&&(yield w_(a,t,u.nextPageToken))})).apply(this,arguments)}function rT(a,t){null!=t&&"number"==typeof t.maxResults&&f_("options.maxResults",1,1e3,t.maxResults);const r=t||{},s=OD(a.storage,a._location,"/",r.pageToken,r.maxResults);return a.storage.makeRequestWithTokens(s,Qa)}function zc(a){a._throwIfRoot("getDownloadURL");const t=function kD(a,t,r){const u=mu(t.fullServerUrl(),a.host,a._protocol),m=a.maxOperationRetryTime,E=new fl(u,"GET",function ND(a,t){return function r(s,u){const f=BC(a,u,t);return pl(null!==f),function RD(a,t,r,s){const u=UI(t);if(null===u||!ih(u.downloadTokens))return null;const f=u.downloadTokens;if(0===f.length)return null;const m=encodeURIComponent;return f.split(",").map(K=>{const Ae=a.fullPath;return mu("/b/"+m(a.bucket)+"/o/"+m(Ae),r,s)+NI({alt:"media",token:K})})[0]}(f,u,a.host,a._protocol)}}(a,r),m);return E.errorHandler=Fg(t),E}(a.storage,a._location,sh());return a.storage.makeRequestWithTokens(t,Qa).then(r=>{if(null===r)throw function xC(){return new zi(so.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return r})}function JI(a,t){const r=function BI(a,t){const r=t.split("/").filter(s=>s.length>0).join("/");return 0===a.length?r:a+"/"+r}(a._location.path,t),s=new Ms(a._location.bucket,r);return new Hc(a.storage,s)}function Ug(a,t){if(a instanceof x_){const r=a;if(null==r._bucket)throw function PC(){return new zi(so.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Rg+"' property when initializing the app?")}();const s=new Hc(r,r._bucket);return null!=t?Ug(s,t):s}return void 0!==t?JI(a,t):a}function iT(a,t){if(t&&function VD(a){return/^[A-Za-z]+:\/\//.test(a)}(t)){if(a instanceof x_)return function R_(a,t){return new Hc(a,t)}(a,t);throw rh("To use ref(service, url), the first argument must be a Storage instance.")}return Ug(a,t)}function P_(a,t){const r=null==t?void 0:t[Rg];return null==r?null:Ms.makeFromBucketSpec(r,a)}class x_{constructor(t,r,s,u,f){this.app=t,this._authProvider=r,this._appCheckProvider=s,this._url=u,this._firebaseVersion=f,this._bucket=null,this._host=CI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=u?Ms.makeFromBucketSpec(u,this._host):P_(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Ms.makeFromBucketSpec(this._url,t):P_(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){f_("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){f_("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,c.A)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const r=t._authProvider.getImmediate({optional:!0});if(r){const s=yield r.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,c.A)(function*(){const r=t._appCheckProvider.getImmediate({optional:!0});return r?(yield r.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Hc(this,t)}_makeRequest(t,r,s,u,f=!0){if(this._deleted)return new RI(wI());{const m=function VC(a,t,r,s,u,f,m=!0){const E=NI(a.urlParams),P=a.url+E,K=Object.assign({},a.headers);return function FC(a,t){t&&(a["X-Firebase-GMPID"]=t)}(K,t),function p_(a,t){null!==t&&t.length>0&&(a.Authorization="Firebase "+t)}(K,r),function kC(a,t){a["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(K,f),function LC(a,t){null!==t&&(a["X-Firebase-AppCheck"]=t)}(K,s),new OI(P,a.method,K,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,u,m)}(t,this._appId,s,u,r,this._firebaseVersion,f);return this._requests.add(m),m.getPromise().then(()=>this._requests.delete(m),()=>this._requests.delete(m)),m}}makeRequestWithTokens(t,r){var s=this;return(0,c.A)(function*(){const[u,f]=yield Promise.all([s._getAuthToken(),s._getAppCheckToken()]);return s._makeRequest(t,r,u,f).getPromise()})()}}const oT="@firebase/storage",eE="storage";function sT(a,t,r,s){return function nT(a,t,r=la.RAW,s){a._throwIfRoot("uploadString");const u=v_(r,t),f=Object.assign({},s);return null==f.contentType&&null!=u.contentType&&(f.contentType=u.contentType),function qI(a,t,r){a._throwIfRoot("uploadBytes");const s=KC(a.storage,a._location,sh(),new vu(t,!0),r);return a.storage.makeRequestWithTokens(s,Qa).then(u=>({metadata:u,ref:a}))}(a,u.data,f)}(a=(0,dt.Ku)(a),t,r,s)}function Aa(a){return zc(a=(0,dt.Ku)(a))}function Bg(a,t){return iT(a=(0,dt.Ku)(a),t)}function jg(a=(0,He.getApp)(),t){a=(0,dt.Ku)(a);const s=(0,He._getProvider)(a,eE).getImmediate({identifier:t}),u=(0,dt.yU)("storage");return u&&N_(s,...u),s}function N_(a,t,r,s={}){!function M_(a,t,r,s={}){a.host=`${t}:${r}`,a._protocol="http";const{mockUserToken:u}=s;u&&(a._overrideAuthToken="string"==typeof u?u:(0,dt.Fy)(u,a.app.options.projectId))}(a,t,r,s)}function lT(a,{instanceIdentifier:t}){const r=a.getProvider("app").getImmediate(),s=a.getProvider("auth-internal"),u=a.getProvider("app-check-internal");return new x_(r,s,u,t,He.SDK_VERSION)}!function Ro(){(0,He._registerComponent)(new dn.uA(eE,lT,"PUBLIC").setMultipleInstances(!0)),(0,He.registerVersion)(oT,"0.13.2",""),(0,He.registerVersion)(oT,"0.13.2","esm2017")}();class Of{constructor(t,r,s){this._delegate=t,this.task=r,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class nE{constructor(t,r){this._delegate=t,this._ref=r,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Of(this._delegate.snapshot,this,this._ref)}then(t,r){return this._delegate.then(s=>{if(t)return t(new Of(s,this,this._ref))},r)}on(t,r,s,u){let f;return r&&(f="function"==typeof r?m=>r(new Of(m,this,this._ref)):{next:r.next?m=>r.next(new Of(m,this,this._ref)):void 0,complete:r.complete||void 0,error:r.error||void 0}),this._delegate.on(t,f,s||void 0,u||void 0)}}class Ao{constructor(t,r){this._delegate=t,this._service=r}get prefixes(){return this._delegate.prefixes.map(t=>new Ca(t,this._service))}get items(){return this._delegate.items.map(t=>new Ca(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ca{constructor(t,r){this._delegate=t,this.storage=r}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const r=function Nf(a,t){return JI(a,t)}(this._delegate,t);return new Ca(r,this.storage)}get root(){return new Ca(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Ca(t,this.storage)}put(t,r){return this._throwIfRoot("put"),new nE(function $l(a,t,r){return function tT(a,t,r){return a._throwIfRoot("uploadBytesResumable"),new KI(a,new vu(t),r)}(a=(0,dt.Ku)(a),t,r)}(this._delegate,t,r),this)}putString(t,r=la.RAW,s){this._throwIfRoot("putString");const u=v_(r,t),f=Object.assign({},s);return null==f.contentType&&null!=u.contentType&&(f.contentType=u.contentType),new nE(new KI(this._delegate,new vu(u.data,!0),f),this)}listAll(){return function $g(a){return function XI(a){const t={prefixes:[],items:[]};return w_(a,t).then(()=>t)}(a=(0,dt.Ku)(a))}(this._delegate).then(t=>new Ao(t,this.storage))}list(t){return function Gc(a,t){return rT(a=(0,dt.Ku)(a),t)}(this._delegate,t||void 0).then(r=>new Ao(r,this.storage))}getMetadata(){return function xf(a){return function QI(a){a._throwIfRoot("getMetadata");const t=zC(a.storage,a._location,sh());return a.storage.makeRequestWithTokens(t,Qa)}(a=(0,dt.Ku)(a))}(this._delegate)}updateMetadata(t){return function So(a,t){return function YI(a,t){a._throwIfRoot("updateMetadata");const r=function WC(a,t,r,s){const f=mu(t.fullServerUrl(),a.host,a._protocol),E=HI(r,s),K=a.maxOperationRetryTime,re=new fl(f,"PATCH",A_(a,s),K);return re.headers={"Content-Type":"application/json; charset=utf-8"},re.body=E,re.errorHandler=Fg(t),re}(a.storage,a._location,t,sh());return a.storage.makeRequestWithTokens(r,Qa)}(a=(0,dt.Ku)(a),t)}(this._delegate,t)}getDownloadURL(){return Aa(this._delegate)}delete(){return this._throwIfRoot("delete"),function lh(a){return function ZI(a){a._throwIfRoot("deleteObject");const t=function ah(a,t){const s=mu(t.fullServerUrl(),a.host,a._protocol),E=new fl(s,"DELETE",function m(P,K){},a.maxOperationRetryTime);return E.successCodes=[200,204],E.errorHandler=Fg(t),E}(a.storage,a._location);return a.storage.makeRequestWithTokens(t,Qa)}(a=(0,dt.Ku)(a))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw SI(t)}}class Wc{constructor(t,r){this.app=t,this._delegate=r}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(kf(t))throw rh("ref() expected a child path but got a URL, use refFromURL instead.");return new Ca(Bg(this._delegate,t),this)}refFromURL(t){if(!kf(t))throw rh("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ms.makeFromUrl(t,this._delegate.host)}catch{throw rh("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ca(Bg(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,r,s={}){N_(this._delegate,t,r,s)}}function kf(a){return/^[A-Za-z]+:\/\//.test(a)}function iE(a,{instanceIdentifier:t}){const r=a.getProvider("app-compat").getImmediate(),s=a.getProvider("storage").getImmediate({identifier:t});return new Wc(r,s)}function Gg(a){const t=function zg(a){return new Pe.c(t=>{const r=m=>t.next(m);r(a.snapshot);const f=a.on("state_changed",r);return a.then(m=>{r(m),t.complete()},m=>{r(a.snapshot),(m=>{t.error(m)})(m)}),function(){f()}}).pipe(function SC(a,t=In.E){return(0,Le.N)((r,s)=>{let u=null,f=null,m=null;const E=()=>{if(u){u.unsubscribe(),u=null;const K=f;f=null,s.next(K)}};function P(){const K=m+a,re=t.now();if(re<K)return u=this.schedule(void 0,K-re),void s.add(u);E()}r.subscribe((0,Sn._)(s,K=>{f=K,m=t.now(),u||(u=t.schedule(P,a),s.add(u))},()=>{E(),s.complete()},void 0,()=>{f=u=null}))})}(0))}(a);return{task:a,then:a.then.bind(a),catch:a.catch.bind(a),pause:a.pause.bind(a),cancel:a.cancel.bind(a),resume:a.resume.bind(a),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,ct.T)(r=>r.bytesTransferred/r.totalBytes*100))}}function Lf(a){return{getDownloadURL:()=>(0,et.of)(void 0).pipe(ge.Oe,(0,Qe.n)(()=>a.getDownloadURL()),ge.U0),getMetadata:()=>(0,et.of)(void 0).pipe(ge.Oe,(0,Qe.n)(()=>a.getMetadata()),ge.U0),delete:()=>(0,pe.H)(a.delete()),child:t=>Lf(a.child(t)),updateMetadata:t=>(0,pe.H)(a.updateMetadata(t)),put:(t,r)=>Gg(a.put(t,r)),putString:(t,r,s)=>Gg(a.putString(t,r,s)),list:t=>(0,pe.H)(a.list(t)),listAll:()=>(0,pe.H)(a.listAll())}}!function oE(a){const t={TaskState:Ns,TaskEvent:Lg,StringFormat:la,Storage:Wc,Reference:Ca};a.INTERNAL.registerComponent(new dn.uA("storage-compat",iE,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),a.registerVersion("@firebase/storage-compat","0.3.12")}(Wt.A);const BD=new h.nKC("angularfire2.storageBucket"),uh=new h.nKC("angularfire2.storage.maxUploadRetryTime"),sE=new h.nKC("angularfire2.storage.maxOperationRetryTime"),Wg=new h.nKC("angularfire2.storage.use-emulator");let uT=(()=>{var a;class t{constructor(s,u,f,m,E,P,K,re,Ae,Xe){(0,F.A)(this,"storage",void 0);const Ct=(0,Ce.iB)(s,E,u);this.storage=(0,Ce.BM)(`${Ct.name}.storage.${f}`,"AngularFireStorage",Ct.name,()=>{const jt=E.runOutsideAngular(()=>Ct.storage(f||void 0)),sn=Ae;return sn&&jt.useEmulator(...sn),K&&jt.setMaxUploadRetryTime(K),re&&jt.setMaxOperationRetryTime(re),jt},[K,re])}ref(s){return Lf(this.storage.ref(s))}refFromURL(s){return Lf(this.storage.refFromURL(s))}upload(s,u,f){return Lf(this.storage.ref(s)).put(u,f)}}return a=t,(0,F.A)(t,"\u0275fac",function(s){return new(s||a)(h.KVO(Ce.rx),h.KVO(Ce.uP,8),h.KVO(BD,8),h.KVO(h.Agw),h.KVO(h.SKi),h.KVO(ge.u0),h.KVO(uh,8),h.KVO(sE,8),h.KVO(Wg,8),h.KVO(ge.Jv,8))}),(0,F.A)(t,"\u0275prov",h.jDH({token:a,factory:a.\u0275fac,providedIn:"any"})),t})(),aE=(()=>{var a;class t{constructor(){this.auth=(0,h.WQX)(be),this.firestore=(0,h.WQX)(WA),this.storage=(0,h.WQX)(uT),this.utilsSvc=(0,h.WQX)(wC.T)}getAuth(){return(0,tt.o)()}singIn(s){return(0,tt.ab)((0,tt.o)(),s.email,s.password)}singUp(s){return(0,tt.aa)((0,tt.o)(),s.email,s.password)}updateUser(s){return(0,tt.ak)((0,tt.o)().currentUser,{displayName:s})}sendRecoveryEmail(s){return(0,tt.a5)((0,tt.o)(),s)}signOut(){(0,tt.o)().signOut(),localStorage.removeItem("user"),this.utilsSvc.routerLink("/auth")}getCollectionData(s,u){const f=i_(Ul(),s);return hI(II(f,u),{idField:"id"})}setDocument(s,u){return Ef(s_(Ul(),s),u)}getDocument(s){return(0,c.A)(function*(){return(yield IC(s_(Ul(),s))).data()})()}addDocument(s,u){return pC(i_(Ul(),s),u)}uploadImage(s,u){return(0,c.A)(function*(){return sT(Bg(jg(),s),u,"data_url").then(()=>Aa(Bg(jg(),s)))})()}}return(a=t).\u0275fac=function(s){return new(s||a)},a.\u0275prov=h.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),t})()},5265:(vn,vt,L)=>{"use strict";L.d(vt,{T:()=>oe});var c=L(467),h=L(4438),F=L(4964),Re=L(4742);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var pe=function(fe){return fe.Unimplemented="UNIMPLEMENTED",fe.Unavailable="UNAVAILABLE",fe}(pe||{});class Ge extends Error{constructor(le,be,Se){super(le),this.message=le,this.code=be,this.data=Se}}const qe=fe=>{var le,be,Se,tt,He;const dt=fe.CapacitorCustomPlatform||null,Nt=fe.Capacitor||{},dn=Nt.Plugins=Nt.Plugins||{},In=fe.CapacitorPlatforms,Sn=(null===(le=null==In?void 0:In.currentPlatform)||void 0===le?void 0:le.getPlatform)||(()=>null!==dt?dt.name:(fe=>{var le,be;return null!=fe&&fe.androidBridge?"android":null!==(be=null===(le=null==fe?void 0:fe.webkit)||void 0===le?void 0:le.messageHandlers)&&void 0!==be&&be.bridge?"ios":"web"})(fe)),Xn=(null===(be=null==In?void 0:In.currentPlatform)||void 0===be?void 0:be.isNativePlatform)||(()=>"web"!==Sn()),Wt=(null===(Se=null==In?void 0:In.currentPlatform)||void 0===Se?void 0:Se.isPluginAvailable)||(En=>{const Wn=hr.get(En);return!!(null!=Wn&&Wn.platforms.has(Sn())||Ot(En))}),Ot=(null===(tt=null==In?void 0:In.currentPlatform)||void 0===tt?void 0:tt.getPluginHeader)||(En=>{var Wn;return null===(Wn=Nt.PluginHeaders)||void 0===Wn?void 0:Wn.find(lr=>lr.name===En)}),hr=new Map,Cn=(null===(He=null==In?void 0:In.currentPlatform)||void 0===He?void 0:He.registerPlugin)||((En,Wn={})=>{const lr=hr.get(En);if(lr)return console.warn(`Capacitor plugin "${En}" already registered. Cannot register plugins twice.`),lr.proxy;const $n=Sn(),Vn=Ot(En);let fr;const Fr=function(){var Bn=(0,c.A)(function*(){return!fr&&$n in Wn?fr=fr="function"==typeof Wn[$n]?yield Wn[$n]():Wn[$n]:null!==dt&&!fr&&"web"in Wn&&(fr=fr="function"==typeof Wn.web?yield Wn.web():Wn.web),fr});return function(){return Bn.apply(this,arguments)}}(),Er=Bn=>{let yt;const nr=(...rr)=>{const St=Fr().then(Fe=>{const rt=((Bn,yt)=>{var nr,rr;if(!Vn){if(Bn)return null===(rr=Bn[yt])||void 0===rr?void 0:rr.bind(Bn);throw new Ge(`"${En}" plugin is not implemented on ${$n}`,pe.Unimplemented)}{const St=null==Vn?void 0:Vn.methods.find(Fe=>yt===Fe.name);if(St)return"promise"===St.rtype?Fe=>Nt.nativePromise(En,yt.toString(),Fe):(Fe,rt)=>Nt.nativeCallback(En,yt.toString(),Fe,rt);if(Bn)return null===(nr=Bn[yt])||void 0===nr?void 0:nr.bind(Bn)}})(Fe,Bn);if(rt){const ot=rt(...rr);return yt=null==ot?void 0:ot.remove,ot}throw new Ge(`"${En}.${Bn}()" is not implemented on ${$n}`,pe.Unimplemented)});return"addListener"===Bn&&(St.remove=(0,c.A)(function*(){return yt()})),St};return nr.toString=()=>`${Bn.toString()}() { [capacitor code] }`,Object.defineProperty(nr,"name",{value:Bn,writable:!1,configurable:!1}),nr},mn=Er("addListener"),Gr=Er("removeListener"),or=(Bn,yt)=>{const nr=mn({eventName:Bn},yt),rr=function(){var Fe=(0,c.A)(function*(){const rt=yield nr;Gr({eventName:Bn,callbackId:rt},yt)});return function(){return Fe.apply(this,arguments)}}(),St=new Promise(Fe=>nr.then(()=>Fe({remove:rr})));return St.remove=(0,c.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield rr()}),St},Lr=new Proxy({},{get(Bn,yt){switch(yt){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Vn?or:mn;case"removeListener":return Gr;default:return Er(yt)}}});return dn[En]=Lr,hr.set(En,{name:En,proxy:Lr,platforms:new Set([...Object.keys(Wn),...Vn?[$n]:[]])}),Lr});return Nt.convertFileSrc||(Nt.convertFileSrc=En=>En),Nt.getPlatform=Sn,Nt.handleError=En=>fe.console.error(En),Nt.isNativePlatform=Xn,Nt.isPluginAvailable=Wt,Nt.pluginMethodNoop=(En,Wn,lr)=>Promise.reject(`${lr} does not have an implementation of "${Wn}".`),Nt.registerPlugin=Cn,Nt.Exception=Ge,Nt.DEBUG=!!Nt.DEBUG,Nt.isLoggingEnabled=!!Nt.isLoggingEnabled,Nt.platform=Nt.getPlatform(),Nt.isNative=Nt.isNativePlatform(),Nt},ut=(fe=>fe.Capacitor=qe(fe))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Be=ut.registerPlugin;class at{constructor(le){this.listeners={},this.retainedEventArguments={},this.windowListeners={},le&&(console.warn(`Capacitor WebPlugin "${le.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=le)}addListener(le,be){var Se=this;let tt=!1;this.listeners[le]||(this.listeners[le]=[],tt=!0),this.listeners[le].push(be);const dt=this.windowListeners[le];dt&&!dt.registered&&this.addWindowListener(dt),tt&&this.sendRetainedArgumentsForEvent(le);const Nt=function(){var In=(0,c.A)(function*(){return Se.removeListener(le,be)});return function(){return In.apply(this,arguments)}}();return Promise.resolve({remove:Nt})}removeAllListeners(){var le=this;return(0,c.A)(function*(){le.listeners={};for(const be in le.windowListeners)le.removeWindowListener(le.windowListeners[be]);le.windowListeners={}})()}notifyListeners(le,be,Se){const tt=this.listeners[le];if(tt)tt.forEach(He=>He(be));else if(Se){let He=this.retainedEventArguments[le];He||(He=[]),He.push(be),this.retainedEventArguments[le]=He}}hasListeners(le){return!!this.listeners[le].length}registerWindowListener(le,be){this.windowListeners[be]={registered:!1,windowEventName:le,pluginEventName:be,handler:Se=>{this.notifyListeners(be,Se)}}}unimplemented(le="not implemented"){return new ut.Exception(le,pe.Unimplemented)}unavailable(le="not available"){return new ut.Exception(le,pe.Unavailable)}removeListener(le,be){var Se=this;return(0,c.A)(function*(){const tt=Se.listeners[le];if(!tt)return;const He=tt.indexOf(be);Se.listeners[le].splice(He,1),Se.listeners[le].length||Se.removeWindowListener(Se.windowListeners[le])})()}addWindowListener(le){window.addEventListener(le.windowEventName,le.handler),le.registered=!0}removeWindowListener(le){le&&(window.removeEventListener(le.windowEventName,le.handler),le.registered=!1)}sendRetainedArgumentsForEvent(le){const be=this.retainedEventArguments[le];be&&(delete this.retainedEventArguments[le],be.forEach(Se=>{this.notifyListeners(le,Se)}))}}const De=fe=>encodeURIComponent(fe).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Le=fe=>fe.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class nt extends at{getCookies(){return(0,c.A)(function*(){const le=document.cookie,be={};return le.split(";").forEach(Se=>{if(Se.length<=0)return;let[tt,He]=Se.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");tt=Le(tt).trim(),He=Le(He).trim(),be[tt]=He}),be})()}setCookie(le){return(0,c.A)(function*(){try{const be=De(le.key),Se=De(le.value),tt=`; expires=${(le.expires||"").replace("expires=","")}`,He=(le.path||"/").replace("path=",""),dt=null!=le.url&&le.url.length>0?`domain=${le.url}`:"";document.cookie=`${be}=${Se||""}${tt}; path=${He}; ${dt};`}catch(be){return Promise.reject(be)}})()}deleteCookie(le){return(0,c.A)(function*(){try{document.cookie=`${le.key}=; Max-Age=0`}catch(be){return Promise.reject(be)}})()}clearCookies(){return(0,c.A)(function*(){try{const le=document.cookie.split(";")||[];for(const be of le)document.cookie=be.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(le){return Promise.reject(le)}})()}clearAllCookies(){var le=this;return(0,c.A)(function*(){try{yield le.clearCookies()}catch(be){return Promise.reject(be)}})()}}Be("CapacitorCookies",{web:()=>new nt});const xt=function(){var fe=(0,c.A)(function*(le){return new Promise((be,Se)=>{const tt=new FileReader;tt.onload=()=>{const He=tt.result;be(He.indexOf(",")>=0?He.split(",")[1]:He)},tt.onerror=He=>Se(He),tt.readAsDataURL(le)})});return function(be){return fe.apply(this,arguments)}}();class Qt extends at{request(le){return(0,c.A)(function*(){const be=((fe,le={})=>{const be=Object.assign({method:fe.method||"GET",headers:fe.headers},le),tt=((fe={})=>{const le=Object.keys(fe);return Object.keys(fe).map(tt=>tt.toLocaleLowerCase()).reduce((tt,He,dt)=>(tt[He]=fe[le[dt]],tt),{})})(fe.headers)["content-type"]||"";if("string"==typeof fe.data)be.body=fe.data;else if(tt.includes("application/x-www-form-urlencoded")){const He=new URLSearchParams;for(const[dt,Nt]of Object.entries(fe.data||{}))He.set(dt,Nt);be.body=He.toString()}else if(tt.includes("multipart/form-data")||fe.data instanceof FormData){const He=new FormData;if(fe.data instanceof FormData)fe.data.forEach((Nt,dn)=>{He.append(dn,Nt)});else for(const Nt of Object.keys(fe.data))He.append(Nt,fe.data[Nt]);be.body=He;const dt=new Headers(be.headers);dt.delete("content-type"),be.headers=dt}else(tt.includes("application/json")||"object"==typeof fe.data)&&(be.body=JSON.stringify(fe.data));return be})(le,le.webFetchExtra),Se=((fe,le=!0)=>fe?Object.entries(fe).reduce((Se,tt)=>{const[He,dt]=tt;let Nt,dn;return Array.isArray(dt)?(dn="",dt.forEach(In=>{Nt=le?encodeURIComponent(In):In,dn+=`${He}=${Nt}&`}),dn.slice(0,-1)):(Nt=le?encodeURIComponent(dt):dt,dn=`${He}=${Nt}`),`${Se}&${dn}`},"").substr(1):null)(le.params,le.shouldEncodeUrlParams),tt=Se?`${le.url}?${Se}`:le.url,He=yield fetch(tt,be),dt=He.headers.get("content-type")||"";let dn,In,{responseType:Nt="text"}=He.ok?le:{};switch(dt.includes("application/json")&&(Nt="json"),Nt){case"arraybuffer":case"blob":In=yield He.blob(),dn=yield xt(In);break;case"json":dn=yield He.json();break;default:dn=yield He.text()}const pr={};return He.headers.forEach((Sn,zn)=>{pr[zn]=Sn}),{data:dn,headers:pr,status:He.status,url:He.url}})()}get(le){var be=this;return(0,c.A)(function*(){return be.request(Object.assign(Object.assign({},le),{method:"GET"}))})()}post(le){var be=this;return(0,c.A)(function*(){return be.request(Object.assign(Object.assign({},le),{method:"POST"}))})()}put(le){var be=this;return(0,c.A)(function*(){return be.request(Object.assign(Object.assign({},le),{method:"PUT"}))})()}patch(le){var be=this;return(0,c.A)(function*(){return be.request(Object.assign(Object.assign({},le),{method:"PATCH"}))})()}delete(le){var be=this;return(0,c.A)(function*(){return be.request(Object.assign(Object.assign({},le),{method:"DELETE"}))})()}}Be("CapacitorHttp",{web:()=>new Qt});var en=function(fe){return fe.Prompt="PROMPT",fe.Camera="CAMERA",fe.Photos="PHOTOS",fe}(en||{}),Dn=function(fe){return fe.Rear="REAR",fe.Front="FRONT",fe}(Dn||{}),Et=function(fe){return fe.Uri="uri",fe.Base64="base64",fe.DataUrl="dataUrl",fe}(Et||{});class we extends at{getPhoto(le){var be=this;return(0,c.A)(function*(){return new Promise(function(){var Se=(0,c.A)(function*(tt,He){if(le.webUseInput||le.source===en.Photos)be.fileInputExperience(le,tt,He);else if(le.source===en.Prompt){let dt=document.querySelector("pwa-action-sheet");dt||(dt=document.createElement("pwa-action-sheet"),document.body.appendChild(dt)),dt.header=le.promptLabelHeader||"Photo",dt.cancelable=!1,dt.options=[{title:le.promptLabelPhoto||"From Photos"},{title:le.promptLabelPicture||"Take Picture"}],dt.addEventListener("onSelection",function(){var Nt=(0,c.A)(function*(dn){0===dn.detail?be.fileInputExperience(le,tt,He):be.cameraExperience(le,tt,He)});return function(dn){return Nt.apply(this,arguments)}}())}else be.cameraExperience(le,tt,He)});return function(tt,He){return Se.apply(this,arguments)}}())})()}pickImages(le){var be=this;return(0,c.A)(function*(){return new Promise(function(){var Se=(0,c.A)(function*(tt,He){be.multipleFileInputExperience(tt,He)});return function(tt,He){return Se.apply(this,arguments)}}())})()}cameraExperience(le,be,Se){var tt=this;return(0,c.A)(function*(){if(customElements.get("pwa-camera-modal")){const He=document.createElement("pwa-camera-modal");He.facingMode=le.direction===Dn.Front?"user":"environment",document.body.appendChild(He);try{yield He.componentOnReady(),He.addEventListener("onPhoto",function(){var dt=(0,c.A)(function*(Nt){const dn=Nt.detail;null===dn?Se(new Ge("User cancelled photos app")):dn instanceof Error?Se(dn):be(yield tt._getCameraPhoto(dn,le)),He.dismiss(),document.body.removeChild(He)});return function(Nt){return dt.apply(this,arguments)}}()),He.present()}catch{tt.fileInputExperience(le,be,Se)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),tt.fileInputExperience(le,be,Se)})()}fileInputExperience(le,be,Se){let tt=document.querySelector("#_capacitor-camera-input");const He=()=>{var dt;null===(dt=tt.parentNode)||void 0===dt||dt.removeChild(tt)};tt||(tt=document.createElement("input"),tt.id="_capacitor-camera-input",tt.type="file",tt.hidden=!0,document.body.appendChild(tt),tt.addEventListener("change",dt=>{const Nt=tt.files[0];let dn="jpeg";if("image/png"===Nt.type?dn="png":"image/gif"===Nt.type&&(dn="gif"),"dataUrl"===le.resultType||"base64"===le.resultType){const In=new FileReader;In.addEventListener("load",()=>{if("dataUrl"===le.resultType)be({dataUrl:In.result,format:dn});else if("base64"===le.resultType){const pr=In.result.split(",")[1];be({base64String:pr,format:dn})}He()}),In.readAsDataURL(Nt)}else be({webPath:URL.createObjectURL(Nt),format:dn}),He()}),tt.addEventListener("cancel",dt=>{Se(new Ge("User cancelled photos app")),He()})),tt.accept="image/*",tt.capture=!0,le.source===en.Photos||le.source===en.Prompt?tt.removeAttribute("capture"):le.direction===Dn.Front?tt.capture="user":le.direction===Dn.Rear&&(tt.capture="environment"),tt.click()}multipleFileInputExperience(le,be){let Se=document.querySelector("#_capacitor-camera-input-multiple");const tt=()=>{var He;null===(He=Se.parentNode)||void 0===He||He.removeChild(Se)};Se||(Se=document.createElement("input"),Se.id="_capacitor-camera-input-multiple",Se.type="file",Se.hidden=!0,Se.multiple=!0,document.body.appendChild(Se),Se.addEventListener("change",He=>{const dt=[];for(let Nt=0;Nt<Se.files.length;Nt++){const dn=Se.files[Nt];let In="jpeg";"image/png"===dn.type?In="png":"image/gif"===dn.type&&(In="gif"),dt.push({webPath:URL.createObjectURL(dn),format:In})}le({photos:dt}),tt()}),Se.addEventListener("cancel",He=>{be(new Ge("User cancelled photos app")),tt()})),Se.accept="image/*",Se.click()}_getCameraPhoto(le,be){return new Promise((Se,tt)=>{const He=new FileReader,dt=le.type.split("/")[1];"uri"===be.resultType?Se({webPath:URL.createObjectURL(le),format:dt,saved:!1}):(He.readAsDataURL(le),He.onloadend=()=>{const Nt=He.result;Se("dataUrl"===be.resultType?{dataUrl:Nt,format:dt,saved:!1}:{base64String:Nt.split(",")[1],format:dt,saved:!1})},He.onerror=Nt=>{tt(Nt)})})}checkPermissions(){var le=this;return(0,c.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw le.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw le.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var le=this;return(0,c.A)(function*(){throw le.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var le=this;return(0,c.A)(function*(){throw le.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var le=this;return(0,c.A)(function*(){throw le.unavailable("Not implemented on web.")})()}}new we;const ee=Be("Camera",{web:()=>new we});let oe=(()=>{var fe;class le{constructor(){this.loadingCtrl=(0,h.WQX)(Re.Xi),this.toastCtrl=(0,h.WQX)(Re.K_),this.modalCtrl=(0,h.WQX)(Re.W3),this.router=(0,h.WQX)(F.Ix)}takePicture(Se){return(0,c.A)(function*(){return yield ee.getPhoto({quality:90,allowEditing:!0,resultType:Et.DataUrl,source:en.Prompt,promptLabelHeader:Se,promptLabelPhoto:"Selecciona una imagen",promptLabelPicture:"Toma una foto"})})()}loading(){return this.loadingCtrl.create({spinner:"crescent"})}presentToast(Se){var tt=this;return(0,c.A)(function*(){(yield tt.toastCtrl.create(Se)).present()})()}routerLink(Se){return this.router.navigateByUrl(Se)}saveInLocalStorage(Se,tt){return localStorage.setItem(Se,JSON.stringify(tt))}getFromLocalStorage(Se){return JSON.parse(localStorage.getItem(Se))}presentModal(Se){var tt=this;return(0,c.A)(function*(){const He=yield tt.modalCtrl.create(Se);yield He.present();const{data:dt}=yield He.onWillDismiss();if(dt)return dt})()}dismissModal(Se){return this.modalCtrl.dismiss(Se)}}return(fe=le).\u0275fac=function(Se){return new(Se||fe)},fe.\u0275prov=h.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"}),le})()},2644:(vn,vt,L)=>{"use strict";var c=L(345),h=L(4964),F=L(2872),Re=L(4742),ue=L(4438);let ge=(()=>{var Be;class Qe{constructor(){}}return(Be=Qe).\u0275fac=function(at){return new(at||Be)},Be.\u0275cmp=ue.VBU({type:Be,selectors:[["app-root"]],decls:2,vars:0,template:function(at,lt){1&at&&(ue.j41(0,"ion-app"),ue.nrm(1,"ion-router-outlet"),ue.k0s())},dependencies:[Re.U1,Re.Rg]}),Qe})();var Ce=L(385),ze=L(5265);const pe=[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",loadChildren:()=>Promise.all([L.e(2076),L.e(7651)]).then(L.bind(L,7651)).then(Be=>Be.AuthPageModule),canActivate:[(()=>{var Be;class Qe{constructor(){this.firebaseSvc=(0,ue.WQX)(Ce.f),this.utilSvc=(0,ue.WQX)(ze.T)}canActivate(at,lt){return new Promise(De=>{this.firebaseSvc.getAuth().onAuthStateChanged(Le=>{Le?(this.utilSvc.routerLink("/main/home"),De(!1)):De(!0)})})}}return(Be=Qe).\u0275fac=function(at){return new(at||Be)},Be.\u0275prov=ue.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Qe})()]},{path:"main",loadChildren:()=>L.e(2547).then(L.bind(L,2547)).then(Be=>Be.MainPageModule),canActivate:[(()=>{var Be;class Qe{constructor(){this.firebaseSvc=(0,ue.WQX)(Ce.f),this.utilSvc=(0,ue.WQX)(ze.T)}canActivate(at,lt){let De=localStorage.getItem("user");return new Promise(Le=>{this.firebaseSvc.getAuth().onAuthStateChanged(nt=>{nt?De&&Le(!0):(this.utilSvc.routerLink("/auth"),Le(!1))})})}}return(Be=Qe).\u0275fac=function(at){return new(at||Be)},Be.\u0275prov=ue.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Qe})()]},{path:"error",loadChildren:()=>L.e(7526).then(L.bind(L,7526)).then(Be=>Be.ErrorPageModule)},{path:"**",loadChildren:()=>L.e(7526).then(L.bind(L,7526)).then(Be=>Be.ErrorPageModule)}];let Ge=(()=>{var Be;class Qe{}return(Be=Qe).\u0275fac=function(at){return new(at||Be)},Be.\u0275mod=ue.$C({type:Be}),Be.\u0275inj=ue.G2t({imports:[h.iI.forRoot(pe,{preloadingStrategy:h.Kp}),h.iI]}),Qe})();var Ke=L(9253);const qe_firebaseConfig={apiKey:"AIzaSyDpasBq2h7kRIF70qCDTtZOYFX9GFbCgIk",authDomain:"app-mobile-v6.firebaseapp.com",projectId:"app-mobile-v6",storageBucket:"app-mobile-v6.appspot.com",messagingSenderId:"46864661998",appId:"1:46864661998:web:71ce5b43a1f5abcd4f62ff"};let it=(()=>{var Be;class Qe{}return(Be=Qe).\u0275fac=function(at){return new(at||Be)},Be.\u0275mod=ue.$C({type:Be,bootstrap:[ge]}),Be.\u0275inj=ue.G2t({providers:[{provide:h.b,useClass:F.jM}],imports:[c.Bb,Re.bv.forRoot({mode:"md"}),Ge,Ke.bf.initializeApp(qe_firebaseConfig)]}),Qe})();var ut=L(4950);c.sG().bootstrapModule(it).catch(Be=>console.log(Be)),(0,ut.u2)(window)},4412:(vn,vt,L)=>{"use strict";L.d(vt,{t:()=>h});var c=L(1413);class h extends c.B{constructor(Re){super(),this._value=Re}get value(){return this.getValue()}_subscribe(Re){const ue=super._subscribe(Re);return!ue.closed&&Re.next(this._value),ue}getValue(){const{hasError:Re,thrownError:ue,_value:ge}=this;if(Re)throw ue;return this._throwIfClosed(),ge}next(Re){super.next(this._value=Re)}}},1985:(vn,vt,L)=>{"use strict";L.d(vt,{c:()=>ze});var c=L(7707),h=L(8359),F=L(3494),Re=L(1203),ue=L(1026),ge=L(8071),Ce=L(9786);let ze=(()=>{class Ge{constructor(qe){qe&&(this._subscribe=qe)}lift(qe){const it=new Ge;return it.source=this,it.operator=qe,it}subscribe(qe,it,ut){const Be=function pe(Ge){return Ge&&Ge instanceof c.vU||function Pe(Ge){return Ge&&(0,ge.T)(Ge.next)&&(0,ge.T)(Ge.error)&&(0,ge.T)(Ge.complete)}(Ge)&&(0,h.Uv)(Ge)}(qe)?qe:new c.Ms(qe,it,ut);return(0,Ce.Y)(()=>{const{operator:Qe,source:ct}=this;Be.add(Qe?Qe.call(Be,ct):ct?this._subscribe(Be):this._trySubscribe(Be))}),Be}_trySubscribe(qe){try{return this._subscribe(qe)}catch(it){qe.error(it)}}forEach(qe,it){return new(it=et(it))((ut,Be)=>{const Qe=new c.Ms({next:ct=>{try{qe(ct)}catch(at){Be(at),Qe.unsubscribe()}},error:Be,complete:ut});this.subscribe(Qe)})}_subscribe(qe){var it;return null===(it=this.source)||void 0===it?void 0:it.subscribe(qe)}[F.s](){return this}pipe(...qe){return(0,Re.m)(qe)(this)}toPromise(qe){return new(qe=et(qe))((it,ut)=>{let Be;this.subscribe(Qe=>Be=Qe,Qe=>ut(Qe),()=>it(Be))})}}return Ge.create=Ke=>new Ge(Ke),Ge})();function et(Ge){var Ke;return null!==(Ke=null!=Ge?Ge:ue.$.Promise)&&void 0!==Ke?Ke:Promise}},1413:(vn,vt,L)=>{"use strict";L.d(vt,{B:()=>Ce});var c=L(1985),h=L(8359);const Re=(0,L(1853).L)(et=>function(){et(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=L(7908),ge=L(9786);let Ce=(()=>{class et extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(pe){const Ge=new ze(this,this);return Ge.operator=pe,Ge}_throwIfClosed(){if(this.closed)throw new Re}next(pe){(0,ge.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ge of this.currentObservers)Ge.next(pe)}})}error(pe){(0,ge.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=pe;const{observers:Ge}=this;for(;Ge.length;)Ge.shift().error(pe)}})}complete(){(0,ge.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:pe}=this;for(;pe.length;)pe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var pe;return(null===(pe=this.observers)||void 0===pe?void 0:pe.length)>0}_trySubscribe(pe){return this._throwIfClosed(),super._trySubscribe(pe)}_subscribe(pe){return this._throwIfClosed(),this._checkFinalizedStatuses(pe),this._innerSubscribe(pe)}_innerSubscribe(pe){const{hasError:Ge,isStopped:Ke,observers:qe}=this;return Ge||Ke?h.Kn:(this.currentObservers=null,qe.push(pe),new h.yU(()=>{this.currentObservers=null,(0,ue.o)(qe,pe)}))}_checkFinalizedStatuses(pe){const{hasError:Ge,thrownError:Ke,isStopped:qe}=this;Ge?pe.error(Ke):qe&&pe.complete()}asObservable(){const pe=new c.c;return pe.source=this,pe}}return et.create=(Pe,pe)=>new ze(Pe,pe),et})();class ze extends Ce{constructor(Pe,pe){super(),this.destination=Pe,this.source=pe}next(Pe){var pe,Ge;null===(Ge=null===(pe=this.destination)||void 0===pe?void 0:pe.next)||void 0===Ge||Ge.call(pe,Pe)}error(Pe){var pe,Ge;null===(Ge=null===(pe=this.destination)||void 0===pe?void 0:pe.error)||void 0===Ge||Ge.call(pe,Pe)}complete(){var Pe,pe;null===(pe=null===(Pe=this.destination)||void 0===Pe?void 0:Pe.complete)||void 0===pe||pe.call(Pe)}_subscribe(Pe){var pe,Ge;return null!==(Ge=null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(Pe))&&void 0!==Ge?Ge:h.Kn}}},7707:(vn,vt,L)=>{"use strict";L.d(vt,{Ms:()=>ut,vU:()=>Ge});var c=L(8071),h=L(8359),F=L(1026),Re=L(5334),ue=L(5343);const ge=et("C",void 0,void 0);function et(lt,De,Le){return{kind:lt,value:De,error:Le}}var Pe=L(9270),pe=L(9786);class Ge extends h.yU{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,h.Uv)(De)&&De.add(this)):this.destination=at}static create(De,Le,nt){return new ut(De,Le,nt)}next(De){this.isStopped?ct(function ze(lt){return et("N",lt,void 0)}(De),this):this._next(De)}error(De){this.isStopped?ct(function Ce(lt){return et("E",void 0,lt)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?ct(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function qe(lt,De){return Ke.call(lt,De)}class it{constructor(De){this.partialObserver=De}next(De){const{partialObserver:Le}=this;if(Le.next)try{Le.next(De)}catch(nt){Be(nt)}}error(De){const{partialObserver:Le}=this;if(Le.error)try{Le.error(De)}catch(nt){Be(nt)}else Be(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(Le){Be(Le)}}}class ut extends Ge{constructor(De,Le,nt){let _t;if(super(),(0,c.T)(De)||!De)_t={next:null!=De?De:void 0,error:null!=Le?Le:void 0,complete:null!=nt?nt:void 0};else{let xt;this&&F.$.useDeprecatedNextContext?(xt=Object.create(De),xt.unsubscribe=()=>this.unsubscribe(),_t={next:De.next&&qe(De.next,xt),error:De.error&&qe(De.error,xt),complete:De.complete&&qe(De.complete,xt)}):_t=De}this.destination=new it(_t)}}function Be(lt){F.$.useDeprecatedSynchronousErrorHandling?(0,pe.l)(lt):(0,Re.m)(lt)}function ct(lt,De){const{onStoppedNotification:Le}=F.$;Le&&Pe.f.setTimeout(()=>Le(lt,De))}const at={closed:!0,next:ue.l,error:function Qe(lt){throw lt},complete:ue.l}},8359:(vn,vt,L)=>{"use strict";L.d(vt,{Kn:()=>ge,yU:()=>ue,Uv:()=>Ce});var c=L(8071);const F=(0,L(1853).L)(et=>function(pe){et(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((Ge,Ke)=>`${Ke+1}) ${Ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe});var Re=L(7908);class ue{constructor(Pe){this.initialTeardown=Pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Pe;if(!this.closed){this.closed=!0;const{_parentage:pe}=this;if(pe)if(this._parentage=null,Array.isArray(pe))for(const qe of pe)qe.remove(this);else pe.remove(this);const{initialTeardown:Ge}=this;if((0,c.T)(Ge))try{Ge()}catch(qe){Pe=qe instanceof F?qe.errors:[qe]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const qe of Ke)try{ze(qe)}catch(it){Pe=null!=Pe?Pe:[],it instanceof F?Pe=[...Pe,...it.errors]:Pe.push(it)}}if(Pe)throw new F(Pe)}}add(Pe){var pe;if(Pe&&Pe!==this)if(this.closed)ze(Pe);else{if(Pe instanceof ue){if(Pe.closed||Pe._hasParent(this))return;Pe._addParent(this)}(this._finalizers=null!==(pe=this._finalizers)&&void 0!==pe?pe:[]).push(Pe)}}_hasParent(Pe){const{_parentage:pe}=this;return pe===Pe||Array.isArray(pe)&&pe.includes(Pe)}_addParent(Pe){const{_parentage:pe}=this;this._parentage=Array.isArray(pe)?(pe.push(Pe),pe):pe?[pe,Pe]:Pe}_removeParent(Pe){const{_parentage:pe}=this;pe===Pe?this._parentage=null:Array.isArray(pe)&&(0,Re.o)(pe,Pe)}remove(Pe){const{_finalizers:pe}=this;pe&&(0,Re.o)(pe,Pe),Pe instanceof ue&&Pe._removeParent(this)}}ue.EMPTY=(()=>{const et=new ue;return et.closed=!0,et})();const ge=ue.EMPTY;function Ce(et){return et instanceof ue||et&&"closed"in et&&(0,c.T)(et.remove)&&(0,c.T)(et.add)&&(0,c.T)(et.unsubscribe)}function ze(et){(0,c.T)(et)?et():et.unsubscribe()}},1026:(vn,vt,L)=>{"use strict";L.d(vt,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(vn,vt,L)=>{"use strict";L.d(vt,{z:()=>Pe});var c=L(1985),h=L(3073),F=L(8455),Re=L(3669),ue=L(6450),ge=L(3794),Ce=L(8496),ze=L(4360),et=L(5225);function Pe(...Ke){const qe=(0,ge.lI)(Ke),it=(0,ge.ms)(Ke),{args:ut,keys:Be}=(0,h.D)(Ke);if(0===ut.length)return(0,F.H)([],qe);const Qe=new c.c(function pe(Ke,qe,it=Re.D){return ut=>{Ge(qe,()=>{const{length:Be}=Ke,Qe=new Array(Be);let ct=Be,at=Be;for(let lt=0;lt<Be;lt++)Ge(qe,()=>{const De=(0,F.H)(Ke[lt],qe);let Le=!1;De.subscribe((0,ze._)(ut,nt=>{Qe[lt]=nt,Le||(Le=!0,at--),at||ut.next(it(Qe.slice()))},()=>{--ct||ut.complete()}))},ut)},ut)}}(ut,qe,Be?ct=>(0,Ce.e)(Be,ct):Re.D));return it?Qe.pipe((0,ue.I)(it)):Qe}function Ge(Ke,qe,it){Ke?(0,et.N)(it,Ke,qe):qe()}},8793:(vn,vt,L)=>{"use strict";L.d(vt,{x:()=>ue});var c=L(6365),F=L(3794),Re=L(8455);function ue(...ge){return function h(){return(0,c.U)(1)}()((0,Re.H)(ge,(0,F.lI)(ge)))}},983:(vn,vt,L)=>{"use strict";L.d(vt,{w:()=>h});const h=new(L(1985).c)(ue=>ue.complete())},8455:(vn,vt,L)=>{"use strict";L.d(vt,{H:()=>De});var c=L(8750),h=L(941),F=L(6745),ge=L(1985),ze=L(4761),et=L(8071),Pe=L(5225);function Ge(Le,nt){if(!Le)throw new Error("Iterable cannot be null");return new ge.c(_t=>{(0,Pe.N)(_t,nt,()=>{const xt=Le[Symbol.asyncIterator]();(0,Pe.N)(_t,nt,()=>{xt.next().then(Ie=>{Ie.done?_t.complete():_t.next(Ie.value)})},0,!0)})})}var Ke=L(5055),qe=L(9858),it=L(7441),ut=L(5397),Be=L(7953),Qe=L(591),ct=L(5196);function De(Le,nt){return nt?function lt(Le,nt){if(null!=Le){if((0,Ke.l)(Le))return function Re(Le,nt){return(0,c.Tg)(Le).pipe((0,F._)(nt),(0,h.Q)(nt))}(Le,nt);if((0,it.X)(Le))return function Ce(Le,nt){return new ge.c(_t=>{let xt=0;return nt.schedule(function(){xt===Le.length?_t.complete():(_t.next(Le[xt++]),_t.closed||this.schedule())})})}(Le,nt);if((0,qe.y)(Le))return function ue(Le,nt){return(0,c.Tg)(Le).pipe((0,F._)(nt),(0,h.Q)(nt))}(Le,nt);if((0,Be.T)(Le))return Ge(Le,nt);if((0,ut.x)(Le))return function pe(Le,nt){return new ge.c(_t=>{let xt;return(0,Pe.N)(_t,nt,()=>{xt=Le[ze.l](),(0,Pe.N)(_t,nt,()=>{let Ie,At;try{({value:Ie,done:At}=xt.next())}catch(Vt){return void _t.error(Vt)}At?_t.complete():_t.next(Ie)},0,!0)}),()=>(0,et.T)(null==xt?void 0:xt.return)&&xt.return()})}(Le,nt);if((0,ct.U)(Le))return function at(Le,nt){return Ge((0,ct.C)(Le),nt)}(Le,nt)}throw(0,Qe.L)(Le)}(Le,nt):(0,c.Tg)(Le)}},3726:(vn,vt,L)=>{"use strict";L.d(vt,{R:()=>Pe});var c=L(8750),h=L(1985),F=L(1397),Re=L(7441),ue=L(8071),ge=L(6450);const Ce=["addListener","removeListener"],ze=["addEventListener","removeEventListener"],et=["on","off"];function Pe(it,ut,Be,Qe){if((0,ue.T)(Be)&&(Qe=Be,Be=void 0),Qe)return Pe(it,ut,Be).pipe((0,ge.I)(Qe));const[ct,at]=function qe(it){return(0,ue.T)(it.addEventListener)&&(0,ue.T)(it.removeEventListener)}(it)?ze.map(lt=>De=>it[lt](ut,De,Be)):function Ge(it){return(0,ue.T)(it.addListener)&&(0,ue.T)(it.removeListener)}(it)?Ce.map(pe(it,ut)):function Ke(it){return(0,ue.T)(it.on)&&(0,ue.T)(it.off)}(it)?et.map(pe(it,ut)):[];if(!ct&&(0,Re.X)(it))return(0,F.Z)(lt=>Pe(lt,ut,Be))((0,c.Tg)(it));if(!ct)throw new TypeError("Invalid event target");return new h.c(lt=>{const De=(...Le)=>lt.next(1<Le.length?Le:Le[0]);return ct(De),()=>at(De)})}function pe(it,ut){return Be=>Qe=>it[Be](ut,Qe)}},8750:(vn,vt,L)=>{"use strict";L.d(vt,{Tg:()=>Ke});var c=L(1635),h=L(7441),F=L(9858),Re=L(1985),ue=L(5055),ge=L(7953),Ce=L(591),ze=L(5397),et=L(5196),Pe=L(8071),pe=L(5334),Ge=L(3494);function Ke(lt){if(lt instanceof Re.c)return lt;if(null!=lt){if((0,ue.l)(lt))return function qe(lt){return new Re.c(De=>{const Le=lt[Ge.s]();if((0,Pe.T)(Le.subscribe))return Le.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(lt);if((0,h.X)(lt))return function it(lt){return new Re.c(De=>{for(let Le=0;Le<lt.length&&!De.closed;Le++)De.next(lt[Le]);De.complete()})}(lt);if((0,F.y)(lt))return function ut(lt){return new Re.c(De=>{lt.then(Le=>{De.closed||(De.next(Le),De.complete())},Le=>De.error(Le)).then(null,pe.m)})}(lt);if((0,ge.T)(lt))return Qe(lt);if((0,ze.x)(lt))return function Be(lt){return new Re.c(De=>{for(const Le of lt)if(De.next(Le),De.closed)return;De.complete()})}(lt);if((0,et.U)(lt))return function ct(lt){return Qe((0,et.C)(lt))}(lt)}throw(0,Ce.L)(lt)}function Qe(lt){return new Re.c(De=>{(function at(lt,De){var Le,nt,_t,xt;return(0,c.sH)(this,void 0,void 0,function*(){try{for(Le=(0,c.xN)(lt);!(nt=yield Le.next()).done;)if(De.next(nt.value),De.closed)return}catch(Ie){_t={error:Ie}}finally{try{nt&&!nt.done&&(xt=Le.return)&&(yield xt.call(Le))}finally{if(_t)throw _t.error}}De.complete()})})(lt,De).catch(Le=>De.error(Le))})}},7673:(vn,vt,L)=>{"use strict";L.d(vt,{of:()=>F});var c=L(3794),h=L(8455);function F(...Re){const ue=(0,c.lI)(Re);return(0,h.H)(Re,ue)}},4360:(vn,vt,L)=>{"use strict";L.d(vt,{_:()=>h});var c=L(7707);function h(Re,ue,ge,Ce,ze){return new F(Re,ue,ge,Ce,ze)}class F extends c.vU{constructor(ue,ge,Ce,ze,et,Pe){super(ue),this.onFinalize=et,this.shouldUnsubscribe=Pe,this._next=ge?function(pe){try{ge(pe)}catch(Ge){ue.error(Ge)}}:super._next,this._error=ze?function(pe){try{ze(pe)}catch(Ge){ue.error(Ge)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(pe){ue.error(pe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},9901:(vn,vt,L)=>{"use strict";L.d(vt,{U:()=>F});var c=L(9974),h=L(4360);function F(Re){return(0,c.N)((ue,ge)=>{let Ce=!1;ue.subscribe((0,h._)(ge,ze=>{Ce=!0,ge.next(ze)},()=>{Ce||ge.next(Re),ge.complete()}))})}},3294:(vn,vt,L)=>{"use strict";L.d(vt,{F:()=>Re});var c=L(3669),h=L(9974),F=L(4360);function Re(ge,Ce=c.D){return ge=null!=ge?ge:ue,(0,h.N)((ze,et)=>{let Pe,pe=!0;ze.subscribe((0,F._)(et,Ge=>{const Ke=Ce(Ge);(pe||!ge(Pe,Ke))&&(pe=!1,Pe=Ke,et.next(Ge))}))})}function ue(ge,Ce){return ge===Ce}},5964:(vn,vt,L)=>{"use strict";L.d(vt,{p:()=>F});var c=L(9974),h=L(4360);function F(Re,ue){return(0,c.N)((ge,Ce)=>{let ze=0;ge.subscribe((0,h._)(Ce,et=>Re.call(ue,et,ze++)&&Ce.next(et)))})}},1594:(vn,vt,L)=>{"use strict";L.d(vt,{$:()=>Ce});var c=L(9350),h=L(5964),F=L(6697),Re=L(9901),ue=L(3774),ge=L(3669);function Ce(ze,et){const Pe=arguments.length>=2;return pe=>pe.pipe(ze?(0,h.p)((Ge,Ke)=>ze(Ge,Ke,pe)):ge.D,(0,F.s)(1),Pe?(0,Re.U)(et):(0,ue.v)(()=>new c.G))}},6354:(vn,vt,L)=>{"use strict";L.d(vt,{T:()=>F});var c=L(9974),h=L(4360);function F(Re,ue){return(0,c.N)((ge,Ce)=>{let ze=0;ge.subscribe((0,h._)(Ce,et=>{Ce.next(Re.call(ue,et,ze++))}))})}},6365:(vn,vt,L)=>{"use strict";L.d(vt,{U:()=>F});var c=L(1397),h=L(3669);function F(Re=1/0){return(0,c.Z)(h.D,Re)}},1397:(vn,vt,L)=>{"use strict";L.d(vt,{Z:()=>ze});var c=L(6354),h=L(8750),F=L(9974),Re=L(5225),ue=L(4360),Ce=L(8071);function ze(et,Pe,pe=1/0){return(0,Ce.T)(Pe)?ze((Ge,Ke)=>(0,c.T)((qe,it)=>Pe(Ge,qe,Ke,it))((0,h.Tg)(et(Ge,Ke))),pe):("number"==typeof Pe&&(pe=Pe),(0,F.N)((Ge,Ke)=>function ge(et,Pe,pe,Ge,Ke,qe,it,ut){const Be=[];let Qe=0,ct=0,at=!1;const lt=()=>{at&&!Be.length&&!Qe&&Pe.complete()},De=nt=>Qe<Ge?Le(nt):Be.push(nt),Le=nt=>{qe&&Pe.next(nt),Qe++;let _t=!1;(0,h.Tg)(pe(nt,ct++)).subscribe((0,ue._)(Pe,xt=>{null==Ke||Ke(xt),qe?De(xt):Pe.next(xt)},()=>{_t=!0},void 0,()=>{if(_t)try{for(Qe--;Be.length&&Qe<Ge;){const xt=Be.shift();it?(0,Re.N)(Pe,it,()=>Le(xt)):Le(xt)}lt()}catch(xt){Pe.error(xt)}}))};return et.subscribe((0,ue._)(Pe,De,()=>{at=!0,lt()})),()=>{null==ut||ut()}}(Ge,Ke,et,pe)))}},941:(vn,vt,L)=>{"use strict";L.d(vt,{Q:()=>Re});var c=L(5225),h=L(9974),F=L(4360);function Re(ue,ge=0){return(0,h.N)((Ce,ze)=>{Ce.subscribe((0,F._)(ze,et=>(0,c.N)(ze,ue,()=>ze.next(et),ge),()=>(0,c.N)(ze,ue,()=>ze.complete(),ge),et=>(0,c.N)(ze,ue,()=>ze.error(et),ge)))})}},2816:(vn,vt,L)=>{"use strict";L.d(vt,{S:()=>Re});var c=L(9974),h=L(4360);function Re(ue,ge){return(0,c.N)(function F(ue,ge,Ce,ze,et){return(Pe,pe)=>{let Ge=Ce,Ke=ge,qe=0;Pe.subscribe((0,h._)(pe,it=>{const ut=qe++;Ke=Ge?ue(Ke,it,ut):(Ge=!0,it),ze&&pe.next(Ke)},et&&(()=>{Ge&&pe.next(Ke),pe.complete()})))}}(ue,ge,arguments.length>=2,!0))}},9172:(vn,vt,L)=>{"use strict";L.d(vt,{Z:()=>Re});var c=L(8793),h=L(3794),F=L(9974);function Re(...ue){const ge=(0,h.lI)(ue);return(0,F.N)((Ce,ze)=>{(ge?(0,c.x)(ue,Ce,ge):(0,c.x)(ue,Ce)).subscribe(ze)})}},6745:(vn,vt,L)=>{"use strict";L.d(vt,{_:()=>h});var c=L(9974);function h(F,Re=0){return(0,c.N)((ue,ge)=>{ge.add(F.schedule(()=>ue.subscribe(ge),Re))})}},5558:(vn,vt,L)=>{"use strict";L.d(vt,{n:()=>Re});var c=L(8750),h=L(9974),F=L(4360);function Re(ue,ge){return(0,h.N)((Ce,ze)=>{let et=null,Pe=0,pe=!1;const Ge=()=>pe&&!et&&ze.complete();Ce.subscribe((0,F._)(ze,Ke=>{null==et||et.unsubscribe();let qe=0;const it=Pe++;(0,c.Tg)(ue(Ke,it)).subscribe(et=(0,F._)(ze,ut=>ze.next(ge?ge(Ke,ut,it,qe++):ut),()=>{et=null,Ge()}))},()=>{pe=!0,Ge()}))})}},6697:(vn,vt,L)=>{"use strict";L.d(vt,{s:()=>Re});var c=L(983),h=L(9974),F=L(4360);function Re(ue){return ue<=0?()=>c.w:(0,h.N)((ge,Ce)=>{let ze=0;ge.subscribe((0,F._)(Ce,et=>{++ze<=ue&&(Ce.next(et),ue<=ze&&Ce.complete())}))})}},8141:(vn,vt,L)=>{"use strict";L.d(vt,{M:()=>ue});var c=L(8071),h=L(9974),F=L(4360),Re=L(3669);function ue(ge,Ce,ze){const et=(0,c.T)(ge)||Ce||ze?{next:ge,error:Ce,complete:ze}:ge;return et?(0,h.N)((Pe,pe)=>{var Ge;null===(Ge=et.subscribe)||void 0===Ge||Ge.call(et);let Ke=!0;Pe.subscribe((0,F._)(pe,qe=>{var it;null===(it=et.next)||void 0===it||it.call(et,qe),pe.next(qe)},()=>{var qe;Ke=!1,null===(qe=et.complete)||void 0===qe||qe.call(et),pe.complete()},qe=>{var it;Ke=!1,null===(it=et.error)||void 0===it||it.call(et,qe),pe.error(qe)},()=>{var qe,it;Ke&&(null===(qe=et.unsubscribe)||void 0===qe||qe.call(et)),null===(it=et.finalize)||void 0===it||it.call(et)}))}):Re.D}},3774:(vn,vt,L)=>{"use strict";L.d(vt,{v:()=>Re});var c=L(9350),h=L(9974),F=L(4360);function Re(ge=ue){return(0,h.N)((Ce,ze)=>{let et=!1;Ce.subscribe((0,F._)(ze,Pe=>{et=!0,ze.next(Pe)},()=>et?ze.complete():ze.error(ge())))})}function ue(){return new c.G}},6780:(vn,vt,L)=>{"use strict";L.d(vt,{R:()=>ue});var c=L(8359);class h extends c.yU{constructor(Ce,ze){super()}schedule(Ce,ze=0){return this}}const F={setInterval(ge,Ce,...ze){const{delegate:et}=F;return null!=et&&et.setInterval?et.setInterval(ge,Ce,...ze):setInterval(ge,Ce,...ze)},clearInterval(ge){const{delegate:Ce}=F;return((null==Ce?void 0:Ce.clearInterval)||clearInterval)(ge)},delegate:void 0};var Re=L(7908);class ue extends h{constructor(Ce,ze){super(Ce,ze),this.scheduler=Ce,this.work=ze,this.pending=!1}schedule(Ce,ze=0){var et;if(this.closed)return this;this.state=Ce;const Pe=this.id,pe=this.scheduler;return null!=Pe&&(this.id=this.recycleAsyncId(pe,Pe,ze)),this.pending=!0,this.delay=ze,this.id=null!==(et=this.id)&&void 0!==et?et:this.requestAsyncId(pe,this.id,ze),this}requestAsyncId(Ce,ze,et=0){return F.setInterval(Ce.flush.bind(Ce,this),et)}recycleAsyncId(Ce,ze,et=0){if(null!=et&&this.delay===et&&!1===this.pending)return ze;null!=ze&&F.clearInterval(ze)}execute(Ce,ze){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const et=this._execute(Ce,ze);if(et)return et;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ce,ze){let Pe,et=!1;try{this.work(Ce)}catch(pe){et=!0,Pe=pe||new Error("Scheduled action threw falsy error")}if(et)return this.unsubscribe(),Pe}unsubscribe(){if(!this.closed){const{id:Ce,scheduler:ze}=this,{actions:et}=ze;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Re.o)(et,this),null!=Ce&&(this.id=this.recycleAsyncId(ze,Ce,null)),this.delay=null,super.unsubscribe()}}}},9687:(vn,vt,L)=>{"use strict";L.d(vt,{q:()=>F});var c=L(6129);class h{constructor(ue,ge=h.now){this.schedulerActionCtor=ue,this.now=ge}schedule(ue,ge=0,Ce){return new this.schedulerActionCtor(this,ue).schedule(Ce,ge)}}h.now=c.U.now;class F extends h{constructor(ue,ge=h.now){super(ue,ge),this.actions=[],this._active=!1}flush(ue){const{actions:ge}=this;if(this._active)return void ge.push(ue);let Ce;this._active=!0;do{if(Ce=ue.execute(ue.state,ue.delay))break}while(ue=ge.shift());if(this._active=!1,Ce){for(;ue=ge.shift();)ue.unsubscribe();throw Ce}}}},3236:(vn,vt,L)=>{"use strict";L.d(vt,{E:()=>F});var c=L(6780);const F=new(L(9687).q)(c.R)},6129:(vn,vt,L)=>{"use strict";L.d(vt,{U:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},9270:(vn,vt,L)=>{"use strict";L.d(vt,{f:()=>c});const c={setTimeout(h,F,...Re){const{delegate:ue}=c;return null!=ue&&ue.setTimeout?ue.setTimeout(h,F,...Re):setTimeout(h,F,...Re)},clearTimeout(h){const{delegate:F}=c;return((null==F?void 0:F.clearTimeout)||clearTimeout)(h)},delegate:void 0}},4761:(vn,vt,L)=>{"use strict";L.d(vt,{l:()=>h});const h=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(vn,vt,L)=>{"use strict";L.d(vt,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(vn,vt,L)=>{"use strict";L.d(vt,{G:()=>h});const h=(0,L(1853).L)(F=>function(){F(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(vn,vt,L)=>{"use strict";L.d(vt,{R0:()=>ge,ms:()=>Re,lI:()=>ue});var c=L(8071);function F(Ce){return Ce[Ce.length-1]}function Re(Ce){return(0,c.T)(F(Ce))?Ce.pop():void 0}function ue(Ce){return function h(Ce){return Ce&&(0,c.T)(Ce.schedule)}(F(Ce))?Ce.pop():void 0}function ge(Ce,ze){return"number"==typeof F(Ce)?Ce.pop():ze}},3073:(vn,vt,L)=>{"use strict";L.d(vt,{D:()=>ue});const{isArray:c}=Array,{getPrototypeOf:h,prototype:F,keys:Re}=Object;function ue(Ce){if(1===Ce.length){const ze=Ce[0];if(c(ze))return{args:ze,keys:null};if(function ge(Ce){return Ce&&"object"==typeof Ce&&h(Ce)===F}(ze)){const et=Re(ze);return{args:et.map(Pe=>ze[Pe]),keys:et}}}return{args:Ce,keys:null}}},7908:(vn,vt,L)=>{"use strict";function c(h,F){if(h){const Re=h.indexOf(F);0<=Re&&h.splice(Re,1)}}L.d(vt,{o:()=>c})},1853:(vn,vt,L)=>{"use strict";function c(h){const Re=h(ue=>{Error.call(ue),ue.stack=(new Error).stack});return Re.prototype=Object.create(Error.prototype),Re.prototype.constructor=Re,Re}L.d(vt,{L:()=>c})},8496:(vn,vt,L)=>{"use strict";function c(h,F){return h.reduce((Re,ue,ge)=>(Re[ue]=F[ge],Re),{})}L.d(vt,{e:()=>c})},9786:(vn,vt,L)=>{"use strict";L.d(vt,{Y:()=>F,l:()=>Re});var c=L(1026);let h=null;function F(ue){if(c.$.useDeprecatedSynchronousErrorHandling){const ge=!h;if(ge&&(h={errorThrown:!1,error:null}),ue(),ge){const{errorThrown:Ce,error:ze}=h;if(h=null,Ce)throw ze}}else ue()}function Re(ue){c.$.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=ue)}},5225:(vn,vt,L)=>{"use strict";function c(h,F,Re,ue=0,ge=!1){const Ce=F.schedule(function(){Re(),ge?h.add(this.schedule(null,ue)):this.unsubscribe()},ue);if(h.add(Ce),!ge)return Ce}L.d(vt,{N:()=>c})},3669:(vn,vt,L)=>{"use strict";function c(h){return h}L.d(vt,{D:()=>c})},7441:(vn,vt,L)=>{"use strict";L.d(vt,{X:()=>c});const c=h=>h&&"number"==typeof h.length&&"function"!=typeof h},7953:(vn,vt,L)=>{"use strict";L.d(vt,{T:()=>h});var c=L(8071);function h(F){return Symbol.asyncIterator&&(0,c.T)(null==F?void 0:F[Symbol.asyncIterator])}},8071:(vn,vt,L)=>{"use strict";function c(h){return"function"==typeof h}L.d(vt,{T:()=>c})},5055:(vn,vt,L)=>{"use strict";L.d(vt,{l:()=>F});var c=L(3494),h=L(8071);function F(Re){return(0,h.T)(Re[c.s])}},5397:(vn,vt,L)=>{"use strict";L.d(vt,{x:()=>F});var c=L(4761),h=L(8071);function F(Re){return(0,h.T)(null==Re?void 0:Re[c.l])}},9858:(vn,vt,L)=>{"use strict";L.d(vt,{y:()=>h});var c=L(8071);function h(F){return(0,c.T)(null==F?void 0:F.then)}},5196:(vn,vt,L)=>{"use strict";L.d(vt,{C:()=>F,U:()=>Re});var c=L(1635),h=L(8071);function F(ue){return(0,c.AQ)(this,arguments,function*(){const Ce=ue.getReader();try{for(;;){const{value:ze,done:et}=yield(0,c.N3)(Ce.read());if(et)return yield(0,c.N3)(void 0);yield yield(0,c.N3)(ze)}}finally{Ce.releaseLock()}})}function Re(ue){return(0,h.T)(null==ue?void 0:ue.getReader)}},9974:(vn,vt,L)=>{"use strict";L.d(vt,{N:()=>F,S:()=>h});var c=L(8071);function h(Re){return(0,c.T)(null==Re?void 0:Re.lift)}function F(Re){return ue=>{if(h(ue))return ue.lift(function(ge){try{return Re(ge,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(vn,vt,L)=>{"use strict";L.d(vt,{I:()=>Re});var c=L(6354);const{isArray:h}=Array;function Re(ue){return(0,c.T)(ge=>function F(ue,ge){return h(ge)?ue(...ge):ue(ge)}(ue,ge))}},5343:(vn,vt,L)=>{"use strict";function c(){}L.d(vt,{l:()=>c})},1203:(vn,vt,L)=>{"use strict";L.d(vt,{F:()=>h,m:()=>F});var c=L(3669);function h(...Re){return F(Re)}function F(Re){return 0===Re.length?c.D:1===Re.length?Re[0]:function(ge){return Re.reduce((Ce,ze)=>ze(Ce),ge)}}},5334:(vn,vt,L)=>{"use strict";L.d(vt,{m:()=>F});var c=L(1026),h=L(9270);function F(Re){h.f.setTimeout(()=>{const{onUnhandledError:ue}=c.$;if(!ue)throw Re;ue(Re)})}},591:(vn,vt,L)=>{"use strict";function c(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(vt,{L:()=>c})},8996:(vn,vt,L)=>{var c={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function h(F){if(!L.o(c,F))return Promise.resolve().then(()=>{var ge=new Error("Cannot find module '"+F+"'");throw ge.code="MODULE_NOT_FOUND",ge});var Re=c[F],ue=Re[0];return Promise.all(Re.slice(1).map(L.e)).then(()=>L(ue))}h.keys=()=>Object.keys(c),h.id=8996,vn.exports=h},5235:(vn,vt,L)=>{var c={"./pwa-action-sheet.entry.js":[6301,6301],"./pwa-camera-modal-instance.entry.js":[5640,5640],"./pwa-camera-modal.entry.js":[2982,2982],"./pwa-camera.entry.js":[6086,6086],"./pwa-toast.entry.js":[3574,3574]};function h(F){if(!L.o(c,F))return Promise.resolve().then(()=>{var ge=new Error("Cannot find module '"+F+"'");throw ge.code="MODULE_NOT_FOUND",ge});var Re=c[F],ue=Re[0];return L.e(Re[1]).then(()=>L(ue))}h.keys=()=>Object.keys(c),h.id=5235,vn.exports=h},177:(vn,vt,L)=>{"use strict";L.d(vt,{AJ:()=>Yt,MD:()=>st,N0:()=>jr,QT:()=>F,Sm:()=>ut,Sq:()=>Nn,T3:()=>Go,VF:()=>ue,Vy:()=>tn,Xr:()=>Fn,ZD:()=>Re,_b:()=>te,aZ:()=>Qe,bT:()=>ai,fw:()=>Be,hb:()=>qe,hj:()=>et,qQ:()=>Ce});var c=L(4438);let h=null;function F(){return h}function Re(b){var z;null!==(z=h)&&void 0!==z||(h=b)}class ue{}const Ce=new c.nKC("");let ze=(()=>{var b;class z{historyGo(B){throw new Error("")}}return(b=z).\u0275fac=function(B){return new(B||b)},b.\u0275prov=c.jDH({token:b,factory:()=>(0,c.WQX)(Pe),providedIn:"platform"}),z})();const et=new c.nKC("");let Pe=(()=>{var b;class z extends ze{constructor(){super(),this._doc=(0,c.WQX)(Ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(B){const he=F().getGlobalEventTarget(this._doc,"window");return he.addEventListener("popstate",B,!1),()=>he.removeEventListener("popstate",B)}onHashChange(B){const he=F().getGlobalEventTarget(this._doc,"window");return he.addEventListener("hashchange",B,!1),()=>he.removeEventListener("hashchange",B)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(B){this._location.pathname=B}pushState(B,he,je){this._history.pushState(B,he,je)}replaceState(B,he,je){this._history.replaceState(B,he,je)}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return(b=z).\u0275fac=function(B){return new(B||b)},b.\u0275prov=c.jDH({token:b,factory:()=>new b,providedIn:"platform"}),z})();function pe(b,z){if(0==b.length)return z;if(0==z.length)return b;let Oe=0;return b.endsWith("/")&&Oe++,z.startsWith("/")&&Oe++,2==Oe?b+z.substring(1):1==Oe?b+z:b+"/"+z}function Ge(b){const z=b.match(/#|\?|$/),Oe=z&&z.index||b.length;return b.slice(0,Oe-("/"===b[Oe-1]?1:0))+b.slice(Oe)}function Ke(b){return b&&"?"!==b[0]?"?"+b:b}let qe=(()=>{var b;class z{historyGo(B){throw new Error("")}}return(b=z).\u0275fac=function(B){return new(B||b)},b.\u0275prov=c.jDH({token:b,factory:()=>(0,c.WQX)(ut),providedIn:"root"}),z})();const it=new c.nKC("");let ut=(()=>{var b;class z extends qe{constructor(B,he){var je,Ht,cn;super(),this._platformLocation=B,this._removeListenerFns=[],this._baseHref=null!==(je=null!==(Ht=null!=he?he:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Ht?Ht:null===(cn=(0,c.WQX)(Ce).location)||void 0===cn?void 0:cn.origin)&&void 0!==je?je:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return pe(this._baseHref,B)}path(B=!1){const he=this._platformLocation.pathname+Ke(this._platformLocation.search),je=this._platformLocation.hash;return je&&B?`${he}${je}`:he}pushState(B,he,je,Ht){const cn=this.prepareExternalUrl(je+Ke(Ht));this._platformLocation.pushState(B,he,cn)}replaceState(B,he,je,Ht){const cn=this.prepareExternalUrl(je+Ke(Ht));this._platformLocation.replaceState(B,he,cn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){var he,je;null===(he=(je=this._platformLocation).historyGo)||void 0===he||he.call(je,B)}}return(b=z).\u0275fac=function(B){return new(B||b)(c.KVO(ze),c.KVO(it,8))},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),z})(),Be=(()=>{var b;class z extends qe{constructor(B,he){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=he&&(this._baseHref=he)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){var he;const je=null!==(he=this._platformLocation.hash)&&void 0!==he?he:"#";return je.length>0?je.substring(1):je}prepareExternalUrl(B){const he=pe(this._baseHref,B);return he.length>0?"#"+he:he}pushState(B,he,je,Ht){let cn=this.prepareExternalUrl(je+Ke(Ht));0==cn.length&&(cn=this._platformLocation.pathname),this._platformLocation.pushState(B,he,cn)}replaceState(B,he,je,Ht){let cn=this.prepareExternalUrl(je+Ke(Ht));0==cn.length&&(cn=this._platformLocation.pathname),this._platformLocation.replaceState(B,he,cn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(B=0){var he,je;null===(he=(je=this._platformLocation).historyGo)||void 0===he||he.call(je,B)}}return(b=z).\u0275fac=function(B){return new(B||b)(c.KVO(ze),c.KVO(it,8))},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac}),z})(),Qe=(()=>{var b;class z{constructor(B){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=B;const he=this._locationStrategy.getBaseHref();this._basePath=function De(b){if(new RegExp("^(https?:)?//").test(b)){const[,Oe]=b.split(/\/\/[^\/]+/);return Oe}return b}(Ge(lt(he))),this._locationStrategy.onPopState(je=>{this._subject.emit({url:this.path(!0),pop:!0,state:je.state,type:je.type})})}ngOnDestroy(){var B;null===(B=this._urlChangeSubscription)||void 0===B||B.unsubscribe(),this._urlChangeListeners=[]}path(B=!1){return this.normalize(this._locationStrategy.path(B))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(B,he=""){return this.path()==this.normalize(B+Ke(he))}normalize(B){return z.stripTrailingSlash(function at(b,z){if(!b||!z.startsWith(b))return z;const Oe=z.substring(b.length);return""===Oe||["/",";","?","#"].includes(Oe[0])?Oe:z}(this._basePath,lt(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._locationStrategy.prepareExternalUrl(B)}go(B,he="",je=null){this._locationStrategy.pushState(je,"",B,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Ke(he)),je)}replaceState(B,he="",je=null){this._locationStrategy.replaceState(je,"",B,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Ke(he)),je)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(B=0){var he,je;null===(he=(je=this._locationStrategy).historyGo)||void 0===he||he.call(je,B)}onUrlChange(B){var he;return this._urlChangeListeners.push(B),null!==(he=this._urlChangeSubscription)&&void 0!==he||(this._urlChangeSubscription=this.subscribe(je=>{this._notifyUrlChangeListeners(je.url,je.state)})),()=>{const je=this._urlChangeListeners.indexOf(B);var Ht;this._urlChangeListeners.splice(je,1),0===this._urlChangeListeners.length&&(null===(Ht=this._urlChangeSubscription)||void 0===Ht||Ht.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(B="",he){this._urlChangeListeners.forEach(je=>je(B,he))}subscribe(B,he,je){return this._subject.subscribe({next:B,error:he,complete:je})}}return(b=z).normalizeQueryParams=Ke,b.joinWithSlash=pe,b.stripTrailingSlash=Ge,b.\u0275fac=function(B){return new(B||b)(c.KVO(qe))},b.\u0275prov=c.jDH({token:b,factory:()=>function ct(){return new Qe((0,c.KVO)(qe))}(),providedIn:"root"}),z})();function lt(b){return b.replace(/\/index.html$/,"")}function te(b,z){z=encodeURIComponent(z);for(const Oe of b.split(";")){const B=Oe.indexOf("="),[he,je]=-1==B?[Oe,""]:[Oe.slice(0,B),Oe.slice(B+1)];if(he.trim()===z)return decodeURIComponent(je)}return null}class gr{constructor(z,Oe,B,he){this.$implicit=z,this.ngForOf=Oe,this.index=B,this.count=he}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nn=(()=>{var b;class z{set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}constructor(B,he,je){this._viewContainer=B,this._template=he,this._differs=je,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;!this._differ&&B&&(this._differ=this._differs.find(B).create(this.ngForTrackBy))}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const he=this._viewContainer;B.forEachOperation((je,Ht,cn)=>{if(null==je.previousIndex)he.createEmbeddedView(this._template,new gr(je.item,this._ngForOf,-1,-1),null===cn?void 0:cn);else if(null==cn)he.remove(null===Ht?void 0:Ht);else if(null!==Ht){const mr=he.get(Ht);he.move(mr,cn),si(mr,je)}});for(let je=0,Ht=he.length;je<Ht;je++){const mr=he.get(je).context;mr.index=je,mr.count=Ht,mr.ngForOf=this._ngForOf}B.forEachIdentityChange(je=>{si(he.get(je.currentIndex),je)})}static ngTemplateContextGuard(B,he){return!0}}return(b=z).\u0275fac=function(B){return new(B||b)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(c._q3))},b.\u0275dir=c.FsC({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),z})();function si(b,z){b.context.$implicit=z.item}let ai=(()=>{var b;class z{constructor(B,he){this._viewContainer=B,this._context=new ei,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=he}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){Wi("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){Wi("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,he){return!0}}return(b=z).\u0275fac=function(B){return new(B||b)(c.rXU(c.c1b),c.rXU(c.C4Q))},b.\u0275dir=c.FsC({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),z})();class ei{constructor(){this.$implicit=null,this.ngIf=null}}function Wi(b,z){if(z&&!z.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,c.Tbb)(z)}'.`)}let Go=(()=>{var b;class z{constructor(B){this._viewContainerRef=B,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(B){if(this._shouldRecreateView(B)){var he;const je=this._viewContainerRef;if(this._viewRef&&je.remove(je.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Ht=this._createContextForwardProxy();this._viewRef=je.createEmbeddedView(this.ngTemplateOutlet,Ht,{injector:null!==(he=this.ngTemplateOutletInjector)&&void 0!==he?he:void 0})}}_shouldRecreateView(B){return!!B.ngTemplateOutlet||!!B.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(B,he,je)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,he,je),get:(B,he,je)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,he,je)}})}}return(b=z).\u0275fac=function(B){return new(B||b)(c.rXU(c.c1b))},b.\u0275dir=c.FsC({type:b,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.OA$]}),z})(),st=(()=>{var b;class z{}return(b=z).\u0275fac=function(B){return new(B||b)},b.\u0275mod=c.$C({type:b}),b.\u0275inj=c.G2t({}),z})();const Yt="browser",wt="server";function tn(b){return b===wt}let Fn=(()=>{var b;class z{}return(b=z).\u0275prov=(0,c.jDH)({token:b,providedIn:"root",factory:()=>function qt(b){return b===Yt}((0,c.WQX)(c.Agw))?new jn((0,c.WQX)(Ce),window):new kr}),z})();class jn{constructor(z,Oe){this.document=z,this.window=Oe,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(z){this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){const Oe=function Un(b,z){const Oe=b.getElementById(z)||b.getElementsByName(z)[0];if(Oe)return Oe;if("function"==typeof b.createTreeWalker&&b.body&&"function"==typeof b.body.attachShadow){const B=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let he=B.currentNode;for(;he;){const je=he.shadowRoot;if(je){const Ht=je.getElementById(z)||je.querySelector(`[name="${z}"]`);if(Ht)return Ht}he=B.nextNode()}}return null}(this.document,z);Oe&&(this.scrollToElement(Oe),Oe.focus())}setHistoryScrollRestoration(z){this.window.history.scrollRestoration=z}scrollToElement(z){const Oe=z.getBoundingClientRect(),B=Oe.left+this.window.pageXOffset,he=Oe.top+this.window.pageYOffset,je=this.offset();this.window.scrollTo(B-je[0],he-je[1])}}class kr{setOffset(z){}getScrollPosition(){return[0,0]}scrollToPosition(z){}scrollToAnchor(z){}setHistoryScrollRestoration(z){}}class jr{}},4438:(vn,vt,L)=>{"use strict";function c(e,n){return Object.is(e,n)}L.d(vt,{iLQ:()=>UE,sZ2:()=>Op,hnV:()=>MS,Hbi:()=>Lx,o8S:()=>ac,BIS:()=>Zm,gRc:()=>KS,Ql9:()=>sx,Ocv:()=>fx,Z63:()=>Mi,aKT:()=>jh,uvJ:()=>bo,zcH:()=>sa,bkB:()=>zs,$GK:()=>Rr,nKC:()=>Nn,zZn:()=>Ri,_q3:()=>ab,MKu:()=>lb,xe9:()=>tb,Co$:()=>ZI,Vns:()=>zc,SKi:()=>Ci,Xx1:()=>jr,Agw:()=>Nd,PLl:()=>kp,sFG:()=>wC,_9s:()=>AI,czy:()=>rf,kdw:()=>Yr,C4Q:()=>yg,NYb:()=>JM,giA:()=>RS,xvI:()=>wM,RxE:()=>AS,c1b:()=>Yu,gXe:()=>Oi,mal:()=>O_,L39:()=>pN,EWP:()=>mN,a0P:()=>CN,Ol2:()=>M_,w6W:()=>JI,oH4:()=>HS,Rfq:()=>ot,WQX:()=>wt,naY:()=>Ax,QuC:()=>us,fpN:()=>Fx,HJs:()=>TN,N4e:()=>Cu,vPA:()=>$I,O8t:()=>vN,H3F:()=>CS,H8p:()=>Cl,KH2:()=>Kt,TgB:()=>wc,wOt:()=>Bt,WHO:()=>wS,e01:()=>SS,H5H:()=>_,mq5:()=>Z,JZv:()=>or,LfX:()=>J,plB:()=>Xu,jNT:()=>YT,zjR:()=>PS,TL$:()=>hA,Tbb:()=>rr,Vt3:()=>D_,GFd:()=>YI,OA$:()=>Ii,Jv_:()=>Zw,aNF:()=>Jw,R7$:()=>Fv,BMQ:()=>qc,AVh:()=>im,wni:()=>Tw,VBU:()=>Ui,FsC:()=>Or,jDH:()=>Ar,G2t:()=>H,$C:()=>Ys,EJ8:()=>Zr,rXU:()=>Qd,nrm:()=>td,eu8:()=>vm,bVm:()=>nd,qex:()=>Jf,k0s:()=>Zf,j41:()=>mm,RV6:()=>ay,xGo:()=>bm,KVO:()=>st,kS0:()=>Cd,QTQ:()=>L0,bIt:()=>OT,lsd:()=>ww,XpG:()=>hw,SdG:()=>pw,NAR:()=>fw,Y8G:()=>Gf,mGM:()=>Dw,Njj:()=>Ha,eBV:()=>wh,B4B:()=>yv,n$t:()=>Hu,DNE:()=>jg,EFF:()=>Lw,JRh:()=>VT,GBs:()=>bw});let h=null,F=!1,Re=1;const ue=Symbol("SIGNAL");function ge(e){const n=h;return h=e,n}const Pe={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function pe(e){if(F)throw new Error("");if(null===h)return;h.consumerOnSignalRead(e);const n=h.nextProducerIndex++;nt(h),n<h.producerNode.length&&h.producerNode[n]!==e&&Le(h)&&De(h.producerNode[n],h.producerIndexOfThis[n]),h.producerNode[n]!==e&&(h.producerNode[n]=e,h.producerIndexOfThis[n]=Le(h)?lt(e,h,n):0),h.producerLastReadVersion[n]=e.version}function Ke(e){if((!Le(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Re)){if(!e.producerMustRecompute(e)&&!ct(e))return e.dirty=!1,void(e.lastCleanEpoch=Re);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Re}}function qe(e){if(void 0===e.liveConsumerNode)return;const n=F;F=!0;try{for(const i of e.liveConsumerNode)i.dirty||ut(i)}finally{F=n}}function it(){var e;return!1!==(null===(e=h)||void 0===e?void 0:e.consumerAllowSignalWrites)}function ut(e){var n;e.dirty=!0,qe(e),null===(n=e.consumerMarkedDirty)||void 0===n||n.call(e,e)}function Be(e){return e&&(e.nextProducerIndex=0),ge(e)}function Qe(e,n){if(ge(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Le(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)De(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function ct(e){nt(e);for(let n=0;n<e.producerNode.length;n++){const i=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==i.version||(Ke(i),o!==i.version))return!0}return!1}function at(e){if(nt(e),Le(e))for(let n=0;n<e.producerNode.length;n++)De(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function lt(e,n,i){if(_t(e),0===e.liveConsumerNode.length&&xt(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=lt(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(i),e.liveConsumerNode.push(n)-1}function De(e,n){if(_t(e),1===e.liveConsumerNode.length&&xt(e))for(let o=0;o<e.producerNode.length;o++)De(e.producerNode[o],e.producerIndexOfThis[o]);const i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[n],l=e.liveConsumerNode[n];nt(l),l.producerIndexOfThis[o]=n}}function Le(e){var n,i;return e.consumerIsAlwaysLive||(null!==(n=null==e||null===(i=e.liveConsumerNode)||void 0===i?void 0:i.length)&&void 0!==n?n:0)>0}function nt(e){var n,i,o;null!==(n=e.producerNode)&&void 0!==n||(e.producerNode=[]),null!==(i=e.producerIndexOfThis)&&void 0!==i||(e.producerIndexOfThis=[]),null!==(o=e.producerLastReadVersion)&&void 0!==o||(e.producerLastReadVersion=[])}function _t(e){var n,i;null!==(n=e.liveConsumerNode)&&void 0!==n||(e.liveConsumerNode=[]),null!==(i=e.liveConsumerIndexOfThis)&&void 0!==i||(e.liveConsumerIndexOfThis=[])}function xt(e){return void 0!==e.producerNode}const At=Symbol("UNSET"),Vt=Symbol("COMPUTING"),Qt=Symbol("ERRORED"),yn={...Pe,value:At,dirty:!0,error:null,equal:c,producerMustRecompute:e=>e.value===At||e.value===Vt,producerRecomputeValue(e){if(e.value===Vt)throw new Error("Detected cycle in computations.");const n=e.value;e.value=Vt;const i=Be(e);let o;try{o=e.computation()}catch(l){o=Qt,e.error=l}finally{Qe(e,i)}n!==At&&n!==Qt&&o!==Qt&&e.equal(n,o)?e.value=n:(e.value=o,e.version++)}};let Dn=function en(){throw new Error};function Et(){Dn()}let xe=null;function le(e,n){it()||Et(),e.equal(e.value,n)||(e.value=n,function He(e){var n;e.version++,function Ge(){Re++}(),qe(e),null===(n=xe)||void 0===n||n()}(e))}const tt={...Pe,equal:c,value:void 0};var Kn,kt,pr=L(4412),Sn=L(1413),zn=L(8359),Xn=L(6354);const fn="https://g.co/ng/security#xss";class Bt extends Error{constructor(n,i){super(function hr(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,i)),this.code=n}}function $n(e){return{toString:e}.toString()}const fr="__parameters__";function mn(e,n,i){return $n(()=>{const o=function Er(e){return function(...i){if(e){const o=e(...i);for(const l in o)this[l]=o[l]}}}(n);function l(...d){if(this instanceof l)return o.apply(this,d),this;const g=new l(...d);return y.annotation=g,y;function y(T,$,Q){const ae=T.hasOwnProperty(fr)?T[fr]:Object.defineProperty(T,fr,{value:[]})[fr];for(;ae.length<=Q;)ae.push(null);return(ae[Q]=ae[Q]||[]).push(g),T}}return i&&(l.prototype=Object.create(i.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}const or=globalThis;function yt(e){for(let n in e)if(e[n]===yt)return n;throw Error("Could not find renamed property on target object.")}function nr(e,n){for(const i in n)n.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=n[i])}function rr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(rr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function St(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const rt=yt({__forward_ref__:yt});function ot(e){return e.__forward_ref__=ot,e.toString=function(){return rr(this())},e}function ke(e){return Ue(e)?e():e}function Ue(e){return"function"==typeof e&&e.hasOwnProperty(rt)&&e.__forward_ref__===ot}function Ar(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function H(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ee(e){return te(e,Gt)||te(e,wn)}function J(e){return null!==Ee(e)}function te(e,n){return e.hasOwnProperty(n)?e[n]:null}function mt(e){return e&&(e.hasOwnProperty(an)||e.hasOwnProperty(gr))?e[an]:null}const Gt=yt({\u0275prov:yt}),an=yt({\u0275inj:yt}),wn=yt({ngInjectableDef:yt}),gr=yt({ngInjectorDef:yt});class Nn{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Ar({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _o(e){return e&&!!e.\u0275providers}const pi=yt({\u0275cmp:yt}),os=yt({\u0275dir:yt}),uo=yt({\u0275pipe:yt}),Go=yt({\u0275mod:yt}),qi=yt({\u0275fac:yt}),bi=yt({__NG_ELEMENT_ID__:yt}),_s=yt({__NG_ENV_ID__:yt});function Jn(e){return"string"==typeof e?e:null==e?"":String(e)}function co(e,n){throw new Bt(-201,!1)}var Rr=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Rr||{});let Wo;function ys(){return Wo}function Li(e){const n=Wo;return Wo=e,n}function Ko(e,n,i){const o=Ee(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&Rr.Optional?null:void 0!==n?n:void co()}const Oo={},Pi="__NG_DI_FLAG__",M="ngTempTokenPath",me=/\n/gm,C="__source";let j;function $e(e){const n=j;return j=e,n}function ht(e,n=Rr.Default){if(void 0===j)throw new Bt(-203,!1);return null===j?Ko(e,void 0,n):j.get(e,n&Rr.Optional?null:void 0,n)}function st(e,n=Rr.Default){return(ys()||ht)(ke(e),n)}function wt(e,n=Rr.Default){return st(e,qt(n))}function qt(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function tn(e){const n=[];for(let i=0;i<e.length;i++){const o=ke(e[i]);if(Array.isArray(o)){if(0===o.length)throw new Bt(900,!1);let l,d=Rr.Default;for(let g=0;g<o.length;g++){const y=o[g],T=Fn(y);"number"==typeof T?-1===T?l=y.token:d|=T:l=y}n.push(st(l,d))}else n.push(st(o))}return n}function bn(e,n){return e[Pi]=n,e.prototype[Pi]=n,e}function Fn(e){return e[Pi]}const jr=bn(mn("Optional"),8),Yr=bn(mn("SkipSelf"),4);function ho(e,n){return e.hasOwnProperty(qi)?e[qi]:null}function io(e,n){e.forEach(i=>Array.isArray(i)?io(i,n):n(i))}function Co(e,n,i){n>=e.length?e.push(i):e.splice(n,0,i)}function Xi(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Pr(e,n,i){let o=as(e,n);return o>=0?e[1|o]=i:(o=~o,function qo(e,n,i,o){let l=e.length;if(l==n)e.push(i,o);else if(1===l)e.push(o,e[0]),e[0]=i;else{for(l--,e.push(e[l-1],e[l]);l>n;)e[l]=e[l-2],l--;e[n]=i,e[n+1]=o}}(e,o,n,i)),o}function Mo(e,n){const i=as(e,n);if(i>=0)return e[1|i]}function as(e,n){return function Es(e,n,i){let o=0,l=e.length>>i;for(;l!==o;){const d=o+(l-o>>1),g=e[d<<i];if(n===g)return d<<i;g>n?l=d:o=d+1}return~(l<<i)}(e,n,1)}const Vi={},xr=[],Mi=new Nn(""),ls=new Nn("",-1),fo=new Nn("");class po{get(n,i=Oo){if(i===Oo){const o=new Error(`NullInjectorError: No provider for ${rr(n)}!`);throw o.name="NullInjectorError",o}return i}}var Ni=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ni||{}),Oi=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Oi||{}),To=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(To||{});function yl(e,n,i){let o=e.length;for(;;){const l=e.indexOf(n,i);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const d=n.length;if(l+d===o||e.charCodeAt(l+d)<=32)return l}i=l+1}}function Xo(e,n,i){let o=0;for(;o<i.length;){const l=i[o];if("number"==typeof l){if(0!==l)break;o++;const d=i[o++],g=i[o++],y=i[o++];e.setAttribute(n,g,y,d)}else{const d=l,g=i[++o];Vs(d)?e.setProperty(n,d,g):e.setAttribute(n,d,g),o++}}return o}function wa(e){return 3===e||4===e||6===e}function Vs(e){return 64===e.charCodeAt(0)}function Qo(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const l=n[o];"number"==typeof l?i=l:0===i||Qs(e,i,l,null,-1===i||2===i?n[++o]:null)}}return e}function Qs(e,n,i,o,l){let d=0,g=e.length;if(-1===n)g=-1;else for(;d<e.length;){const y=e[d++];if("number"==typeof y){if(y===n){g=-1;break}if(y>n){g=d-1;break}}}for(;d<e.length;){const y=e[d];if("number"==typeof y)break;if(y===i){if(null===o)return void(null!==l&&(e[d+1]=l));if(o===e[d+1])return void(e[d+2]=l)}d++,null!==o&&d++,null!==l&&d++}-1!==g&&(e.splice(g,0,n),d=g+1),e.splice(d++,0,i),null!==o&&e.splice(d++,0,o),null!==l&&e.splice(d++,0,l)}const As="ng-template";function Xr(e,n,i,o){let l=0;if(o){for(;l<n.length&&"string"==typeof n[l];l+=2)if("class"===n[l]&&-1!==yl(n[l+1].toLowerCase(),i,0))return!0}else if(Yo(e))return!1;if(l=n.indexOf(1,l),l>-1){let d;for(;++l<n.length&&"string"==typeof(d=n[l]);)if(d.toLowerCase()===i)return!0}return!1}function Yo(e){return 4===e.type&&e.value!==As}function Sa(e,n,i){return n===(4!==e.type||i?e.value:As)}function Ja(e,n,i){let o=4;const l=e.attrs,d=null!==l?function x(e){for(let n=0;n<e.length;n++)if(wa(e[n]))return n;return e.length}(l):0;let g=!1;for(let y=0;y<n.length;y++){const T=n[y];if("number"!=typeof T){if(!g)if(4&o){if(o=2|1&o,""!==T&&!Sa(e,T,i)||""===T&&1===n.length){if(go(o))return!1;g=!0}}else if(8&o){if(null===l||!Xr(e,l,T,i)){if(go(o))return!1;g=!0}}else{const $=n[++y],Q=Il(T,l,Yo(e),i);if(-1===Q){if(go(o))return!1;g=!0;continue}if(""!==$){let ae;if(ae=Q>d?"":l[Q+1].toLowerCase(),2&o&&$!==ae){if(go(o))return!1;g=!0}}}}else{if(!g&&!go(o)&&!go(T))return!1;if(g&&go(T))continue;g=!1,o=T|1&o}}return go(o)||g}function go(e){return!(1&e)}function Il(e,n,i,o){if(null===n)return-1;let l=0;if(o||!i){let d=!1;for(;l<n.length;){const g=n[l];if(g===e)return l;if(3===g||6===g)d=!0;else{if(1===g||2===g){let y=n[++l];for(;"string"==typeof y;)y=n[++l];continue}if(4===g)break;if(0===g){l+=4;continue}}l+=d?1:2}return-1}return function ie(e,n){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const o=e[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,e)}function Ra(e,n,i=!1){for(let o=0;o<n.length;o++)if(Ja(e,n[o],i))return!0;return!1}function G(e,n){e:for(let i=0;i<n.length;i++){const o=n[i];if(e.length===o.length){for(let l=0;l<e.length;l++)if(e[l]!==o[l])continue e;return!0}}return!1}function _e(e,n){return e?":not("+n.trim()+")":n}function ln(e){let n=e[0],i=1,o=2,l="",d=!1;for(;i<e.length;){let g=e[i];if("string"==typeof g)if(2&o){const y=e[++i];l+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&o?l+="."+g:4&o&&(l+=" "+g);else""!==l&&!go(g)&&(n+=_e(d,l),l=""),o=g,d=d||!go(o);i++}return""!==l&&(n+=_e(d,l)),n}function Ui(e){return $n(()=>{var n;const i=ql(e),o={...i,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ni.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(n=e.signals)&&void 0!==n&&n,data:e.data||{},encapsulation:e.encapsulation||Oi.Emulated,styles:e.styles||xr,_:null,schemas:e.schemas||null,tView:null,id:""};Pa(o);const l=e.dependencies;return o.directiveDefs=cs(l,!1),o.pipeDefs=cs(l,!0),o.id=function od(e){let n=0;const i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const l of i)n=Math.imul(31,n)+l.charCodeAt(0)|0;return n+=2147483648,"c"+n}(o),o})}function $i(e){return br(e)||Bi(e)}function Io(e){return null!==e}function Ys(e){return $n(()=>({type:e.type,bootstrap:e.bootstrap||xr,declarations:e.declarations||xr,imports:e.imports||xr,exports:e.exports||xr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Zs(e,n){if(null==e)return Vi;const i={};for(const l in e)if(e.hasOwnProperty(l)){const d=e[l];let g,y,T=To.None;var o;Array.isArray(d)?(T=d[0],g=d[1],y=null!==(o=d[2])&&void 0!==o?o:g):(g=d,y=d),n?(i[g]=T!==To.None?[l,T]:l,n[g]=y):i[g]=l}return i}function Or(e){return $n(()=>{const n=ql(e);return Pa(n),n})}function Zr(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function br(e){return e[pi]||null}function Bi(e){return e[os]||null}function xi(e){return e[uo]||null}function us(e){const n=br(e)||Bi(e)||xi(e);return null!==n&&n.standalone}function ji(e,n){const i=e[Go]||null;if(!i&&!0===n)throw new Error(`Type ${rr(e)} does not have '\u0275mod' property.`);return i}function ql(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Vi,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||xr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zs(e.inputs,n),outputs:Zs(e.outputs),debugInfo:null}}function Pa(e){var n;null===(n=e.features)||void 0===n||n.forEach(i=>i(e))}function cs(e,n){if(!e)return null;const i=n?xi:$i;return()=>("function"==typeof e?e():e).map(o=>i(o)).filter(Io)}function lc(...e){return{\u0275providers:El(0,e),\u0275fromNgModule:!0}}function El(e,...n){const i=[],o=new Set;let l;const d=g=>{i.push(g)};return io(n,g=>{const y=g;Xl(y,d,[],o)&&(l||(l=[]),l.push(y))}),void 0!==l&&Eu(l,d),i}function Eu(e,n){for(let i=0;i<e.length;i++){const{ngModule:o,providers:l}=e[i];Al(l,d=>{n(d,o)})}}function Xl(e,n,i,o){if(!(e=ke(e)))return!1;let l=null,d=mt(e);const g=!d&&br(e);if(d||g){if(g&&!g.standalone)return!1;l=e}else{const T=e.ngModule;if(d=mt(T),!d)return!1;l=T}const y=o.has(l);if(g){if(y)return!1;if(o.add(l),g.dependencies){const T="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const $ of T)Xl($,n,i,o)}}else{if(!d)return!1;{if(null!=d.imports&&!y){let $;o.add(l);try{io(d.imports,Q=>{Xl(Q,n,i,o)&&($||($=[]),$.push(Q))})}finally{}void 0!==$&&Eu($,n)}if(!y){const $=ho(l)||(()=>new l);n({provide:l,useFactory:$,deps:xr},l),n({provide:fo,useValue:l,multi:!0},l),n({provide:Mi,useValue:()=>st(l),multi:!0},l)}const T=d.providers;if(null!=T&&!y){const $=e;Al(T,Q=>{n(Q,$)})}}}return l!==e&&void 0!==e.providers}function Al(e,n){for(let i of e)_o(i)&&(i=i.\u0275providers),Array.isArray(i)?Al(i,n):n(i)}const Au=yt({provide:String,useValue:yt});function Zo(e){return null!==e&&"object"==typeof e&&Au in e}function Us(e){return"function"==typeof e}const Cl=new Nn(""),Fo={},cc={};let ds;function rl(){return void 0===ds&&(ds=new po),ds}class bo{}class Do extends bo{get destroyed(){return this._destroyed}constructor(n,i,o,l){super(),this.parent=i,this.source=o,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bs(n,g=>this.processProvider(g)),this.records.set(ls,Cs(void 0,this)),l.has("environment")&&this.records.set(bo,Cs(void 0,this));const d=this.records.get(Cl);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(fo,xr,Rr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=ge(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of i)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ge(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=$e(this),o=Li(void 0);try{return n()}finally{$e(i),Li(o)}}get(n,i=Oo,o=Rr.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(_s))return n[_s](this);o=qt(o);const d=$e(this),g=Li(void 0);try{if(!(o&Rr.SkipSelf)){let T=this.records.get(n);if(void 0===T){const $=function Ts(e){return"function"==typeof e||"object"==typeof e&&e instanceof Nn}(n)&&Ee(n);T=$&&this.injectableDefInScope($)?Cs(Qi(n),Fo):null,this.records.set(n,T)}if(null!=T)return this.hydrate(n,T)}return(o&Rr.Self?rl():this.parent).get(n,i=o&Rr.Optional&&i===Oo?null:i)}catch(y){if("NullInjectorError"===y.name){if((y[M]=y[M]||[]).unshift(rr(n)),d)throw y;return function jn(e,n,i,o){const l=e[M];throw n[C]&&l.unshift(n[C]),e.message=function Un(e,n,i,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let l=rr(n);if(Array.isArray(n))l=n.map(rr).join(" -> ");else if("object"==typeof n){let d=[];for(let g in n)if(n.hasOwnProperty(g)){let y=n[g];d.push(g+":"+("string"==typeof y?JSON.stringify(y):rr(y)))}l=`{${d.join(", ")}}`}return`${i}${o?"("+o+")":""}[${l}]: ${e.replace(me,"\n  ")}`}("\n"+e.message,l,i,o),e.ngTokenPath=l,e[M]=null,e}(y,n,"R3InjectorError",this.source)}throw y}finally{Li(g),$e(d)}}resolveInjectorInitializers(){const n=ge(null),i=$e(this),o=Li(void 0);try{const d=this.get(Mi,xr,Rr.Self);for(const g of d)g()}finally{$e(i),Li(o),ge(n)}}toString(){const n=[],i=this.records;for(const o of i.keys())n.push(rr(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Bt(205,!1)}processProvider(n){let i=Us(n=ke(n))?n:ke(n&&n.provide);const o=function xa(e){return Zo(e)?Cs(void 0,e.useValue):Cs(Na(e),Fo)}(n);if(!Us(n)&&!0===n.multi){let l=this.records.get(i);l||(l=Cs(void 0,Fo,!0),l.factory=()=>tn(l.multi),this.records.set(i,l)),i=n,l.multi.push(n)}this.records.set(i,o)}hydrate(n,i){const o=ge(null);try{return i.value===Fo&&(i.value=cc,i.value=i.factory()),"object"==typeof i.value&&i.value&&function fa(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{ge(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const i=ke(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Qi(e){const n=Ee(e),i=null!==n?n.factory:ho(e);if(null!==i)return i;if(e instanceof Nn)throw new Bt(204,!1);if(e instanceof Function)return function Ql(e){if(e.length>0)throw new Bt(204,!1);const i=function Me(e){return e&&(e[Gt]||e[wn])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new Bt(204,!1)}function Na(e,n,i){let o;if(Us(e)){const l=ke(e);return ho(l)||Qi(l)}if(Zo(e))o=()=>ke(e.useValue);else if(function da(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...tn(e.deps||[]));else if(function Ma(e){return!(!e||!e.useExisting)}(e))o=()=>st(ke(e.useExisting));else{const l=ke(e&&(e.useClass||e.provide));if(!function ha(e){return!!e.deps}(e))return ho(l)||Qi(l);o=()=>new l(...tn(e.deps))}return o}function Cs(e,n,i=!1){return{factory:e,value:n,multi:i?[]:void 0}}function bs(e,n){for(const i of e)Array.isArray(i)?bs(i,n):i&&_o(i)?bs(i.\u0275providers,n):n(i)}function Cu(e,n){e instanceof Do&&e.assertNotDestroyed();const o=$e(e),l=Li(void 0);try{return n()}finally{$e(o),Li(l)}}function Yl(){return void 0!==ys()||null!=function Ne(){return j}()}const zr=0,_n=1,Yn=2,Di=3,mo=4,yi=5,ki=6,Eo=7,gi=8,vi=9,Lo=10,vr=11,il=12,Ds=13,pa=14,Fi=15,Zl=16,fi=17,Jo=18,Js=19,ga=20,Oa=21,_i=22,$s=23,tr=25,ka=1,ea=7,Fa=9,wi=10;var La=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(La||{});function Hi(e){return Array.isArray(e)&&"object"==typeof e[ka]}function Yi(e){return Array.isArray(e)&&!0===e[ka]}function Va(e){return!!(4&e.flags)}function Ua(e){return e.componentOffset>-1}function Tl(e){return!(1&~e.flags)}function di(e){return!!e.template}function Hr(e){return!!(512&e[Yn])}class Vo{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function xo(e,n,i,o){null!==n?n.applyValueToInputSignal(n,o):e[i]=o}function Ii(){return wo}function wo(e){return e.type.prototype.ngOnChanges&&(e.setInput=Dl),bl}function bl(){const e=hs(this),n=null==e?void 0:e.current;if(n){const i=e.previous;if(i===Vi)e.previous=n;else for(let o in n)i[o]=n[o];e.current=null,this.ngOnChanges(n)}}function Dl(e,n,i,o,l){const d=this.declaredInputs[o],g=hs(e)||function Ba(e,n){return e[$a]=n}(e,{previous:Vi,current:null}),y=g.current||(g.current={}),T=g.previous,$=T[d];y[d]=new Vo($&&$.currentValue,i,T===Vi),xo(e,n,l,i)}Ii.ngInherit=!0;const $a="__ngSimpleChanges__";function hs(e){return e[$a]||null}const Bs=function(e,n,i){};function ni(e){for(;Array.isArray(e);)e=e[zr];return e}function al(e,n){return ni(n[e])}function Uo(e,n){return ni(n[e.index])}function eu(e,n){return e.data[n]}function ws(e,n){const i=n[e];return Hi(i)?i:i[zr]}function bh(e){return!(128&~e[Yn])}function ta(e,n){return null==n?null:e[n]}function cd(e){e[fi]=0}function dd(e){1024&e[Yn]||(e[Yn]|=1024,bh(e)&&fd(e))}function js(e){var n;return!!(9216&e[Yn]||null!==(n=e[$s])&&void 0!==n&&n.dirty)}function hd(e){var n;null===(n=e[Lo].changeDetectionScheduler)||void 0===n||n.notify(8),64&e[Yn]&&(e[Yn]|=1024),js(e)&&fd(e)}function fd(e){var n;null===(n=e[Lo].changeDetectionScheduler)||void 0===n||n.notify(0);let i=na(e);for(;null!==i&&!(8192&i[Yn])&&(i[Yn]|=8192,bh(i));)i=na(i)}function tu(e,n){if(!(256&~e[Yn]))throw new Bt(911,!1);null===e[Oa]&&(e[Oa]=[]),e[Oa].push(n)}function na(e){const n=e[Di];return Yi(n)?n[Di]:n}const wr={lFrame:Bo(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let ul=!1;function pd(){return wr.bindingsEnabled}function ma(){return null!==wr.skipHydrationRootTNode}function Zt(){return wr.lFrame.lView}function Nr(){return wr.lFrame.tView}function wh(e){return wr.lFrame.contextLView=e,e[gi]}function Ha(e){return wr.lFrame.contextLView=null,e}function Ei(){let e=md();for(;null!==e&&64===e.type;)e=e.parent;return e}function md(){return wr.lFrame.currentTNode}function ra(e,n){const i=wr.lFrame;i.currentTNode=e,i.isParent=n}function Sh(){return wr.lFrame.isParent}function wl(){wr.lFrame.isParent=!1}function fc(){return ul}function up(e){ul=e}function ts(){return wr.lFrame.bindingIndex++}function Em(e,n){const i=wr.lFrame;i.bindingIndex=i.bindingRootIndex=e,Ru(n)}function Ru(e){wr.lFrame.currentDirectiveIndex=e}function vd(){return wr.lFrame.currentQueryIndex}function _a(e){wr.lFrame.currentQueryIndex=e}function gc(e){const n=e[_n];return 2===n.type?n.declTNode:1===n.type?e[yi]:null}function su(e,n,i){if(i&Rr.SkipSelf){let l=n,d=e;for(;!(l=l.parent,null!==l||i&Rr.Host||(l=gc(d),null===l||(d=d[pa],10&l.type))););if(null===l)return!1;n=l,e=d}const o=wr.lFrame=Nh();return o.currentTNode=n,o.lView=e,!0}function _d(e){const n=Nh(),i=e[_n];wr.lFrame=n,n.currentTNode=i.firstChild,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function Nh(){const e=wr.lFrame,n=null===e?null:e.child;return null===n?Bo(e):n}function Bo(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function yd(){const e=wr.lFrame;return wr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const mc=yd;function Pu(){const e=yd();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Zi(){return wr.lFrame.selectedIndex}function oa(e){wr.lFrame.selectedIndex=e}function Ai(){const e=wr.lFrame;return eu(e.tView,e.selectedIndex)}let Id=!0;function au(){return Id}function ya(e){Id=e}function lu(e,n){for(let $=n.directiveStart,Q=n.directiveEnd;$<Q;$++){const Ve=e.data[$].type.prototype,{ngAfterContentInit:Ze,ngAfterContentChecked:We,ngAfterViewInit:zt,ngAfterViewChecked:un,ngOnDestroy:An}=Ve;var i,o,l,d,g,y,T;Ze&&(null!==(i=e.contentHooks)&&void 0!==i?i:e.contentHooks=[]).push(-$,Ze),We&&((null!==(o=e.contentHooks)&&void 0!==o?o:e.contentHooks=[]).push($,We),(null!==(l=e.contentCheckHooks)&&void 0!==l?l:e.contentCheckHooks=[]).push($,We)),zt&&(null!==(d=e.viewHooks)&&void 0!==d?d:e.viewHooks=[]).push(-$,zt),un&&((null!==(g=e.viewHooks)&&void 0!==g?g:e.viewHooks=[]).push($,un),(null!==(y=e.viewCheckHooks)&&void 0!==y?y:e.viewCheckHooks=[]).push($,un)),null!=An&&(null!==(T=e.destroyHooks)&&void 0!==T?T:e.destroyHooks=[]).push($,An)}}function vc(e,n,i){Oh(e,n,3,i)}function Wa(e,n,i,o){(3&e[Yn])===i&&Oh(e,n,i,o)}function _c(e,n){let i=e[Yn];(3&i)===n&&(i&=16383,i+=1,e[Yn]=i)}function Oh(e,n,i,o){const d=null!=o?o:-1,g=n.length-1;let y=0;for(let T=void 0!==o?65535&e[fi]:0;T<g;T++)if("number"==typeof n[T+1]){if(y=n[T],null!=o&&y>=o)break}else n[T]<0&&(e[fi]+=65536),(y<d||-1==d)&&(Cm(e,i,n,T),e[fi]=(4294901760&e[fi])+T+2),T++}function kh(e,n){Bs(4,e,n);const i=ge(null);try{n.call(e)}finally{ge(i),Bs(5,e,n)}}function Cm(e,n,i,o){const l=i[o]<0,d=i[o+1],y=e[l?-i[o]:i[o]];l?e[Yn]>>14<e[fi]>>16&&(3&e[Yn])===n&&(e[Yn]+=16384,kh(y,d)):kh(y,d)}const uu=-1;class Ia{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}const D={};class X{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,o){o=qt(o);const l=this.injector.get(n,D,o);return l!==D||i===D?l:this.parentInjector.get(n,i,o)}}function ve(e){return e!==uu}function gt(e){return 32767&e}function pn(e,n){let i=function $t(e){return e>>16}(e),o=n;for(;i>0;)o=o[pa],i--;return o}let dr=!0;function $r(e){const n=dr;return dr=e,n}const dl=255,Mu=5;let Ed=0;const Ss={};function Rl(e,n){const i=Ec(e,n);if(-1!==i)return i;const o=n[_n];o.firstCreatePass&&(e.injectorIndex=n.length,cu(o.data,e),cu(n,null),cu(o.blueprint,null));const l=Ac(e,n),d=e.injectorIndex;if(ve(l)){const g=gt(l),y=pn(l,n),T=y[_n].data;for(let $=0;$<8;$++)n[d+$]=y[g+$]|T[g+$]}return n[d+8]=l,d}function cu(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Ec(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Ac(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,o=null,l=n;for(;null!==l;){if(o=Ry(l),null===o)return uu;if(i++,l=l[pa],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return uu}function Nu(e,n,i){!function xu(e,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(bi)&&(o=i[bi]),null==o&&(o=i[bi]=Ed++);const l=o&dl;n.data[e+(l>>Mu)]|=1<<l}(e,n,i)}function Lh(e,n,i){if(i&Rr.Optional||void 0!==e)return e;co()}function Cc(e,n,i,o){if(i&Rr.Optional&&void 0===o&&(o=null),!(i&(Rr.Self|Rr.Host))){const l=e[vi],d=Li(void 0);try{return l?l.get(n,o,i&Rr.Optional):Ko(n,o,i&Rr.Optional)}finally{Li(d)}}return Lh(o,0,i)}function Ad(e,n,i,o=Rr.Default,l){if(null!==e){if(2048&n[Yn]&&!(o&Rr.Self)){const g=function wm(e,n,i,o,l){let d=e,g=n;for(;null!==d&&null!==g&&2048&g[Yn]&&!(512&g[Yn]);){const y=Dy(d,g,i,o|Rr.Self,Ss);if(y!==Ss)return y;let T=d.parent;if(!T){const $=g[ga];if($){const Q=$.get(i,Ss,o);if(Q!==Ss)return Q}T=Ry(g),g=g[pa]}d=T}return l}(e,n,i,o,Ss);if(g!==Ss)return g}const d=Dy(e,n,i,o,Ss);if(d!==Ss)return d}return Cc(n,i,o,l)}function Dy(e,n,i,o,l){const d=function YE(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(bi)?e[bi]:void 0;return"number"==typeof n?n>=0?n&dl:Sy:n}(i);if("function"==typeof d){if(!su(n,e,o))return o&Rr.Host?Lh(l,0,o):Cc(n,i,o,l);try{let g;if(g=d(o),null!=g||o&Rr.Optional)return g;co()}finally{mc()}}else if("number"==typeof d){let g=null,y=Ec(e,n),T=uu,$=o&Rr.Host?n[Fi][yi]:null;for((-1===y||o&Rr.SkipSelf)&&(T=-1===y?Ac(e,n):n[y+8],T!==uu&&bc(o,!1)?(g=n[_n],y=gt(T),n=pn(T,n)):y=-1);-1!==y;){const Q=n[_n];if(Tc(d,y,Q.data)){const ae=wy(y,n,i,g,o,$);if(ae!==Ss)return ae}T=n[y+8],T!==uu&&bc(o,n[_n].data[y+8]===$)&&Tc(d,y,n)?(g=Q,y=gt(T),n=pn(T,n)):y=-1}}return l}function wy(e,n,i,o,l,d){const g=n[_n],y=g.data[e+8],Q=gp(y,g,i,null==o?Ua(y)&&dr:o!=g&&!!(3&y.type),l&Rr.Host&&d===y);return null!==Q?Ou(n,g,Q,y):Ss}function gp(e,n,i,o,l){const d=e.providerIndexes,g=n.data,y=1048575&d,T=e.directiveStart,Q=d>>20,Ve=l?y+Q:e.directiveEnd;for(let Ze=o?y:y+Q;Ze<Ve;Ze++){const We=g[Ze];if(Ze<T&&i===We||Ze>=T&&We.type===i)return Ze}if(l){const Ze=g[T];if(Ze&&di(Ze)&&Ze.type===i)return T}return null}function Ou(e,n,i,o){let l=e[i];const d=n.data;if(function yc(e){return e instanceof Ia}(l)){const g=l;g.resolving&&function li(e,n){throw n&&n.join(" > "),new Bt(-200,e)}(function Sr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Jn(e)}(d[i]));const y=$r(g.canSeeViewProviders);g.resolving=!0;const $=g.injectImpl?Li(g.injectImpl):null;su(e,o,Rr.Default);try{l=e[i]=g.factory(void 0,d,e,o),n.firstCreatePass&&i>=o.directiveStart&&function by(e,n,i){const{ngOnChanges:o,ngOnInit:l,ngDoCheck:d}=n.type.prototype;if(o){var g,y;const ae=wo(n);(null!==(g=i.preOrderHooks)&&void 0!==g?g:i.preOrderHooks=[]).push(e,ae),(null!==(y=i.preOrderCheckHooks)&&void 0!==y?y:i.preOrderCheckHooks=[]).push(e,ae)}var T,$,Q;l&&(null!==(T=i.preOrderHooks)&&void 0!==T?T:i.preOrderHooks=[]).push(0-e,l),d&&((null!==($=i.preOrderHooks)&&void 0!==$?$:i.preOrderHooks=[]).push(e,d),(null!==(Q=i.preOrderCheckHooks)&&void 0!==Q?Q:i.preOrderCheckHooks=[]).push(e,d))}(i,d[i],n)}finally{null!==$&&Li($),$r(y),g.resolving=!1,mc()}}return l}function Tc(e,n,i){return!!(i[n+(e>>Mu)]&1<<e)}function bc(e,n){return!(e&Rr.Self||e&Rr.Host&&n)}class No{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return Ad(this._tNode,this._lView,n,qt(o),i)}}function Sy(){return new No(Ei(),Zt())}function bm(e){return $n(()=>{const n=e.prototype.constructor,i=n[qi]||Dm(n),o=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==o;){const d=l[qi]||Dm(l);if(d&&d!==i)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function Dm(e){return Ue(e)?()=>{const n=Dm(ke(e));return n&&n()}:ho(e)}function Ry(e){const n=e[_n],i=n.type;return 2===i?n.declTNode:1===i?e[yi]:null}function Cd(e){return function pp(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const i=e.attrs;if(i){const o=i.length;let l=0;for(;l<o;){const d=i[l];if(wa(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<o&&"string"==typeof i[l];)l++;else{if(d===n)return i[l+1];l+=2}}}return null}(Ei(),e)}function ky(e,n=null,i=null,o){const l=Fy(e,n,i,o);return l.resolveInjectorInitializers(),l}function Fy(e,n=null,i=null,o,l=new Set){const d=[i||xr,lc(e)];return o=o||("object"==typeof e?void 0:rr(e)),new Do(d,n||rl(),o||null,l)}class Ri{static create(n,i){if(Array.isArray(n))return ky({name:""},i,n,"");{var o;const l=null!==(o=n.name)&&void 0!==o?o:"";return ky({name:l},n.parent,n.providers,l)}}}(Kn=Ri).THROW_IF_NOT_FOUND=Oo,Kn.NULL=new po,Kn.\u0275prov=Ar({token:Kn,providedIn:"any",factory:()=>st(ls)}),Kn.__NG_ELEMENT_ID__=-1,new Nn("").__NG_ELEMENT_ID__=e=>{const n=Ei();if(null===n)throw new Bt(204,!1);if(2&n.type)return n.value;if(e&Rr.Optional)return null;throw new Bt(204,!1)};function yp(e){return e.ngOriginalError}const Uy=!0;let Uh=(()=>{var e;class n{}return(e=n).__NG_ELEMENT_ID__=JE,e.__NG_ENV_ID__=i=>i,n})();class ZE extends Uh{constructor(n){super(),this._lView=n}onDestroy(n){return tu(this._lView,n),()=>function Hs(e,n){if(null===e[Oa])return;const i=e[Oa].indexOf(n);-1!==i&&e[Oa].splice(i,1)}(this._lView,n)}}function JE(){return new ZE(Zt())}let wc=(()=>{var e;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new pr.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=n).\u0275prov=Ar({token:e,providedIn:"root",factory:()=>new e}),n})();const zs=class xm extends Sn.B{constructor(n=!1){var i,o;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,Yl()&&(this.destroyRef=null!==(i=wt(Uh,{optional:!0}))&&void 0!==i?i:void 0,this.pendingTasks=null!==(o=wt(wc,{optional:!0}))&&void 0!==o?o:void 0)}emit(n){const i=ge(null);try{super.next(n)}finally{ge(i)}}subscribe(n,i,o){let l=n,d=i||(()=>null),g=o;if(n&&"object"==typeof n){var y,T,$;const ae=n;l=null===(y=ae.next)||void 0===y?void 0:y.bind(ae),d=null===(T=ae.error)||void 0===T?void 0:T.bind(ae),g=null===($=ae.complete)||void 0===$?void 0:$.bind(ae)}this.__isAsync&&(d=this.wrapInTimeout(d),l&&(l=this.wrapInTimeout(l)),g&&(g=this.wrapInTimeout(g)));const Q=super.subscribe({next:l,error:d,complete:g});return n instanceof zn.yU&&n.add(Q),Q}wrapInTimeout(n){return i=>{var o;const l=null===(o=this.pendingTasks)||void 0===o?void 0:o.add();setTimeout(()=>{var d;n(i),void 0!==l&&(null===(d=this.pendingTasks)||void 0===d||d.remove(l))})}}};function Dd(...e){}function $h(e){let n,i;function o(){e=Dd;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Sc(e){return queueMicrotask(()=>e()),()=>{e=Dd}}const Ep="isAngularZone",wd=Ep+"_ID";let Nm=0;class Ci{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zs(!1),this.onMicrotaskEmpty=new zs(!1),this.onStable=new zs(!1),this.onError=new zs(!1);const{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1,scheduleInRootZone:d=Uy}=n;if(typeof Zone>"u")throw new Bt(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!l&&o,g.shouldCoalesceRunChangeDetection=l,g.callbackScheduled=!1,g.scheduleInRootZone=d,function eA(e){const n=()=>{!function km(e){function n(){$h(()=>{e.callbackScheduled=!1,Bh(e),e.isCheckStableRunning=!0,Om(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Bh(e))}(e)},i=Nm++;e._inner=e._inner.fork({name:"angular",properties:{[Ep]:!0,[wd]:i,[wd+i]:!0},onInvokeTask:(o,l,d,g,y,T)=>{if(function Lm(e){return Tp(e,"__ignore_ng_zone__")}(T))return o.invokeTask(d,g,y,T);try{return jy(e),o.invokeTask(d,g,y,T)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&n(),Ap(e)}},onInvoke:(o,l,d,g,y,T,$)=>{try{return jy(e),o.invoke(d,g,y,T,$)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Cp(e){return Tp(e,"__scheduler_tick__")}(T)&&n(),Ap(e)}},onHasTask:(o,l,d,g)=>{o.hasTask(d,g),l===d&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,Bh(e),Om(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,l,d,g)=>(o.handleError(d,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Ep)}static assertInAngularZone(){if(!Ci.isInAngularZone())throw new Bt(909,!1)}static assertNotInAngularZone(){if(Ci.isInAngularZone())throw new Bt(909,!1)}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,l){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+l,n,By,Dd,Dd);try{return d.runTask(g,i,o)}finally{d.cancelTask(g)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const By={};function Om(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Bh(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function jy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ap(e){e._nesting--,Om(e)}class Fm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zs,this.onMicrotaskEmpty=new zs,this.onStable=new zs,this.onError=new zs}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,l){return n.apply(i,o)}}function Tp(e,n){var i;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(i=e[0])||void 0===i||null===(i=i.data)||void 0===i?void 0:i[n])}class sa{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&yp(n);for(;i&&yp(i);)i=yp(i);return i||null}}const Vm=new Nn("",{providedIn:"root",factory:()=>{const e=wt(Ci),n=wt(sa);return i=>e.runOutsideAngular(()=>n.handleError(i))}});function rA(){return Fu(Ei(),Zt())}function Fu(e,n){return new jh(Uo(e,n))}let jh=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=rA,n})();function bp(e){return e instanceof jh?e.nativeElement:e}function iA(){return this._results[Symbol.iterator]()}class Hh{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new zs}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=Hh.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=iA)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const o=function Tr(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Jr(e,n,i){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let l=e[o],d=n[o];if(i&&(l=i(l),d=i(d)),d!==l)return!1}return!0}(this._results,o,i))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Pl(e){return!(128&~e.flags)}const Lu=new Map;let Rd=0;function $m(e){Lu.delete(e[Js])}const Md="__ngContext__";function rs(e,n){Hi(n)?(e[Md]=n[Js],function Pd(e){Lu.set(e[Js],e)}(n)):e[Md]=n}function Yy(e){return Zy(e[il])}function Pp(e){return Zy(e[mo])}function Zy(e){for(;null!==e&&!Yi(e);)e=e[mo];return e}let Wh;function hA(e){Wh=e}const Op=new Nn("",{providedIn:"root",factory:()=>Ym}),Ym="ng",kp=new Nn(""),Nd=new Nn("",{providedIn:"platform",factory:()=>"unknown"}),Zm=new Nn("",{providedIn:"root",factory:()=>{var e;return(null===(e=function Ml(){if(void 0!==Wh)return Wh;if(typeof document<"u")return document;throw new Bt(210,!1)}().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}});let Lp=()=>null;function ov(e,n,i=!1){return Lp(e,n,i)}const jp=new Nn("",{providedIn:"root",factory:()=>!1});let Gp;function l0(e){var n;return(null===(n=function fv(){if(void 0===Gp&&(Gp=null,or.trustedTypes))try{Gp=or.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Gp}())||void 0===n?void 0:n.createScriptURL(e))||e}class u0{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fn})`}}function pu(e){return e instanceof u0?e.changingThisBreaksApplicationSecurity:e}function Bd(e,n){const i=function Wp(e){return e instanceof u0&&e.getTypeName()||null}(e);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${fn})`)}return i===n}const TA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var qa=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(qa||{});function yv(e){const n=Hd();return n?n.sanitize(qa.URL,e)||"":Bd(e,"URL")?pu(e):function Nc(e){return(e=String(e)).match(TA)?e:"unsafe:"+e}(Jn(e))}function v0(e){const n=Hd();if(n)return l0(n.sanitize(qa.RESOURCE_URL,e)||"");if(Bd(e,"ResourceURL"))return l0(pu(e));throw new Bt(904,!1)}function Hu(e,n,i){return function xA(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?v0:yv}(n,i)(e)}function Hd(){const e=Zt();return e&&e[Lo].sanitizer}const Ev=/^>|^->|<!--|-->|--!>|<!-$/g,Av=/(<|>)/g,Cv="\u200b$1\u200b";function Ea(e){return e instanceof Function?e():e}var rf=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(rf||{});let ig;function og(e,n){return ig(e,n)}function Fc(e,n,i,o,l){if(null!=o){let d,g=!1;Yi(o)?d=o:Hi(o)&&(g=!0,o=o[zr]);const y=ni(o);0===e&&null!==i?null==l?P0(n,i,y):Uc(n,i,y,l||null,!0):1===e&&null!==i?Uc(n,i,y,l||null,!0):2===e?function uf(e,n,i){e.removeChild(null,n,i)}(n,y,g):3===e&&n.destroyNode(y),null!=d&&function Ob(e,n,i,o,l){const d=i[ea];d!==ni(i)&&Fc(n,e,o,d,l);for(let y=wi;y<i.length;y++){const T=i[y];kv(T[_n],T,e,n,o,d)}}(n,e,d,i,l)}}function Sv(e,n){return e.createComment(function eg(e){return e.replace(Ev,n=>n.replace(Av,Cv))}(n))}function Rv(e,n,i){return e.createElement(n,i)}function FA(e,n){var i;null===(i=n[Lo].changeDetectionScheduler)||void 0===i||i.notify(9),kv(e,n,n[vr],2,null,null)}function Fl(e,n){const i=e[Fa],o=n[Di];(Hi(o)||n[Fi]!==o[Di][Fi])&&(e[Yn]|=La.HasTransplantedViews),null===i?e[Fa]=[n]:i.push(n)}function Vc(e,n){const i=e[Fa],o=i.indexOf(n);i.splice(o,1)}function Xa(e,n){if(e.length<=wi)return;const i=wi+n,o=e[i];if(o){const l=o[Zl];null!==l&&l!==e&&Vc(l,o),n>0&&(e[i-1][mo]=o[mo]);const d=Xi(e,wi+n);!function Mb(e,n){FA(e,n),n[zr]=null,n[yi]=null}(o[_n],o);const g=d[Jo];null!==g&&g.detachView(d[_n]),o[Di]=null,o[mo]=null,o[Yn]&=-129}return o}function sg(e,n){if(!(256&n[Yn])){const i=n[vr];i.destroyNode&&kv(e,n,i,3,null,null),function xb(e){let n=e[il];if(!n)return ag(e[_n],e);for(;n;){let i=null;if(Hi(n))i=n[il];else{const o=n[wi];o&&(i=o)}if(!i){for(;n&&!n[mo]&&n!==e;)Hi(n)&&ag(n[_n],n),n=n[Di];null===n&&(n=e),Hi(n)&&ag(n[_n],n),i=n&&n[mo]}n=i}}(n)}}function ag(e,n){if(256&n[Yn])return;const i=ge(null);try{n[Yn]&=-129,n[Yn]|=256,n[$s]&&at(n[$s]),function Wu(e,n){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let o=0;o<i.length;o+=2){const l=n[i[o]];if(!(l instanceof Ia)){const d=i[o+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const y=l[d[g]],T=d[g+1];Bs(4,y,T);try{T.call(y)}finally{Bs(5,y,T)}}else{Bs(4,l,d);try{d.call(l)}finally{Bs(5,l,d)}}}}}(e,n),function S0(e,n){const i=e.cleanup,o=n[Eo];if(null!==i)for(let d=0;d<i.length-1;d+=2)if("string"==typeof i[d]){const g=i[d+3];g>=0?o[g]():o[-g].unsubscribe(),d+=2}else i[d].call(o[i[d+1]]);null!==o&&(n[Eo]=null);const l=n[Oa];if(null!==l){n[Oa]=null;for(let d=0;d<l.length;d++)(0,l[d])()}}(e,n),1===n[_n].type&&n[vr].destroy();const o=n[Zl];if(null!==o&&Yi(n[Di])){o!==n[Di]&&Vc(o,n);const l=n[Jo];null!==l&&l.detachView(e)}$m(n)}finally{ge(i)}}function Pv(e,n,i){return function R0(e,n,i){let o=n;for(;null!==o&&168&o.type;)o=(n=o).parent;if(null===o)return i[zr];{const{componentOffset:l}=o;if(l>-1){const{encapsulation:d}=e.data[o.directiveStart+l];if(d===Oi.None||d===Oi.Emulated)return null}return Uo(o,i)}}(e,n.parent,i)}function Uc(e,n,i,o,l){e.insertBefore(n,i,o,l)}function P0(e,n,i){e.appendChild(n,i)}function M0(e,n,i,o,l){null!==o?Uc(e,n,i,o,l):P0(e,n,i)}function lf(e,n){return e.parentNode(n)}function N0(e,n,i){return lg(e,n,i)}let xv,lg=function Mv(e,n,i){return 40&e.type?Uo(e,i):null};function qd(e,n,i,o){const l=Pv(e,o,n),d=n[vr],y=N0(o.parent||n[yi],o,n);if(null!=l)if(Array.isArray(i))for(let T=0;T<i.length;T++)M0(d,l,i[T],y,!1);else M0(d,l,i,y,!1);void 0!==xv&&xv(d,o,n,i,l)}function Xd(e,n){if(null!==n){const i=n.type;if(3&i)return Uo(n,e);if(4&i)return Nv(-1,e[n.index]);if(8&i){const o=n.child;if(null!==o)return Xd(e,o);{const l=e[n.index];return Yi(l)?Nv(-1,l):ni(l)}}if(128&i)return Xd(e,n.next);if(32&i)return og(n,e)()||ni(e[n.index]);{const o=O0(e,n);return null!==o?Array.isArray(o)?o[0]:Xd(na(e[Fi]),o):Xd(e,n.next)}}return null}function O0(e,n){return null!==n?e[Fi][yi].projection[n.projection]:null}function Nv(e,n){const i=wi+e+1;if(i<n.length){const o=n[i],l=o[_n].firstChild;if(null!==l)return Xd(o,l)}return n[ea]}function Ov(e,n,i,o,l,d,g){for(;null!=i;){if(128===i.type){i=i.next;continue}const y=o[i.index],T=i.type;if(g&&0===n&&(y&&rs(ni(y),o),i.flags|=2),32&~i.flags)if(8&T)Ov(e,n,i.child,o,l,d,!1),Fc(n,e,l,y,d);else if(32&T){const $=og(i,o);let Q;for(;Q=$();)Fc(n,e,l,Q,d);Fc(n,e,l,y,d)}else 16&T?LA(e,n,o,i,l,d):Fc(n,e,l,y,d);i=g?i.projectionNext:i.next}}function kv(e,n,i,o,l,d){Ov(i,o,e.firstChild,n,l,d,!1)}function LA(e,n,i,o,l,d){const g=i[Fi],T=g[yi].projection[o.projection];if(Array.isArray(T))for(let $=0;$<T.length;$++)Fc(n,e,l,T[$],d);else{let $=T;const Q=g[Di];Pl(o)&&($.flags|=128),Ov(e,n,$,Q,l,d,!0)}}function F0(e,n,i){""===i?e.removeAttribute(n,"class"):e.setAttribute(n,"class",i)}function $A(e,n,i){const{mergedAttrs:o,classes:l,styles:d}=i;null!==o&&Xo(e,n,o),null!==l&&F0(e,n,l),null!==d&&function UA(e,n,i){e.setAttribute(n,"style",i)}(e,n,d)}const Br={};function Fv(e=1){gu(Nr(),Zt(),Zi()+e,!1)}function gu(e,n,i,o){if(!o)if(3&~n[Yn]){const d=e.preOrderHooks;null!==d&&Wa(n,d,0,i)}else{const d=e.preOrderCheckHooks;null!==d&&vc(n,d,i)}oa(i)}function Qd(e,n=Rr.Default){const i=Zt();return null===i?st(e,n):Ad(Ei(),i,ke(e),n)}function L0(){throw new Error("invalid")}function V0(e,n,i,o,l,d){const g=ge(null);try{let y=null;l&To.SignalBased&&(y=n[o][ue]),null!==y&&void 0!==y.transformFn&&(d=y.transformFn(d)),l&To.HasDecoratorInputTransform&&(d=e.inputTransforms[o].call(n,d)),null!==e.setInput?e.setInput(n,y,d,i,o):xo(n,y,o,d)}finally{ge(g)}}function ug(e,n,i,o,l,d,g,y,T,$,Q){const ae=n.blueprint.slice();return ae[zr]=l,ae[Yn]=204|o,(null!==$||e&&2048&e[Yn])&&(ae[Yn]|=2048),cd(ae),ae[Di]=ae[pa]=e,ae[gi]=i,ae[Lo]=g||e&&e[Lo],ae[vr]=y||e&&e[vr],ae[vi]=T||e&&e[vi]||null,ae[yi]=d,ae[Js]=function Wy(){return Rd++}(),ae[ki]=Q,ae[ga]=$,ae[Fi]=2==n.type?e[Fi]:ae,ae}function Bc(e,n,i,o,l){let d=e.data[n];if(null===d)d=function Lv(e,n,i,o,l){const d=md(),g=Sh(),T=e.data[n]=function $v(e,n,i,o,l,d){let g=n?n.injectorIndex:-1,y=0;return ma()&&(y|=128),{type:i,index:o,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,i,n,o,l);return null===e.firstChild&&(e.firstChild=T),null!==d&&(g?null==d.child&&null!==T.parent&&(d.child=T):null===d.next&&(d.next=T,T.prev=d)),T}(e,n,i,o,l),function cp(){return wr.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=i,d.value=o,d.attrs=l;const g=function Su(){const e=wr.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return ra(d,!0),d}function cg(e,n,i,o){if(0===i)return-1;const l=n.length;for(let d=0;d<i;d++)n.push(o),e.blueprint.push(o),e.data.push(null);return l}function jA(e,n,i,o,l){const d=Zi(),g=2&o;try{oa(-1),g&&n.length>tr&&gu(e,n,tr,!1),Bs(g?2:0,l),i(o,l)}finally{oa(d),Bs(g?3:1,l)}}function U0(e,n,i){if(Va(n)){const o=ge(null);try{const d=n.directiveEnd;for(let g=n.directiveStart;g<d;g++){const y=e.data[g];y.contentQueries&&y.contentQueries(1,i[g],g)}}finally{ge(o)}}}function dg(e,n,i){pd()&&(function GA(e,n,i,o){const l=i.directiveStart,d=i.directiveEnd;Ua(i)&&function ff(e,n,i){const o=Uo(n,e),l=HA(i);let g=16;i.signals?g=4096:i.onPush&&(g=64);const y=Ll(e,ug(e,l,null,g,o,n,null,e[Lo].rendererFactory.createRenderer(o,i),null,null,null));e[n.index]=y}(n,i,e.data[l+i.componentOffset]),e.firstCreatePass||Rl(i,n),rs(o,n);const g=i.initialInputs;for(let y=l;y<d;y++){const T=e.data[y],$=Ou(n,e,y,i);rs($,n),null!==g&&Gv(0,y-l,$,T,0,g),di(T)&&(ws(i.index,n)[gi]=Ou(n,e,y,i))}}(e,n,i,Uo(i,n)),!(64&~i.flags)&&Hv(e,n,i))}function Vv(e,n,i=Uo){const o=n.localNames;if(null!==o){let l=n.index+1;for(let d=0;d<o.length;d+=2){const g=o[d+1],y=-1===g?i(n,e):e[g];e[l++]=y}}}function HA(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=$0(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function $0(e,n,i,o,l,d,g,y,T,$,Q){const ae=tr+o,Ve=ae+l,Ze=function kb(e,n){const i=[];for(let o=0;o<n;o++)i.push(o<e?null:Br);return i}(ae,Ve),We="function"==typeof $?$():$;return Ze[_n]={type:e,blueprint:Ze,template:i,queries:null,viewQuery:y,declTNode:n,data:Ze.slice().fill(null,ae),bindingStartIndex:ae,expandoStartIndex:Ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:T,consts:We,incompleteFirstPass:!1,ssrId:Q}}let Uv=()=>null;function cf(e,n,i,o,l){for(let g in n){var d;if(!n.hasOwnProperty(g))continue;const y=n[g];if(void 0===y)continue;null!==(d=o)&&void 0!==d||(o={});let T,$=To.None;Array.isArray(y)?(T=y[0],$=y[1]):T=y;let Q=g;if(null!==l){if(!l.hasOwnProperty(g))continue;Q=l[g]}0===e?j0(o,i,Q,T,$):j0(o,i,Q,T)}return o}function j0(e,n,i,o,l){let d;e.hasOwnProperty(i)?(d=e[i]).push(n,o):d=e[i]=[n,o],void 0!==l&&d.push(l)}function jv(e,n,i,o){if(pd()){const l=null===o?null:{"":-1},d=function jc(e,n){const i=e.directiveRegistry;let o=null,l=null;if(i)for(let g=0;g<i.length;g++){const y=i[g];if(Ra(n,y.selectors,!1))if(o||(o=[]),di(y))if(null!==y.findHostDirectiveDefs){const T=[];l=l||new Map,y.findHostDirectiveDefs(y,T,l),o.unshift(...T,y),aa(e,n,T.length)}else o.unshift(y),aa(e,n,0);else{var d;l=l||new Map,null===(d=y.findHostDirectiveDefs)||void 0===d||d.call(y,y,o,l),o.push(y)}}return null===o?null:[o,l]}(e,i);let g,y;null===d?g=y=null:[g,y]=d,null!==g&&G0(e,n,i,g,l,y),l&&function Ws(e,n,i){if(n){const o=e.localNames=[];for(let l=0;l<n.length;l+=2){const d=i[n[l+1]];if(null==d)throw new Bt(-301,!1);o.push(n[l],d)}}}(i,o,l)}i.mergedAttrs=Qo(i.mergedAttrs,i.attrs)}function G0(e,n,i,o,l,d){for(let ae=0;ae<o.length;ae++)Nu(Rl(i,n),e,o[ae].type);!function X0(e,n,i){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+i,e.providerIndexes=n}(i,e.data.length,o.length);for(let ae=0;ae<o.length;ae++){const Ve=o[ae];Ve.providersResolver&&Ve.providersResolver(Ve)}let g=!1,y=!1,T=cg(e,n,o.length,null);for(let ae=0;ae<o.length;ae++){const Ve=o[ae];i.mergedAttrs=Qo(i.mergedAttrs,Ve.hostAttrs),hf(e,i,n,T,Ve),q0(T,Ve,l),null!==Ve.contentQueries&&(i.flags|=4),(null!==Ve.hostBindings||null!==Ve.hostAttrs||0!==Ve.hostVars)&&(i.flags|=64);const Ze=Ve.type.prototype;var $,Q;!g&&(Ze.ngOnChanges||Ze.ngOnInit||Ze.ngDoCheck)&&((null!==($=e.preOrderHooks)&&void 0!==$?$:e.preOrderHooks=[]).push(i.index),g=!0),y||!Ze.ngOnChanges&&!Ze.ngDoCheck||((null!==(Q=e.preOrderCheckHooks)&&void 0!==Q?Q:e.preOrderCheckHooks=[]).push(i.index),y=!0),T++}!function zA(e,n,i){const l=n.directiveEnd,d=e.data,g=n.attrs,y=[];let T=null,$=null;for(let Q=n.directiveStart;Q<l;Q++){const ae=d[Q],Ve=i?i.get(ae):null,We=Ve?Ve.outputs:null;T=cf(0,ae.inputs,Q,T,Ve?Ve.inputs:null),$=cf(1,ae.outputs,Q,$,We);const zt=null===T||null===g||Yo(n)?null:Yd(T,Q,g);y.push(zt)}null!==T&&(T.hasOwnProperty("class")&&(n.flags|=8),T.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=y,n.inputs=T,n.outputs=$}(e,i,d)}function Hv(e,n,i){const o=i.directiveStart,l=i.directiveEnd,d=i.index,g=function Mh(){return wr.lFrame.currentDirectiveIndex}();try{oa(d);for(let y=o;y<l;y++){const T=e.data[y],$=n[y];Ru(y),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&K0(T,$)}}finally{oa(-1),Ru(g)}}function K0(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function aa(e,n,i){var o;n.componentOffset=i,(null!==(o=e.components)&&void 0!==o?o:e.components=[]).push(n.index)}function q0(e,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=e;di(n)&&(i[""]=e)}}function hf(e,n,i,o,l){e.data[o]=l;const d=l.factory||(l.factory=ho(l.type)),g=new Ia(d,di(l),Qd);e.blueprint[o]=g,i[o]=g,function W0(e,n,i,o,l){const d=l.hostBindings;if(d){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const y=~n.index;(function hg(e){let n=e.length;for(;n>0;){const i=e[--n];if("number"==typeof i&&i<0)return i}return 0})(g)!=y&&g.push(y),g.push(i,o,d)}}(e,n,o,cg(e,i,l.hostVars,Br),l)}function oo(e,n,i,o,l,d){const g=Uo(e,n);!function zv(e,n,i,o,l,d,g){if(null==d)e.removeAttribute(n,l,i);else{const y=null==g?Jn(d):g(d,o||"",l);e.setAttribute(n,l,y,i)}}(n[vr],g,d,e.value,i,o,l)}function Gv(e,n,i,o,l,d){const g=d[n];if(null!==g)for(let y=0;y<g.length;)V0(o,i,g[y++],g[y++],g[y++],g[y++])}function Yd(e,n,i){let o=null,l=0;for(;l<i.length;){const d=i[l];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===o&&(o=[]);const g=e[d];for(let y=0;y<g.length;y+=3)if(g[y]===n){o.push(d,g[y+1],g[y+2],i[l+1]);break}}l+=2}else l+=2;else l+=4}return o}function Ku(e,n,i,o){return[e,!0,0,n,null,o,null,i,null,null]}function fg(e,n){const i=e.contentQueries;if(null!==i){const o=ge(null);try{for(let l=0;l<i.length;l+=2){const g=i[l+1];if(-1!==g){const y=e.data[g];_a(i[l]),y.contentQueries(2,n[g],g)}}}finally{ge(o)}}}function Ll(e,n){return e[il]?e[Ds][mo]=n:e[il]=n,e[Ds]=n,n}function Wv(e,n,i){_a(0);const o=ge(null);try{n(e,i)}finally{ge(o)}}function Q0(e){var n;return null!==(n=e[Eo])&&void 0!==n?n:e[Eo]=[]}function Y0(e){var n;return null!==(n=e.cleanup)&&void 0!==n?n:e.cleanup=[]}function pg(e,n){const i=e[vi],o=i?i.get(sa,null):null;o&&o.handleError(n)}function pf(e,n,i,o,l){for(let d=0;d<i.length;){const g=i[d++],y=i[d++],T=i[d++];V0(e.data[g],n[g],o,y,T,l)}}function gg(e,n){const i=ws(n,e),o=i[_n];!function Z0(e,n){for(let i=n.length;i<e.blueprint.length;i++)n.push(e.blueprint[i])}(o,i);const l=i[zr];null!==l&&null===i[ki]&&(i[ki]=ov(l,i[vi])),qv(o,i,i[gi])}function qv(e,n,i){_d(n);try{var o;const l=e.viewQuery;null!==l&&Wv(1,l,i);const d=e.template;null!==d&&jA(e,n,d,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),null===(o=n[Jo])||void 0===o||o.finishViewCreation(e),e.staticContentQueries&&fg(e,n),e.staticViewQueries&&Wv(2,e.viewQuery,i);const g=e.components;null!==g&&function Xv(e,n){for(let i=0;i<n.length;i++)gg(e,n[i])}(n,g)}catch(l){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),l}finally{n[Yn]&=-5,Pu()}}function Zd(e,n,i,o){const l=ge(null);try{var d,g,y;const T=n.tView,ae=ug(e,T,i,4096&e[Yn]?4096:16,null,n,null,null,null!==(d=null==o?void 0:o.injector)&&void 0!==d?d:null,null!==(g=null==o?void 0:o.embeddedViewInjector)&&void 0!==g?g:null,null!==(y=null==o?void 0:o.dehydratedView)&&void 0!==y?y:null);ae[Zl]=e[n.index];const Ze=e[Jo];return null!==Ze&&(ae[Jo]=Ze.createEmbeddedView(T)),qv(T,ae,i),ae}finally{ge(l)}}function qu(e,n){return!n||null===n.firstChild||Pl(e)}function Jd(e,n,i,o=!0){const l=n[_n];if(function Lc(e,n,i,o){const l=wi+o,d=i.length;o>0&&(i[l-1][mo]=n),o<d-wi?(n[mo]=i[l],Co(i,wi+o,n)):(i.push(n),n[mo]=null),n[Di]=i;const g=n[Zl];null!==g&&i!==g&&Fl(g,n);const y=n[Jo];null!==y&&y.insertView(e),hd(n),n[Yn]|=128}(l,n,e,i),o){const g=Nv(i,e),y=n[vr],T=lf(y,e[ea]);null!==T&&function kA(e,n,i,o,l,d){o[zr]=l,o[yi]=n,kv(e,o,i,1,l,d)}(l,e[yi],y,n,T,g)}const d=n[ki];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function gf(e,n,i,o,l=!1){for(;null!==i;){if(128===i.type){i=l?i.projectionNext:i.next;continue}const d=n[i.index];null!==d&&o.push(ni(d)),Yi(d)&&J0(d,o);const g=i.type;if(8&g)gf(e,n,i.child,o);else if(32&g){const y=og(i,n);let T;for(;T=y();)o.push(T)}else if(16&g){const y=O0(n,i);if(Array.isArray(y))o.push(...y);else{const T=na(n[Fi]);gf(T[_n],T,y,o,!0)}}i=l?i.projectionNext:i.next}return o}function J0(e,n){for(let i=wi;i<e.length;i++){const o=e[i],l=o[_n].firstChild;null!==l&&gf(o[_n],o,l,n)}e[ea]!==e[zr]&&n.push(e[ea])}let eI=[];const nI={...Pe,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{fd(e.lView)},consumerOnSignalRead(){this.lView[$s]=this}},KA={...Pe,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=na(e.lView);for(;n&&!qA(n[_n]);)n=na(n);n&&dd(n)},consumerOnSignalRead(){this.lView[$s]=this}};function qA(e){return 2!==e.type}const XA=100;function eh(e,n=!0,i=0){const o=e[Lo],l=o.rendererFactory;var g;null===(g=l.begin)||void 0===g||g.call(l);try{!function QA(e,n){const i=fc();try{up(!0),iI(e,n);let o=0;for(;js(e);){if(o===XA)throw new Bt(103,!1);o++,iI(e,1)}}finally{up(i)}}(e,i)}catch($){throw n&&pg(e,$),$}finally{var y,T;null===(y=l.end)||void 0===y||y.call(l),null===(T=o.inlineEffectRunner)||void 0===T||T.flush()}}function YA(e,n,i,o){var l;const d=n[Yn];if(!(256&~d))return;null===(l=n[Lo].inlineEffectRunner)||void 0===l||l.flush(),_d(n);let T=!0,$=null,Q=null;qA(e)?(Q=function tI(e){var n;return null!==(n=e[$s])&&void 0!==n?n:function WA(e){var n;const i=null!==(n=eI.pop())&&void 0!==n?n:Object.create(nI);return i.lView=e,i}(e)}(n),$=Be(Q)):null===function Ce(){return h}()?(T=!1,Q=function mg(e){var n;const i=null!==(n=e[$s])&&void 0!==n?n:Object.create(KA);return i.lView=e,i}(n),$=Be(Q)):n[$s]&&(at(n[$s]),n[$s]=null);try{cd(n),function Ph(e){return wr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&jA(e,n,i,2,o);const ae=!(3&~d);if(ae){const We=e.preOrderCheckHooks;null!==We&&vc(n,We,null)}else{const We=e.preOrderHooks;null!==We&&Wa(n,We,0,null),_c(n,0)}if(function jb(e){for(let n=Yy(e);null!==n;n=Pp(n)){if(!(n[Yn]&La.HasTransplantedViews))continue;const i=n[Fa];for(let o=0;o<i.length;o++)dd(i[o])}}(n),ZA(n,0),null!==e.contentQueries&&fg(e,n),ae){const We=e.contentCheckHooks;null!==We&&vc(n,We)}else{const We=e.contentHooks;null!==We&&Wa(n,We,1),_c(n,1)}!function BA(e,n){const i=e.hostBindingOpCodes;if(null!==i)try{for(let o=0;o<i.length;o++){const l=i[o];if(l<0)oa(~l);else{const d=l,g=i[++o],y=i[++o];Em(g,d),y(2,n[d])}}}finally{oa(-1)}}(e,n);const Ve=e.components;null!==Ve&&eC(n,Ve,0);const Ze=e.viewQuery;if(null!==Ze&&Wv(2,Ze,o),ae){const We=e.viewCheckHooks;null!==We&&vc(n,We)}else{const We=e.viewHooks;null!==We&&Wa(n,We,2),_c(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[_i]){for(const We of n[_i])We();n[_i]=null}n[Yn]&=-73}catch(ae){throw fd(n),ae}finally{null!==Q&&(Qe(Q,$),T&&function Bb(e){e.lView[$s]!==e&&(e.lView=null,eI.push(e))}(Q)),Pu()}}function ZA(e,n){for(let i=Yy(e);null!==i;i=Pp(i))for(let o=wi;o<i.length;o++)JA(i[o],n)}function Hb(e,n,i){JA(ws(n,e),i)}function JA(e,n){bh(e)&&iI(e,n)}function iI(e,n){const o=e[_n],l=e[Yn],d=e[$s];let g=!!(0===n&&16&l);if(g||(g=!!(64&l&&0===n)),g||(g=!!(1024&l)),g||(g=!(null==d||!d.dirty||!ct(d))),g||(g=!1),d&&(d.dirty=!1),e[Yn]&=-9217,g)YA(o,e,o.template,e[gi]);else if(8192&l){ZA(e,1);const y=o.components;null!==y&&eC(e,y,1)}}function eC(e,n,i){for(let o=0;o<n.length;o++)Hb(e,n[o],i)}function vg(e,n){var i;const o=fc()?64:1088;for(null===(i=e[Lo].changeDetectionScheduler)||void 0===i||i.notify(n);e;){e[Yn]|=o;const l=na(e);if(Hr(e)&&!l)return e;e=l}return null}class _g{get rootNodes(){const n=this._lView,i=n[_n];return gf(i,n,i.firstChild,[])}constructor(n,i,o=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gi]}set context(n){this._lView[gi]=n}get destroyed(){return!(256&~this._lView[Yn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Di];if(Yi(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(Xa(n,o),Xi(i,o))}this._attachedToViewContainer=!1}sg(this._lView[_n],this._lView)}onDestroy(n){tu(this._lView,n)}markForCheck(){vg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Yn]&=-129}reattach(){hd(this._lView),this._lView[Yn]|=128}detectChanges(){this._lView[Yn]|=1024,eh(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Bt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Hr(this._lView),i=this._lView[Zl];null!==i&&!n&&Vc(i,this._lView),FA(this._lView[_n],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Bt(902,!1);this._appRef=n;const i=Hr(this._lView),o=this._lView[Zl];null!==o&&!i&&Fl(o,this._lView),hd(this._lView)}}let yg=(()=>{class n{}return n.__NG_ELEMENT_ID__=Zv,n})();const zb=yg,Ig=class extends zb{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,o){const l=Zd(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:o});return new _g(l)}};function Zv(){return Eg(Ei(),Zt())}function Eg(e,n){return 4&e.type?new Ig(n,e,Fu(e,n)):null}let II=()=>null;function nh(e,n){return II(e,n)}class If{}const Ef=new Nn("",{providedIn:"root",factory:()=>!1}),TC=new Nn(""),EI=new Nn("");class TD{}class bC{}class DD{resolveComponentFactory(n){throw function bD(e){const n=Error(`No component factory found for ${rr(e)}.`);return n.ngComponent=e,n}(n)}}class Sg{}Sg.NULL=new DD;class AI{}let wC=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function SC(){const e=Zt(),i=ws(Ei().index,e);return(Hi(i)?i:e)[vr]}(),n})(),CI=(()=>{var e;class n{}return(e=n).\u0275prov=Ar({token:e,providedIn:"root",factory:()=>null}),n})();function Xu(e){return!!ji(e)}function Mg(e,n,i){let o=i?e.styles:null,l=i?e.classes:null,d=0;if(null!==n)for(let g=0;g<n.length;g++){const y=n[g];"number"==typeof y?d=y:1==d?l=St(l,y):2==d&&(o=St(o,y+": "+n[++g]+";"))}i?e.styles=o:e.stylesWithoutHost=o,i?e.classes=l:e.classesWithoutHost=l}class u_ extends Sg{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=br(n);return new Tf(i,this.ngModule)}}function c_(e,n){const i=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const l=e[o];if(void 0===l)continue;const d=Array.isArray(l),g=d?l[0]:l;i.push(n?{propName:g,templateName:o,isSignal:!!((d?l[1]:To.None)&To.SignalBased)}:{propName:g,templateName:o})}return i}class Tf extends bC{get inputs(){const n=this.componentDef,i=n.inputTransforms,o=c_(n.inputs,!0);if(null!==i)for(const l of o)i.hasOwnProperty(l.propName)&&(l.transform=i[l.propName]);return o}get outputs(){return c_(this.componentDef.outputs,!1)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Ln(e){return e.map(ln).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,o,l){const d=ge(null);try{var y;let T=(l=l||this.ngModule)instanceof bo?l:null===(y=l)||void 0===y?void 0:y.injector;T&&null!==this.componentDef.getStandaloneInjector&&(T=this.componentDef.getStandaloneInjector(T)||T);const $=T?new X(n,T):n,Q=$.get(AI,null);if(null===Q)throw new Bt(407,!1);const Ze={rendererFactory:Q,sanitizer:$.get(CI,null),inlineEffectRunner:null,changeDetectionScheduler:$.get(If,null)},We=Q.createRenderer(null,this.componentDef),zt=this.componentDef.selectors[0][0]||"div",un=o?function Fb(e,n,i,o){const d=o.get(jp,!1)||i===Oi.ShadowDom,g=e.selectRootElement(n,d);return function B0(e){Uv(e)}(g),g}(We,o,this.componentDef.encapsulation,$):Rv(We,zt,function RC(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(zt));let An=512;this.componentDef.signals?An|=4096:this.componentDef.onPush||(An|=16);let Jt=null;null!==un&&(Jt=ov(un,$,!0));const Ir=$0(0,null,null,1,0,null,null,null,null,null,null),Mr=ug(null,Ir,null,An,null,null,Ze,We,$,null,Jt);_d(Mr);let to,vs,ua=null;try{const vl=this.componentDef;let rp,db=null;vl.findHostDirectiveDefs?(rp=[],db=new Map,vl.findHostDirectiveDefs(vl,rp,db),rp.push(vl)):rp=[vl];const bN=function DI(e,n){const i=e[_n],o=tr;return e[o]=n,Bc(i,o,2,"#host",null)}(Mr,un);ua=function MC(e,n,i,o,l,d,g){const y=l[_n];!function xC(e,n,i,o){for(const l of e)n.mergedAttrs=Qo(n.mergedAttrs,l.hostAttrs);null!==n.mergedAttrs&&(Mg(n,n.mergedAttrs,!0),null!==i&&$A(o,i,n))}(o,e,n,g);let T=null;null!==n&&(T=ov(n,l[vi]));const $=d.rendererFactory.createRenderer(n,i);let Q=16;i.signals?Q=4096:i.onPush&&(Q=64);const ae=ug(l,HA(i),null,Q,l[e.index],e,d,$,null,null,T);return y.firstCreatePass&&aa(y,e,o.length-1),Ll(l,ae),l[e.index]=ae}(bN,un,vl,rp,Mr,Ze,We),vs=eu(Ir,tr),un&&function rh(e,n,i,o){if(o)Xo(e,i,["ng-version","18.2.9"]);else{const{attrs:l,classes:d}=function Wr(e){const n=[],i=[];let o=1,l=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===l?""!==d&&n.push(d,e[++o]):8===l&&i.push(d);else{if(!go(l))break;l=d}o++}return{attrs:n,classes:i}}(n.selectors[0]);l&&Xo(e,i,l),d&&d.length>0&&F0(e,i,d.join(" "))}}(We,vl,un,o),void 0!==i&&function wI(e,n,i){const o=e.projection=[];for(let l=0;l<n.length;l++){const d=i[l];o.push(null!=d?Array.from(d):null)}}(vs,this.ngContentSelectors,i),to=function NC(e,n,i,o,l,d){const g=Ei(),y=l[_n],T=Uo(g,l);G0(y,l,g,i,null,o);for(let Q=0;Q<i.length;Q++)rs(Ou(l,y,g.directiveStart+Q,g),l);Hv(y,l,g),T&&rs(T,l);const $=Ou(l,y,g.directiveStart+g.componentOffset,g);if(e[gi]=l[gi]=$,null!==d)for(const Q of d)Q($,n);return U0(y,g,l),$}(ua,vl,rp,db,Mr,[SI]),qv(Ir,Mr,null)}catch(vl){throw null!==ua&&$m(ua),$m(Mr),vl}finally{Pu()}return new PC(this.componentType,to,Fu(vs,Mr),Mr,vs)}finally{ge(d)}}}class PC extends TD{constructor(n,i,o,l,d){super(),this.location=o,this._rootLView=l,this._tNode=d,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new _g(l,void 0,!1),this.componentType=n}setInput(n,i){const o=this._tNode.inputs;let l;if(null!==o&&(l=o[n])){var d;if(null!==(d=this.previousInputValues)&&void 0!==d||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const g=this._rootLView;pf(g[_n],g,l,n,i),this.previousInputValues.set(n,i),vg(ws(this._tNode.index,g),1)}}get injector(){return new No(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function SI(){const e=Ei();lu(Zt()[_n],e)}let Yu=(()=>{class n{}return n.__NG_ELEMENT_ID__=bf,n})();function bf(){return MI(Ei(),Zt())}const Ms=Yu,RI=class extends Ms{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return Fu(this._hostTNode,this._hostLView)}get injector(){return new No(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ac(this._hostTNode,this._hostLView);if(ve(n)){const i=pn(n,this._hostLView),o=gt(n);return new No(i[_n].data[o+8],i)}return new No(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=PI(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-wi}createEmbeddedView(n,i,o){let l,d;"number"==typeof o?l=o:null!=o&&(l=o.index,d=o.injector);const g=nh(this._lContainer,n.ssrId),y=n.createEmbeddedViewImpl(i||{},d,g);return this.insertImpl(y,l,qu(this._hostTNode,g)),y}createComponent(n,i,o,l,d){var g,y,T;const $=n&&!function cn(e){return"function"==typeof e}(n);let Q;if($)Q=i;else{const An=i||{};Q=An.index,o=An.injector,l=An.projectableNodes,d=An.environmentInjector||An.ngModuleRef}const ae=$?n:new Tf(br(n)),Ve=o||this.parentInjector;if(!d&&null==ae.ngModule){const Jt=($?Ve:this.parentInjector).get(bo,null);Jt&&(d=Jt)}const Ze=br(null!==(g=ae.componentType)&&void 0!==g?g:{}),We=nh(this._lContainer,null!==(y=null==Ze?void 0:Ze.id)&&void 0!==y?y:null),zt=null!==(T=null==We?void 0:We.firstChild)&&void 0!==T?T:null,un=ae.create(Ve,l,zt,d);return this.insertImpl(un.hostView,Q,qu(this._hostTNode,We)),un}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,o){const l=n._lView;if(function ud(e){return Yi(e[Di])}(l)){const y=this.indexOf(n);if(-1!==y)this.detach(y);else{const T=l[Di],$=new RI(T,T[yi],T[Di]);$.detach($.indexOf(n))}}const d=this._adjustIndex(i),g=this._lContainer;return Jd(g,l,d,o),n.attachToViewContainerRef(),Co(d_(g),d,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=PI(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=Xa(this._lContainer,i);o&&(Xi(d_(this._lContainer),i),sg(o[_n],o))}detach(n){const i=this._adjustIndex(n,-1),o=Xa(this._lContainer,i);return o&&null!=Xi(d_(this._lContainer),i)?new _g(o):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function PI(e){return e[8]}function d_(e){return e[8]||(e[8]=[])}function MI(e,n){let i;const o=n[e.index];return Yi(o)?i=o:(i=Ku(o,n,null,e),n[e.index]=i,Ll(n,i)),xI(i,n,e,o),new RI(i,e,n)}let xI=function xg(e,n,i,o){if(e[ea])return;let l;l=8&i.type?ni(o):function OC(e,n){const i=e[vr],o=i.createComment(""),l=Uo(n,e);return Uc(i,lf(i,l),o,function x0(e,n){return e.nextSibling(n)}(i,l),!1),o}(n,i),e[ea]=l},ih=()=>!1;class Zu{constructor(n){this.queryList=n,this.matches=null}clone(){return new Zu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ng{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,l=[];for(let d=0;d<o;d++){const g=i.getByIndex(d);l.push(this.queries[g.indexInDeclarationView].clone())}return new Ng(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==kg(n,i).matches&&this.queries[i].setDirty()}}class OI{constructor(n,i,o=null){this.flags=i,this.read=o,this.predicate="string"==typeof n?function v_(e){return e.split(",").map(n=>n.trim())}(n):n}}class oh{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const l=null!==i?i.length:0,d=this.getByIndex(o).embeddedTView(n,l);d&&(d.indexInDeclarationView=o,null!==i?i.push(d):i=[d])}return null!==i?new oh(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class p_{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new p_(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let l=0;l<o.length;l++){const d=o[l];this.matchTNodeWithReadOption(n,i,kC(i,d)),this.matchTNodeWithReadOption(n,i,gp(i,n,d,!1,!1))}else o===yg?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,gp(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const l=this.metadata.read;if(null!==l)if(l===jh||l===Yu||l===yg&&4&i.type)this.addMatch(i.index,-2);else{const d=gp(i,n,l,!1,!1);null!==d&&this.addMatch(i.index,d)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function kC(e,n){const i=e.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function LC(e,n,i,o){return-1===i?function FC(e,n){return 11&e.type?Fu(e,n):4&e.type?Eg(e,n):null}(n,e):-2===i?function VC(e,n,i){return i===jh?Fu(n,e):i===yg?Eg(n,e):i===Yu?MI(n,e):void 0}(e,n,o):Ou(e,e[_n],i,n)}function kI(e,n,i,o){const l=n[Jo].queries[o];if(null===l.matches){const d=e.data,g=i.matches,y=[];for(let T=0;null!==g&&T<g.length;T+=2){const $=g[T];y.push($<0?null:LC(n,d[$],g[T+1],i.metadata.read))}l.matches=y}return l.matches}function g_(e,n,i,o){const l=e.queries.getByIndex(i),d=l.matches;if(null!==d){const g=kI(e,n,l,i);for(let y=0;y<d.length;y+=2){const T=d[y];if(T>0)o.push(g[y/2]);else{const $=d[y+1],Q=n[-T];for(let ae=wi;ae<Q.length;ae++){const Ve=Q[ae];Ve[Zl]===Ve[Di]&&g_(Ve[_n],Ve,$,o)}if(null!==Q[Fa]){const ae=Q[Fa];for(let Ve=0;Ve<ae.length;Ve++){const Ze=ae[Ve];g_(Ze[_n],Ze,$,o)}}}}}return o}function FI(e,n,i){var o;const l=new Hh(!(4&~i));return function Ub(e,n,i,o){const l=Q0(n);l.push(i),e.firstCreatePass&&Y0(e).push(o,l.length-1)}(e,n,l,l.destroy),(null!==(o=n[Jo])&&void 0!==o?o:n[Jo]=new Ng).queries.push(new Zu(l))-1}function __(e,n,i){null===e.queries&&(e.queries=new oh),e.queries.track(new p_(n,i))}function kg(e,n){return e.queries.getByIndex(n)}function y_(e,n){const i=e[_n],o=kg(i,n);return o.crossesNgTemplate?g_(i,e,n,[]):kI(i,e,o,n)}const LI=new Set;function Ks(e){var n,i;LI.has(e)||(LI.add(e),null===(n=performance)||void 0===n||null===(i=n.mark)||void 0===i||i.call(n,"mark_feature_usage",{detail:{feature:e}}))}function $I(e,n){Ks("NgSignals");const i=function ee(e){const n=Object.create(tt);n.value=e;const i=()=>(pe(n),n.value);return i[ue]=n,i}(e),o=i[ue];return null!=n&&n.equal&&(o.equal=n.equal),i.set=l=>le(o,l),i.update=l=>function be(e,n){it()||Et(),le(e,n(e.value))}(o,l),i.asReadonly=BI.bind(i),i}function BI(){const e=this[ue];if(void 0===e.readonlyFn){const n=()=>this();n[ue]=e,e.readonlyFn=n}return e.readonlyFn}function D_(e){let n=function Qa(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const o=[e];for(;n;){let l;if(di(e))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Bt(903,!1);l=n.\u0275dir}if(l){if(i){o.push(l);const g=e;g.inputs=Vg(e.inputs),g.inputTransforms=Vg(e.inputTransforms),g.declaredInputs=Vg(e.declaredInputs),g.outputs=Vg(e.outputs);const y=l.hostBindings;y&&JC(e,y);const T=l.viewQuery,$=l.contentQueries;if(T&&KI(e,T),$&&Hc(e,$),YC(e,l),nr(e.outputs,l.outputs),di(l)&&l.data.animation){const Q=e.data;Q.animation=(Q.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let g=0;g<d.length;g++){const y=d[g];y&&y.ngInherit&&y(e),y===D_&&(i=!1)}}n=Object.getPrototypeOf(n)}!function ZC(e){let n=0,i=null;for(let o=e.length-1;o>=0;o--){const l=e[o];l.hostVars=n+=l.hostVars,l.hostAttrs=Qo(l.hostAttrs,i=Qo(i,l.hostAttrs))}}(o)}function YC(e,n){for(const o in n.inputs){if(!n.inputs.hasOwnProperty(o)||e.inputs.hasOwnProperty(o))continue;const l=n.inputs[o];if(void 0!==l&&(e.inputs[o]=l,e.declaredInputs[o]=n.declaredInputs[o],null!==n.inputTransforms)){var i;const d=Array.isArray(l)?l[0]:l;if(!n.inputTransforms.hasOwnProperty(d))continue;null!==(i=e.inputTransforms)&&void 0!==i||(e.inputTransforms={}),e.inputTransforms[d]=n.inputTransforms[d]}}}function Vg(e){return e===Vi?{}:e===xr?[]:e}function KI(e,n){const i=e.viewQuery;e.viewQuery=i?(o,l)=>{n(o,l),i(o,l)}:n}function Hc(e,n){const i=e.contentQueries;e.contentQueries=i?(o,l,d)=>{n(o,l,d),i(o,l,d)}:n}function JC(e,n){const i=e.hostBindings;e.hostBindings=i?(o,l)=>{n(o,l),i(o,l)}:n}function YI(e){const n=e.inputConfig,i={};for(const o in n)if(n.hasOwnProperty(o)){const l=n[o];Array.isArray(l)&&l[3]&&(i[o]=l[3])}e.inputTransforms=i}class zc{}class ZI{}function JI(e,n){return new R_(e,null!=n?n:null,[])}class R_ extends zc{constructor(n,i,o,l=!0){super(),this.ngModuleType=n,this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new u_(this);const d=ji(n);this._bootstrapComponents=Ea(d.bootstrap),this._r3Injector=Fy(n,i,[{provide:zc,useValue:this},{provide:Sg,useValue:this.componentFactoryResolver},...o],rr(n),new Set(["environment"])),l&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Ug extends ZI{constructor(n){super(),this.moduleType=n}create(n){return new R_(this.moduleType,n,[])}}class P_ extends zc{constructor(n){super(),this.componentFactoryResolver=new u_(this),this.instance=null;const i=new Do([...n.providers,{provide:zc,useValue:this},{provide:Sg,useValue:this.componentFactoryResolver}],n.parent||rl(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function M_(e,n,i=null){return new P_({providers:e,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}function Mf(e){return!!tE(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function tE(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function So(e,n,i){return!Object.is(e[n],i)&&(e[n]=i,!0)}function Nf(e,n,i,o,l,d,g,y,T,$){const Q=i+tr,ae=n.firstCreatePass?function Bg(e,n,i,o,l,d,g,y,T){const $=n.consts,Q=Bc(n,e,4,g||null,y||null);jv(n,i,Q,ta($,T)),lu(n,Q);const ae=Q.tView=$0(2,Q,o,l,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,$,null);return null!==n.queries&&(n.queries.template(n,Q),ae.queries=n.queries.embeddedTView(Q)),Q}(Q,n,e,o,l,d,g,y,T):n.data[Q];ra(ae,!1);const Ve=N_(n,e,ae,i);au()&&qd(n,e,Ve,ae),rs(Ve,e);const Ze=Ku(Ve,e,Ve,ae);return e[Q]=Ze,Ll(e,Ze),function h_(e,n,i){return ih(e,n,i)}(Ze,ae,e),Tl(ae)&&dg(n,e,ae),null!=T&&Vv(e,ae,$),ae}function jg(e,n,i,o,l,d,g,y){const T=Zt(),$=Nr();return Nf(T,$,e,n,i,o,l,ta($.consts,d),g,y),jg}let N_=function aT(e,n,i,o){return ya(!0),n[vr].createComment("")};var uh=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(uh||{});let sE=(()=>{var e;class n{constructor(){this.impl=null}execute(){var o;null===(o=this.impl)||void 0===o||o.execute()}}return(e=n).\u0275prov=Ar({token:e,providedIn:"root",factory:()=>new e}),n})();class Wg{constructor(){this.ngZone=wt(Ci),this.scheduler=wt(If),this.errorHandler=wt(sa,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const i of Wg.PHASES)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[i])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>o.hooks[i](o.pipelinedValue))}catch(l){var n;o.erroredOrDestroyed=!0,null===(n=this.errorHandler)||void 0===n||n.handleError(l)}this.executing=!1;for(const i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(const i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}}(kt=Wg).PHASES=[uh.EarlyRead,uh.Write,uh.MixedReadWrite,uh.Read],kt.\u0275prov=Ar({token:kt,providedIn:"root",factory:()=>new kt});class uT{constructor(n,i,o,l){this.impl=n,this.hooks=i,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=null==l?void 0:l.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){var n;this.impl.unregister(this),null===(n=this.unregisterOnDestroy)||void 0===n||n.call(this)}}function O_(e,n){var i;(null==n||!n.injector)&&function b(e){if(!Yl())throw new Bt(-203,!1)}();const o=null!==(i=null==n?void 0:n.injector)&&void 0!==i?i:wt(Ri);return function Ps(e){return"browser"===(null!=e?e:wt(Ri)).get(Nd)}(o)?(Ks("NgAfterNextRender"),function aE(e,n,i,o){var l,d;const g=n.get(sE);null!==(l=g.impl)&&void 0!==l||(g.impl=n.get(Wg));const y=null!==(d=null==i?void 0:i.phase)&&void 0!==d?d:uh.MixedReadWrite,T=!0!==(null==i?void 0:i.manualCleanup)?n.get(Uh):null,$=new uT(g.impl,function HD(e,n){if(e instanceof Function){const i=[void 0,void 0,void 0,void 0];return i[n]=e,i}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,y),o,T);return g.impl.register($),$}(e,o,n,!0)):a}const a={destroy(){}};function qc(e,n,i,o){const l=Zt();return So(l,ts(),n)&&(Nr(),oo(Ai(),l,e,n,i,o)),qc}function Hf(e,n){return e<<17|n<<2}function Ya(e){return e>>17&32767}function K_(e){return 2|e}function Za(e){return(131068&e)>>2}function q_(e,n){return-131069&e|n<<2}function mh(e){return 1|e}function X_(e,n,i,o){const l=e[i+1],d=null===n;let g=o?Ya(l):Za(l),y=!1;for(;0!==g&&(!1===y||d);){const $=e[g+1];pE(e[g],n)&&(y=!0,e[g+1]=o?mh($):K_($)),g=o?Ya($):Za($)}y&&(e[i+1]=o?K_(l):mh(l))}function pE(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&as(e,n)>=0}function Gf(e,n,i){const o=Zt();return So(o,ts(),n)&&function Gs(e,n,i,o,l,d,g,y){const T=Uo(n,i);let Q,$=n.inputs;!y&&null!=$&&(Q=$[o])?(pf(e,i,Q,o,l),Ua(n)&&function H0(e,n){const i=ws(n,e);16&i[Yn]||(i[Yn]|=64)}(i,n.index)):3&n.type&&(o=function Bv(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),l=null!=g?g(l,n.value||"",o):l,d.setProperty(T,o,l))}(Nr(),Ai(),o,e,n,o[vr],i,!1),Gf}function Wf(e,n,i,o,l){const g=l?"class":"style";pf(e,i,n.inputs[g],g,o)}function im(e,n){return function ml(e,n,i,o){const l=Zt(),d=Nr(),g=function va(e){const n=wr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,i}(2);d.firstUpdatePass&&function Kf(e,n,i,o){const l=e.data;if(null===l[i+1]){const d=l[Zi()],g=function Wl(e,n){return n>=e.expandoStartIndex}(e,i);(function ty(e,n){return!!(e.flags&(n?8:16))})(d,o)&&null===n&&!g&&(n=!1),n=function om(e,n,i,o){const l=function xh(e){const n=wr.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let d=o?n.residualClasses:n.residualStyles;if(null===l)0===(o?n.classBindings:n.styleBindings)&&(i=yu(i=ed(null,e,n,i,o),n.attrs,o),d=null);else{const g=n.directiveStylingLast;if(-1===g||e[g]!==l)if(i=ed(l,e,n,i,o),null===d){let T=function EE(e,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==Za(o))return e[Ya(o)]}(e,n,o);void 0!==T&&Array.isArray(T)&&(T=ed(null,e,n,T[1],o),T=yu(T,n.attrs,o),function ro(e,n,i,o){e[Ya(i?n.classBindings:n.styleBindings)]=o}(e,n,o,T))}else d=function sm(e,n,i){let o;const l=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<l;d++)o=yu(o,e[d].hostAttrs,i);return yu(o,n.attrs,i)}(e,n,o)}return void 0!==d&&(o?n.residualClasses=d:n.residualStyles=d),i}(l,d,n,o),function em(e,n,i,o,l,d){let g=d?n.classBindings:n.styleBindings,y=Ya(g),T=Za(g);e[o]=i;let Q,$=!1;if(Array.isArray(i)?(Q=i[1],(null===Q||as(i,Q)>0)&&($=!0)):Q=i,l)if(0!==T){const Ve=Ya(e[y+1]);e[o+1]=Hf(Ve,y),0!==Ve&&(e[Ve+1]=q_(e[Ve+1],o)),e[y+1]=function mT(e,n){return 131071&e|n<<17}(e[y+1],o)}else e[o+1]=Hf(y,0),0!==y&&(e[y+1]=q_(e[y+1],o)),y=o;else e[o+1]=Hf(T,0),0===y?y=o:e[T+1]=q_(e[T+1],o),T=o;$&&(e[o+1]=K_(e[o+1])),X_(e,Q,o,!0),X_(e,Q,o,!1),function nc(e,n,i,o,l){const d=l?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof n&&as(d,n)>=0&&(i[o+1]=mh(i[o+1]))}(n,Q,e,o,d),g=Hf(y,T),d?n.classBindings=g:n.styleBindings=g}(l,d,n,i,g,o)}}(d,e,g,o),n!==Br&&So(l,g,n)&&function AE(e,n,i,o,l,d,g,y){if(!(3&n.type))return;const T=e.data,$=T[y+1],Q=function vT(e){return!(1&~e)}($)?CE(T,n,i,l,Za($),g):void 0;rc(Q)||(rc(d)||function zf(e){return!(2&~e)}($)&&(d=CE(T,null,i,l,y,g)),function VA(e,n,i,o,l){if(n)l?e.addClass(i,o):e.removeClass(i,o);else{let d=-1===o.indexOf("-")?void 0:rf.DashCase;null==l?e.removeStyle(i,o,d):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),d|=rf.Important),e.setStyle(i,o,l,d))}}(o,g,al(Zi(),i),l,d))}(d,d.data[Zi()],l,l[vr],e,l[g+1]=function ic(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=rr(pu(e)))),e}(n,i),o,g)}(e,n,null,!0),im}function ed(e,n,i,o,l){let d=null;const g=i.directiveEnd;let y=i.directiveStylingLast;for(-1===y?y=i.directiveStart:y++;y<g&&(d=n[y],o=yu(o,d.hostAttrs,l),d!==e);)y++;return null!==e&&(i.directiveStylingLast=y),o}function yu(e,n,i){const o=i?1:2;let l=-1;if(null!==n)for(let d=0;d<n.length;d++){const g=n[d];"number"==typeof g?l=g:l===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Pr(e,g,!!i||n[++d]))}return void 0===e?null:e}function CE(e,n,i,o,l,d){const g=null===n;let y;for(;l>0;){const T=e[l],$=Array.isArray(T),Q=$?T[1]:T,ae=null===Q;let Ve=i[l+1];Ve===Br&&(Ve=ae?xr:void 0);let Ze=ae?Mo(Ve,o):Q===o?Ve:void 0;if($&&!rc(Ze)&&(Ze=Mo(T,o)),rc(Ze)&&(y=Ze,g))return y;const We=e[l+1];l=g?Ya(We):Za(We)}if(null!==n){let T=d?n.residualClasses:n.residualStyles;null!=T&&(y=Mo(T,o))}return y}function rc(e){return void 0!==e}function mm(e,n,i,o){const l=Zt(),d=Nr(),g=tr+e,y=l[vr],T=d.firstCreatePass?function gm(e,n,i,o,l,d){const g=n.consts,T=Bc(n,e,2,o,ta(g,l));return jv(n,i,T,ta(g,d)),null!==T.attrs&&Mg(T,T.attrs,!1),null!==T.mergedAttrs&&Mg(T,T.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,T),T}(g,d,l,n,i,o):d.data[g],$=ry(d,l,T,y,n,e);l[g]=$;const Q=Tl(T);return ra(T,!0),$A(y,$,T),!function lh(e){return!(32&~e.flags)}(T)&&au()&&qd(d,l,$,T),0===function ru(){return wr.lFrame.elementDepthCount}()&&rs($,l),function iu(){wr.lFrame.elementDepthCount++}(),Q&&(dg(d,l,T),U0(d,T,l)),null!==o&&Vv(l,T),mm}function Zf(){let e=Ei();Sh()?wl():(e=e.parent,ra(e,!1));const n=e;(function sp(e){return wr.skipHydrationRootTNode===e})(n)&&function gd(){wr.skipHydrationRootTNode=null}(),function op(){wr.lFrame.elementDepthCount--}();const i=Nr();return i.firstCreatePass&&(lu(i,e),Va(e)&&i.queries.elementEnd(e)),null!=n.classesWithoutHost&&function fp(e){return!!(8&e.flags)}(n)&&Wf(i,n,Zt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function A(e){return!!(16&e.flags)}(n)&&Wf(i,n,Zt(),n.stylesWithoutHost,!1),Zf}function td(e,n,i,o){return mm(e,n,i,o),Zf(),td}let ry=(e,n,i,o,l,d)=>(ya(!0),Rv(o,l,function Ga(){return wr.lFrame.currentNamespace}()));function Jf(e,n,i){const o=Zt(),l=Nr(),d=e+tr,g=l.firstCreatePass?function oy(e,n,i,o,l){const d=n.consts,g=ta(d,o),y=Bc(n,e,8,"ng-container",g);return null!==g&&Mg(y,g,!0),jv(n,i,y,ta(d,l)),null!==n.queries&&n.queries.elementStart(n,y),y}(d,l,o,n,i):l.data[d];ra(g,!0);const y=sy(l,o,g,e);return o[d]=y,au()&&qd(l,o,y,g),rs(y,o),Tl(g)&&(dg(l,o,g),U0(l,g,o)),null!=i&&Vv(o,g),Jf}function nd(){let e=Ei();const n=Nr();return Sh()?wl():(e=e.parent,ra(e,!1)),n.firstCreatePass&&(lu(n,e),Va(e)&&n.queries.elementEnd(e)),nd}function vm(e,n,i){return Jf(e,n,i),nd(),vm}let sy=(e,n,i,o)=>(ya(!0),Sv(n[vr],""));function ay(){return Zt()}const Kl=void 0;var NE=["en",[["a","p"],["AM","PM"],Kl],[["AM","PM"],Kl,Kl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kl,"{1} 'at' {0}",Kl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ta(e){const i=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let id={};function _(e){const n=function Hn(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=Te(n);if(i)return i;const o=n.split("-")[0];if(i=Te(o),i)return i;if("en"===o)return NE;throw new Bt(701,!1)}function Z(e){return _(e)[Kt.PluralCase]}function Te(e){return e in id||(id[e]=or.ng&&or.ng.common&&or.ng.common.locales&&or.ng.common.locales[e]),id[e]}var Kt=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Kt||{});const hi="en-US";let tp=hi,aw=(e,n,i)=>{};function OT(e,n,i,o){const l=Zt(),d=Nr(),g=Ei();return function kT(e,n,i,o,l,d,g){const y=Tl(o),$=e.firstCreatePass&&Y0(e),Q=n[gi],ae=Q0(n);let Ve=!0;if(3&o.type||g){const zt=Uo(o,n),un=g?g(zt):zt,An=ae.length,Jt=g?Mr=>g(ni(Mr[o.index])):o.index;let Ir=null;if(!g&&y&&(Ir=function fP(e,n,i,o){const l=e.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const g=l[d];if(g===i&&l[d+1]===o){const y=n[Eo],T=l[d+2];return y.length>T?y[T]:null}"string"==typeof g&&(d+=2)}return null}(e,n,l,o.index)),null!==Ir)(Ir.__ngLastListenerFn__||Ir).__ngNextListenerFn__=d,Ir.__ngLastListenerFn__=d,Ve=!1;else{d=dw(o,n,Q,d),aw(zt,l,d);const Mr=i.listen(un,l,d);ae.push(d,Mr),$&&$.push(l,Jt,An,An+1)}}else d=dw(o,n,Q,d);const Ze=o.outputs;let We;if(Ve&&null!==Ze&&(We=Ze[l])){const zt=We.length;if(zt)for(let un=0;un<zt;un+=2){const to=n[We[un]][We[un+1]].subscribe(d),vs=ae.length;ae.push(d,to),$&&$.push(l,o.index,vs,-(vs+1))}}}(d,l,l[vr],g,e,n,o),OT}function cw(e,n,i,o){const l=ge(null);try{return Bs(6,n,i),!1!==i(o)}catch(d){return pg(e,d),!1}finally{Bs(7,n,i),ge(l)}}function dw(e,n,i,o){return function l(d){if(d===Function)return o;vg(e.componentOffset>-1?ws(e.index,n):n,5);let y=cw(n,i,o,d),T=l.__ngNextListenerFn__;for(;T;)y=cw(n,i,T,d)&&y,T=T.__ngNextListenerFn__;return y}}function hw(e=1){return function dp(e){return(wr.lFrame.contextLView=function ll(e,n){for(;e>0;)n=n[pa],e--;return n}(e,wr.lFrame.contextLView))[gi]}(e)}function pP(e,n){let i=null;const o=function q(e){const n=e.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(e);for(let l=0;l<n.length;l++){const d=n[l];if("*"!==d){if(null===o?Ra(e,d,!0):G(o,d))return l}else i=l}return i}function fw(e){const n=Zt()[Fi][yi];if(!n.projection){const o=n.projection=function ko(e,n){const i=[];for(let o=0;o<e;o++)i.push(n);return i}(e?e.length:1,null),l=o.slice();let d=n.child;for(;null!==d;){if(128!==d.type){const g=e?pP(d,e):0;null!==g&&(l[g]?l[g].projectionNext=d:o[g]=d,l[g]=d)}d=d.next}}}function pw(e,n=0,i,o,l,d){const g=Zt(),y=Nr(),T=o?e+1:null;null!==T&&Nf(g,y,T,o,l,d,null,i);const $=Bc(y,tr+e,16,null,i||null);null===$.projection&&($.projection=n),wl();const ae=!g[ki]||ma();null===g[Fi][yi].projection[$.projection]&&null!==T?function gP(e,n,i){const o=tr+i,l=n.data[o],d=e[o],g=nh(d,l.tView.ssrId);Jd(d,Zd(e,l,void 0,{dehydratedView:g}),0,qu(l,g))}(g,y,T):ae&&32&~$.flags&&function Nb(e,n,i){LA(n[vr],0,n,i,Pv(e,i,n),N0(i.parent||n[yi],i,n))}(y,g,$)}function Tw(e,n,i,o){!function Og(e,n,i,o){const l=Nr();if(l.firstCreatePass){const d=Ei();__(l,new OI(n,i,o),d.index),function UC(e,n){const i=e.contentQueries||(e.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,n)}(l,e),!(2&~i)&&(l.staticContentQueries=!0)}return FI(l,Zt(),i)}(e,n,i,o)}function bw(e,n,i){!function la(e,n,i){const o=Nr();return o.firstCreatePass&&(__(o,new OI(e,n,i),-1),!(2&~n)&&(o.staticViewQueries=!0)),FI(o,Zt(),n)}(e,n,i)}function Dw(e){const n=Zt(),i=Nr(),o=vd();_a(o+1);const l=kg(i,o);if(e.dirty&&function ld(e){return!(4&~e[Yn])}(n)===!(2&~l.metadata.flags)){if(null===l.matches)e.reset([]);else{const d=y_(n,o);e.reset(d,bp),e.notifyOnChanges()}return!0}return!1}function ww(){return function m_(e,n){return e[Jo].queries[n].queryList}(Zt(),vd())}function Lw(e,n=""){const i=Zt(),o=Nr(),l=e+tr,d=o.firstCreatePass?Bc(o,l,1,n,null):o.data[l],g=Vw(o,i,d,n,e);i[l]=g,au()&&qd(o,i,g,d),ra(d,!1)}let Vw=(e,n,i,o,l)=>(ya(!0),function sf(e,n){return e.createText(n)}(n[vr],o));function VT(e){return UT("",e,""),VT}function UT(e,n,i){const o=Zt(),l=function Qc(e,n,i,o){return So(e,ts(),i)?n+Jn(i)+o:Br}(o,e,n,i);return l!==Br&&function Vl(e,n,i){const o=al(n,e);!function af(e,n,i){e.setValue(n,i)}(e[vr],o,i)}(o,Zi(),l),UT}function $T(e,n,i,o,l){if(e=ke(e),Array.isArray(e))for(let d=0;d<e.length;d++)$T(e[d],n,i,o,l);else{const d=Nr(),g=Zt(),y=Ei();let T=Us(e)?e:ke(e.provide);const $=Na(e),Q=1048575&y.providerIndexes,ae=y.directiveStart,Ve=y.providerIndexes>>20;if(Us(e)||!e.multi){const Ze=new Ia($,l,Qd),We=jT(T,n,l?Q:Q+Ve,ae);-1===We?(Nu(Rl(y,g),d,T),BT(d,e,n.length),n.push(T),y.directiveStart++,y.directiveEnd++,l&&(y.providerIndexes+=1048576),i.push(Ze),g.push(Ze)):(i[We]=Ze,g[We]=Ze)}else{const Ze=jT(T,n,Q+Ve,ae),We=jT(T,n,Q,Q+Ve),un=We>=0&&i[We];if(l&&!un||!l&&!(Ze>=0&&i[Ze])){Nu(Rl(y,g),d,T);const An=function LP(e,n,i,o,l){const d=new Ia(e,i,Qd);return d.multi=[],d.index=n,d.componentProviders=0,Yw(d,l,o&&!i),d}(l?FP:kP,i.length,l,o,$);!l&&un&&(i[We].providerFactory=An),BT(d,e,n.length,0),n.push(T),y.directiveStart++,y.directiveEnd++,l&&(y.providerIndexes+=1048576),i.push(An),g.push(An)}else BT(d,e,Ze>-1?Ze:We,Yw(i[l?We:Ze],$,!l&&o));!l&&o&&un&&i[We].componentProviders++}}}function BT(e,n,i,o){const l=Us(n),d=function nl(e){return!!e.useClass}(n);if(l||d){const T=(d?ke(n.useClass):n).prototype.ngOnDestroy;if(T){const $=e.destroyHooks||(e.destroyHooks=[]);if(!l&&n.multi){const Q=$.indexOf(i);-1===Q?$.push(i,[o,T]):$[Q+1].push(o,T)}else $.push(i,T)}}}function Yw(e,n,i){return i&&e.componentProviders++,e.multi.push(n)-1}function jT(e,n,i,o){for(let l=i;l<o;l++)if(n[l]===e)return l;return-1}function kP(e,n,i,o){return HT(this.multi,[])}function FP(e,n,i,o){const l=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,y=Ou(i,i[_n],this.providerFactory.index,o);d=y.slice(0,g),HT(l,d);for(let T=g;T<y.length;T++)d.push(y[T])}else d=[],HT(l,d);return d}function HT(e,n){for(let i=0;i<e.length;i++)n.push((0,e[i])());return n}function Zw(e,n=[]){return i=>{i.providersResolver=(o,l)=>function OP(e,n,i){const o=Nr();if(o.firstCreatePass){const l=di(e);$T(i,o.data,o.blueprint,l,!0),$T(n,o.data,o.blueprint,l,!1)}}(o,l?l(e):e,n)}}let VP=(()=>{var e;class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const l=El(0,o.type),d=l.length>0?M_([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,d)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=n).\u0275prov=Ar({token:e,providedIn:"environment",factory:()=>new e(st(bo))}),n})();function Jw(e){Ks("NgStandalone"),e.getStandaloneInjector=n=>n.get(VP).getOrCreateStandaloneInjector(e)}class AS{constructor(n){this.full=n;const i=n.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const wM=new AS("18.2.9");let CS=(()=>{var e;class n{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ar({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})();const wS=new Nn(""),SS=new Nn("");let QT,JM=(()=>{var e;class n{constructor(o,l,d){this._ngZone=o,this.registry=l,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,QT||(function ex(e){QT=e}(d),d.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ci.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),o()},l)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:d})}whenStable(o,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,d),this._runCallbacksIfReady()}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,d){return[]}}return(e=n).\u0275fac=function(o){return new(o||e)(st(Ci),st(RS),st(SS))},e.\u0275prov=Ar({token:e,factory:e.\u0275fac}),n})(),RS=(()=>{var e;class n{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){var d,g;return null!==(d=null===(g=QT)||void 0===g?void 0:g.findTestabilityInTree(this,o,l))&&void 0!==d?d:null}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ar({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})();function YT(e){return!!e&&"function"==typeof e.then}function PS(e){return!!e&&"function"==typeof e.subscribe}const MS=new Nn("");let xS=(()=>{var e;class n{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d}),this.appInits=null!==(o=wt(MS,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const d of this.appInits){const g=d();if(YT(g))o.push(g);else if(PS(g)){const y=new Promise((T,$)=>{g.subscribe({complete:T,error:$})});o.push(y)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{l()}).catch(d=>{this.reject(d)}),0===o.length&&l(),this.initialized=!0}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ar({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();const UE=new Nn("");function OS(e,n){return Array.isArray(n)?n.reduce(OS,e):{...e,...n}}let ac=(()=>{var e;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=wt(Vm),this.afterRenderManager=wt(sE),this.zonelessEnabled=wt(Ef),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Sn.B,this.afterTick=new Sn.B,this.componentTypes=[],this.components=[],this.isStable=wt(wc).hasPendingTasks.pipe((0,Xn.T)(o=>!o)),this._injector=wt(bo)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let o;return new Promise(l=>{o=this.isStable.subscribe({next:d=>{d&&l()}})}).finally(()=>{o.unsubscribe()})}get injector(){return this._injector}bootstrap(o,l){const d=o instanceof bC;if(!this._injector.get(xS).done)throw!d&&us(o),new Bt(405,!1);let y;y=d?o:this._injector.get(Sg).resolveComponentFactory(o),this.componentTypes.push(y.componentType);const T=function tx(e){return e.isBoundToModule}(y)?void 0:this._injector.get(zc),Q=y.create(Ri.NULL,[],l||y.selector,T),ae=Q.location.nativeElement,Ve=Q.injector.get(wS,null);return null==Ve||Ve.registerApplication(ae),Q.onDestroy(()=>{this.detachView(Q.hostView),$E(this.components,Q),null==Ve||Ve.unregisterApplication(ae)}),this._loadComponent(Q),Q}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Bt(101,!1);const o=ge(null);try{this._runningTick=!0,this.synchronize()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1,ge(o),this.afterTick.next()}}synchronize(){let o=null;this._injector.destroyed||(o=this._injector.get(AI,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let l=0;for(;0!==this.dirtyFlags&&l++<10;)this.synchronizeOnce(o)}synchronizeOnce(o){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const g=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(g);for(let{_lView:y,notifyErrorHandler:T}of this._views)ix(y,T,g,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var l,d;null==o||null===(l=o.begin)||void 0===l||l.call(o),null==o||null===(d=o.end)||void 0===d||d.call(o)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:o})=>js(o))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;$E(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const l=this._injector.get(UE,[]);[...this._bootstrapListeners,...l].forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>$E(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Bt(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ar({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function $E(e,n){const i=e.indexOf(n);i>-1&&e.splice(i,1)}function ix(e,n,i,o){(i||js(e))&&eh(e,n,i&&!o?0:1)}class ox{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let sx=(()=>{var e;class n{compileModuleSync(o){return new Ug(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),g=Ea(ji(o).declarations).reduce((y,T)=>{const $=br(T);return $&&y.push(new Tf($)),y},[]);return new ox(l,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ar({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),ux=(()=>{var e;class n{constructor(){this.zone=wt(Ci),this.changeDetectionScheduler=wt(If),this.applicationRef=wt(ac)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ar({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function ZT({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:i}){var o;return null!==(o=e)&&void 0!==o||(e=()=>new Ci({...JT(),scheduleInRootZone:i})),[{provide:Ci,useFactory:e},{provide:Mi,multi:!0,useFactory:()=>{const l=wt(ux,{optional:!0});return()=>l.initialize()}},{provide:Mi,multi:!0,useFactory:()=>{const l=wt(dx);return()=>{l.initialize()}}},!0===n?{provide:TC,useValue:!0}:[],{provide:EI,useValue:null!=i?i:Uy}]}function JT(e){var n,i;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==e?void 0:e.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(i=null==e?void 0:e.runCoalescing)&&void 0!==i&&i}}let dx=(()=>{var e;class n{constructor(){this.subscription=new zn.yU,this.initialized=!1,this.zone=wt(Ci),this.pendingTasks=wt(wc)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ci.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var l;Ci.assertInAngularZone(),null!==(l=o)&&void 0!==l||(o=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ar({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),Ey=(()=>{var e;class n{constructor(){var o,l,d;this.appRef=wt(ac),this.taskService=wt(wc),this.ngZone=wt(Ci),this.zonelessEnabled=wt(Ef),this.disableScheduling=null!==(o=wt(TC,{optional:!0}))&&void 0!==o&&o,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new zn.yU,this.angularZoneId=this.zoneIsDefined?null===(l=this.ngZone._inner)||void 0===l?void 0:l.get(wd):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(d=wt(EI,{optional:!0}))&&void 0!==d&&d,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Fm||!this.zoneIsDefined))}notify(o){if(!this.zonelessEnabled&&5===o)return;switch(o){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const l=this.useMicrotaskScheduler?Sc:$h;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>l(()=>this.tick())):this.ngZone.runOutsideAngular(()=>l(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(wd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(l){throw this.taskService.remove(o),l}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Sc(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var o;if(this.runningTick=!1,null===(o=this.cancelScheduledCallback)||void 0===o||o.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const l=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(l)}}}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ar({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();const tb=new Nn("",{providedIn:"root",factory:()=>wt(tb,Rr.Optional|Rr.SkipSelf)||function hx(){return typeof $localize<"u"&&$localize.locale||hi}()}),fx=new Nn("",{providedIn:"root",factory:()=>"USD"}),BE=new Nn("");function jE(e){return!e.moduleRef}let BS=(()=>{var e;class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const d=null==l?void 0:l.scheduleInRootZone,T=[ZT({ngZoneFactory:()=>function Hy(e="zone.js",n){return"noop"===e?new Fm:"zone.js"===e?new Ci(n):e}(null==l?void 0:l.ngZone,{...JT({eventCoalescing:null==l?void 0:l.ngZoneEventCoalescing,runCoalescing:null==l?void 0:l.ngZoneRunCoalescing}),scheduleInRootZone:d}),ignoreChangesOutsideZone:null==l?void 0:l.ignoreChangesOutsideZone}),{provide:If,useExisting:Ey}],$=function iT(e,n,i){return new R_(e,n,i,!1)}(o.moduleType,this.injector,T);return function $S(e){const n=jE(e)?e.r3Injector:e.moduleRef.injector,i=n.get(Ci);return i.run(()=>{jE(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=n.get(sa,null);let l;if(i.runOutsideAngular(()=>{l=i.onError.subscribe({next:d=>{o.handleError(d)}})}),jE(e)){const d=()=>n.destroy(),g=e.platformInjector.get(BE);g.add(d),n.onDestroy(()=>{l.unsubscribe(),g.delete(d)})}else{const d=()=>e.moduleRef.destroy(),g=e.platformInjector.get(BE);g.add(d),e.moduleRef.onDestroy(()=>{$E(e.allPlatformModules,e.moduleRef),l.unsubscribe(),g.delete(d)})}return function rx(e,n,i){try{const o=i();return YT(o)?o.catch(l=>{throw n.runOutsideAngular(()=>e.handleError(l)),l}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}(o,i,()=>{const d=n.get(xS);return d.runInitializers(),d.donePromise.then(()=>{if(function cy(e){"string"==typeof e&&(tp=e.toLowerCase().replace(/_/g,"-"))}(n.get(tb,hi)||hi),jE(e)){const y=n.get(ac);return void 0!==e.rootComponent&&y.bootstrap(e.rootComponent),y}return function _x(e,n){const i=e.injector.get(ac);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new Bt(-403,!1);e.instance.ngDoBootstrap(i)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:$,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(o,l=[]){const d=OS({},l);return function lx(e,n,i){const o=new Ug(i);return Promise.resolve(o)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,d))}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Bt(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(BE,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=n).\u0275fac=function(o){return new(o||e)(st(Ri))},e.\u0275prov=Ar({token:e,factory:e.\u0275fac,providedIn:"platform"}),n})(),_h=null;const jS=new Nn("");function HS(e,n,i=[]){const o=`Platform: ${n}`,l=new Nn(o);return(d=[])=>{let g=nb();if(!g||g.injector.get(jS,!1)){const y=[...i,...d,{provide:l,useValue:!0}];e?e(y):function yx(e){if(_h&&!_h.get(jS,!1))throw new Bt(400,!1);(function NS(){!function we(e){Dn=e}(()=>{throw new Bt(600,!1)})})(),_h=e;const n=e.get(BS);(function GS(e){const n=e.get(kp,null);null==n||n.forEach(i=>i())})(e)}(function zS(e=[],n){return Ri.create({name:n,providers:[{provide:Cl,useValue:"platform"},{provide:BE,useValue:new Set([()=>_h=null])},...e]})}(y,o))}return function Ix(){const n=nb();if(!n)throw new Bt(401,!1);return n}()}}function nb(){var e,n;return null!==(e=null===(n=_h)||void 0===n?void 0:n.get(BS))&&void 0!==e?e:null}function Ax(){return!1}let KS=(()=>{class n{}return n.__NG_ELEMENT_ID__=Cx,n})();function Cx(e){return function Tx(e,n,i){if(Ua(e)&&!i){const o=ws(e.index,n);return new _g(o,o)}return 175&e.type?new _g(n[Fi],n):null}(Ei(),Zt(),!(16&~e))}class YS{constructor(){}supports(n){return Mf(n)}create(n){return new Rx(n)}}const Sx=(e,n)=>n;class Rx{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Sx}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,l=0,d=null;for(;i||o;){const g=!o||i&&i.currentIndex<JS(o,l,d)?i:o,y=JS(g,l,d),T=g.currentIndex;if(g===o)l--,o=o._nextRemoved;else if(i=i._next,null==g.previousIndex)l++;else{d||(d=[]);const $=y-l,Q=T-l;if($!=Q){for(let Ve=0;Ve<$;Ve++){const Ze=Ve<d.length?d[Ve]:d[Ve]=0,We=Ze+Ve;Q<=We&&We<$&&(d[Ve]=Ze+1)}d[g.previousIndex]=Q-$}}y!==T&&n(g,y,T)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Mf(n))throw new Bt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,d,g,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let y=0;y<this.length;y++)d=n[y],g=this._trackByFn(y,d),null!==i&&Object.is(i.trackById,g)?(o&&(i=this._verifyReinsertion(i,d,g,y)),Object.is(i.item,d)||this._addIdentityChange(i,d)):(i=this._mismatch(i,d,g,y),o=!0),i=i._next}else l=0,function UD(e,n){if(Array.isArray(e))for(let i=0;i<e.length;i++)n(e[i]);else{const i=e[Symbol.iterator]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,y=>{g=this._trackByFn(l,y),null!==i&&Object.is(i.trackById,g)?(o&&(i=this._verifyReinsertion(i,y,g,l)),Object.is(i.item,y)||this._addIdentityChange(i,y)):(i=this._mismatch(i,y,g,l),o=!0),i=i._next,l++}),this.length=l;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,l){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,d,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,l))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,d,l)):n=this._addAfter(new Px(i,o),d,l),n}_verifyReinsertion(n,i,o,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?n=this._reinsertAfter(d,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,d=n._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const l=null===i?this._itHead:i._next;return n._next=l,n._prev=i,null===l?this._itTail=n:l._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new ZS),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ZS),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Px{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Mx{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class ZS{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new Mx,this.map.set(i,o)),o.add(n)}get(n,i){const l=this.map.get(n);return l?l.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function JS(e,n,i){const o=e.previousIndex;if(null===o)return o;let l=0;return i&&o<i.length&&(l=i[o]),o+n+l}class eR{constructor(){}supports(n){return n instanceof Map||tE(n)}create(){return new xx}}class xx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||tE(n)))throw new Bt(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,l)=>{if(i&&i.key===l)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const d=this._getOrCreateRecordForKey(l,o);i=this._insertBeforeOrAppend(i,d)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,i);const d=l._prev,g=l._next;return d&&(d._next=g),g&&(g._prev=d),l._next=null,l._prev=null,l}const o=new Nx(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class Nx{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tR(){return new ab([new YS])}let ab=(()=>{var e;class n{constructor(o){this.factories=o}static create(o,l){if(null!=l){const d=l.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||tR()),deps:[[n,new Yr,new jr]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(null!=l)return l;throw new Bt(901,!1)}}return(e=n).\u0275prov=Ar({token:e,providedIn:"root",factory:tR}),n})();function nR(){return new lb([new eR])}let lb=(()=>{var e;class n{constructor(o){this.factories=o}static create(o,l){if(l){const d=l.factories.slice();o=o.concat(d)}return new n(o)}static extend(o){return{provide:n,useFactory:l=>n.create(o,l||nR()),deps:[[n,new Yr,new jr]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(l)return l;throw new Bt(901,!1)}}return(e=n).\u0275prov=Ar({token:e,providedIn:"root",factory:nR}),n})();const Fx=HS(null,"core",[]);let Lx=(()=>{var e;class n{constructor(o){}}return(e=n).\u0275fac=function(o){return new(o||e)(st(ac))},e.\u0275mod=Ys({type:e}),e.\u0275inj=H({}),n})();function pN(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function mN(e,n){Ks("NgSignals");const i=function Ie(e){const n=Object.create(yn);n.computation=e;const i=()=>{if(Ke(n),pe(n),n.value===Qt)throw n.error;return n.value};return i[ue]=n,i}(e);return null!=n&&n.equal&&(i[ue].equal=n.equal),i}function vN(e){const n=ge(null);try{return e()}finally{ge(n)}}function CN(e,n){const i=br(e),o=n.elementInjector||rl();return new Tf(i).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}function TN(e){const n=br(e);if(!n)return null;const i=new Tf(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},9253:(vn,vt,L)=>{"use strict";L.d(vt,{BM:()=>it,Gt:()=>ge,bf:()=>qe,e7:()=>Ce,iB:()=>pe,rx:()=>et,uP:()=>Pe});var c=L(9842),h=L(4438),F=L(5407),Re=L(7935);const ue=["ngOnDestroy"],ge=(ct,at,lt,De={})=>new Proxy(ct,{get:(Le,nt)=>lt.runOutsideAngular(()=>{var _t;if(ct[nt])return null!=De&&null!==(_t=De.spy)&&void 0!==_t&&_t.get&&De.spy.get(nt,ct[nt]),ct[nt];if(ue.indexOf(nt)>-1)return()=>{};const xt=at.toPromise().then(Ie=>{const At=null==Ie?void 0:Ie[nt];return"function"==typeof At?At.bind(Ie):null!=At&&At.then?At.then(Vt=>lt.run(()=>Vt)):lt.run(()=>At)});return new Proxy(()=>{},{get:(Ie,At)=>xt[At],apply:(Ie,At,Vt)=>xt.then(Qt=>{var yn;const en=null==Qt?void 0:Qt(...Vt);return null!=De&&null!==(yn=De.spy)&&void 0!==yn&&yn.apply&&De.spy.apply(nt,Vt,en),en})})})}),Ce=(ct,at)=>{at.forEach(lt=>{Object.getOwnPropertyNames(lt.prototype||lt).forEach(De=>{Object.defineProperty(ct.prototype,De,Object.getOwnPropertyDescriptor(lt.prototype||lt,De))})})};class ze{constructor(at){return at}}const et=new h.nKC("angularfire2.app.options"),Pe=new h.nKC("angularfire2.app.name");function pe(ct,at,lt){const Le="object"==typeof lt&&lt||{};Le.name=Le.name||"string"==typeof lt&&lt||"[DEFAULT]";const _t=Re.A.apps.filter(xt=>xt&&xt.name===Le.name)[0]||at.runOutsideAngular(()=>Re.A.initializeApp(ct,Le));try{if(JSON.stringify(ct)!==JSON.stringify(_t.options)){const xt=!!module.hot;Ge("error",`${_t.name} Firebase App already initialized with different options${xt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ze(_t)}const Ge=(ct,...at)=>{(0,h.naY)()&&typeof console<"u"&&console[ct](...at)},Ke={provide:ze,useFactory:pe,deps:[et,h.SKi,[new h.Xx1,Pe]]};let qe=(()=>{var ct;class at{static initializeApp(De,Le){return{ngModule:at,providers:[{provide:et,useValue:De},{provide:Pe,useValue:Le}]}}constructor(De){Re.A.registerVersion("angularfire",F.xv.full,"core"),Re.A.registerVersion("angularfire",F.xv.full,"app-compat"),Re.A.registerVersion("angular",h.xvI.full,De.toString())}}return ct=at,(0,c.A)(at,"\u0275fac",function(De){return new(De||ct)(h.KVO(h.Agw))}),(0,c.A)(at,"\u0275mod",h.$C({type:ct})),(0,c.A)(at,"\u0275inj",h.G2t({providers:[Ke]})),at})();function it(ct,at,lt,De,Le){const[,nt,_t]=globalThis.\u0275AngularfireInstanceCache.find(xt=>xt[0]===ct)||[];if(nt)return function ut(ct,at){try{return ct.toString()===at.toString()}catch{return ct===at}}(Le,_t)||(Qe("error",`${at} was already initialized on the ${lt} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),Qe("warn",{is:Le,was:_t})),nt;{const xt=De();return globalThis.\u0275AngularfireInstanceCache.push([ct,xt,Le]),xt}}const Be=typeof module<"u"&&!!module.hot,Qe=(ct,...at)=>{(0,h.naY)()&&typeof console<"u"&&console[ct](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5407:(vn,vt,L)=>{"use strict";L.d(vt,{xv:()=>it,U0:()=>Qt,Oe:()=>At,u0:()=>nt,Jv:()=>ct,CA:()=>Qe,lR:()=>Be,S3:()=>Dn});var c=L(9842),h=L(4438),F=L(2214),Re=L(6780),ge=L(9687);const ze=new class Ce extends ge.q{}(class ue extends Re.R{constructor(we,xe){super(we,xe),this.scheduler=we,this.work=xe}schedule(we,xe=0){return xe>0?super.schedule(we,xe):(this.delay=xe,this.state=we,this.scheduler.flush(this),this)}execute(we,xe){return xe>0||this.closed?super.execute(we,xe):this._execute(we,xe)}requestAsyncId(we,xe,ee=0){return null!=ee&&ee>0||null==ee&&this.delay>0?super.requestAsyncId(we,xe,ee):(we.flush(this),0)}});var Pe=L(3236),pe=L(1985),Ge=L(8141),Ke=L(941),qe=L(6745);const it=new h.RxE("ANGULARFIRE2_VERSION");function Be(Et,we,xe){if(we){if(1===we.length)return we[0];const fe=we.filter(le=>le.app===xe);if(1===fe.length)return fe[0]}return xe.container.getProvider(Et).getImmediate({optional:!0})}const Qe=(Et,we)=>{const xe=we?[we]:(0,F.Dk)(),ee=[];return xe.forEach(oe=>{oe.container.getProvider(Et).instances.forEach(le=>{ee.includes(le)||ee.push(le)})}),ee};class ct{constructor(){return Qe(at)}}const at="app-check";function lt(){}class De{constructor(we,xe=ze){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"delegate",void 0),this.zone=we,this.delegate=xe}now(){return this.delegate.now()}schedule(we,xe,ee){const oe=this.zone;return this.delegate.schedule(function(le){oe.runGuarded(()=>{we.apply(this,[le])})},xe,ee)}}class Le{constructor(we){(0,c.A)(this,"zone",void 0),(0,c.A)(this,"task",null),this.zone=we}call(we,xe){const ee=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",lt,{},lt,lt)),xe.pipe((0,Ge.M)({next:ee,complete:ee,error:ee})).subscribe(we).add(ee)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let nt=(()=>{var Et;class we{constructor(ee){(0,c.A)(this,"ngZone",void 0),(0,c.A)(this,"outsideAngular",void 0),(0,c.A)(this,"insideAngular",void 0),this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new De(Zone.current)),this.insideAngular=ee.run(()=>new De(Zone.current,Pe.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Et=we,(0,c.A)(we,"\u0275fac",function(ee){return new(ee||Et)(h.KVO(h.SKi))}),(0,c.A)(we,"\u0275prov",h.jDH({token:Et,factory:Et.\u0275fac,providedIn:"root"})),we})();function _t(){const Et=globalThis.\u0275AngularFireScheduler;if(!Et)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Et}function Ie(Et){return _t().ngZone.run(()=>Et())}function At(Et){return Et.pipe((0,Ke.Q)(_t().outsideAngular))}function Qt(Et){return function yn(Et){return function(xe){return(xe=xe.lift(new Le(Et.ngZone))).pipe((0,qe._)(Et.outsideAngular),(0,Ke.Q)(Et.insideAngular))}}(_t())(Et)}const en=(Et,we)=>function(){const ee=arguments;return we&&setTimeout(()=>{"scheduled"===we.state&&we.invoke()},10),Ie(()=>Et.apply(void 0,ee))},Dn=(Et,we)=>function(){let xe;const ee=arguments;for(let fe=0;fe<arguments.length;fe++)"function"==typeof ee[fe]&&(we&&(xe||(xe=Ie(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",lt,{},lt,lt)))),ee[fe]=en(ee[fe],xe));const oe=function xt(Et){return _t().ngZone.runOutsideAngular(()=>Et())}(()=>Et.apply(this,ee));if(!we){if(oe instanceof pe.c){const fe=_t();return oe.pipe((0,qe._)(fe.outsideAngular),(0,Ke.Q)(fe.insideAngular))}return Ie(()=>oe)}return oe instanceof pe.c?oe.pipe(Qt):oe instanceof Promise?Ie(()=>new Promise((fe,le)=>oe.then(be=>Ie(()=>fe(be)),be=>Ie(()=>le(be))))):"function"==typeof oe&&xe?function(){return setTimeout(()=>{xe&&"scheduled"===xe.state&&xe.invoke()},10),oe.apply(this,arguments)}:Ie(()=>oe)}},4341:(vn,vt,L)=>{"use strict";L.d(vt,{MJ:()=>Sr,l_:()=>ht,gE:()=>Qr,j4:()=>Yt,YN:()=>Il,zX:()=>yo,VZ:()=>Mo,cz:()=>_t,kq:()=>ut,vO:()=>fn,BC:()=>Cn,cb:()=>En,X1:()=>Ra,k0:()=>At,qT:()=>Is});var c=L(4438),h=L(177),F=L(8455),Re=L(1985),ue=L(3073),ge=L(8750),Ce=L(3794),ze=L(4360),et=L(6450),Pe=L(8496),Ge=L(1413),Ke=L(6354);let qe=(()=>{var q;class x{constructor(G,_e){this._renderer=G,this._elementRef=_e,this.onChange=ln=>{},this.onTouched=()=>{}}setProperty(G,_e){this._renderer.setProperty(this._elementRef.nativeElement,G,_e)}registerOnTouched(G){this.onTouched=G}registerOnChange(G){this.onChange=G}setDisabledState(G){this.setProperty("disabled",G)}}return(q=x).\u0275fac=function(G){return new(G||q)(c.rXU(c.sFG),c.rXU(c.aKT))},q.\u0275dir=c.FsC({type:q}),x})(),it=(()=>{var q;class x extends qe{}return(q=x).\u0275fac=(()=>{let ie;return function(_e){return(ie||(ie=c.xGo(q)))(_e||q)}})(),q.\u0275dir=c.FsC({type:q,features:[c.Vt3]}),x})();const ut=new c.nKC(""),ct={provide:ut,useExisting:(0,c.Rfq)(()=>De),multi:!0},lt=new c.nKC("");let De=(()=>{var q;class x extends qe{constructor(G,_e,ln){super(G,_e),this._compositionMode=ln,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function at(){const q=(0,h.QT)()?(0,h.QT)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(G){this.setProperty("value",null==G?"":G)}_handleInput(G){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(G)}_compositionStart(){this._composing=!0}_compositionEnd(G){this._composing=!1,this._compositionMode&&this.onChange(G)}}return(q=x).\u0275fac=function(G){return new(G||q)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(lt,8))},q.\u0275dir=c.FsC({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(G,_e){1&G&&c.bIt("input",function(Ln){return _e._handleInput(Ln.target.value)})("blur",function(){return _e.onTouched()})("compositionstart",function(){return _e._compositionStart()})("compositionend",function(Ln){return _e._compositionEnd(Ln.target.value)})},features:[c.Jv_([ct]),c.Vt3]}),x})();function Le(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function nt(q){return null!=q&&"number"==typeof q.length}const _t=new c.nKC(""),xt=new c.nKC(""),Ie=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class At{static min(x){return Vt(x)}static max(x){return Qt(x)}static required(x){return function yn(q){return Le(q.value)?{required:!0}:null}(x)}static requiredTrue(x){return function en(q){return!0===q.value?null:{required:!0}}(x)}static email(x){return function Dn(q){return Le(q.value)||Ie.test(q.value)?null:{email:!0}}(x)}static minLength(x){return function Et(q){return x=>Le(x.value)||!nt(x.value)?null:x.value.length<q?{minlength:{requiredLength:q,actualLength:x.value.length}}:null}(x)}static maxLength(x){return function we(q){return x=>nt(x.value)&&x.value.length>q?{maxlength:{requiredLength:q,actualLength:x.value.length}}:null}(x)}static pattern(x){return function xe(q){if(!q)return ee;let x,ie;return"string"==typeof q?(ie="","^"!==q.charAt(0)&&(ie+="^"),ie+=q,"$"!==q.charAt(q.length-1)&&(ie+="$"),x=new RegExp(ie)):(ie=q.toString(),x=q),G=>{if(Le(G.value))return null;const _e=G.value;return x.test(_e)?null:{pattern:{requiredPattern:ie,actualValue:_e}}}}(x)}static nullValidator(x){return null}static compose(x){return He(x)}static composeAsync(x){return Nt(x)}}function Vt(q){return x=>{if(Le(x.value)||Le(q))return null;const ie=parseFloat(x.value);return!isNaN(ie)&&ie<q?{min:{min:q,actual:x.value}}:null}}function Qt(q){return x=>{if(Le(x.value)||Le(q))return null;const ie=parseFloat(x.value);return!isNaN(ie)&&ie>q?{max:{max:q,actual:x.value}}:null}}function ee(q){return null}function oe(q){return null!=q}function fe(q){return(0,c.jNT)(q)?(0,F.H)(q):q}function le(q){let x={};return q.forEach(ie=>{x=null!=ie?{...x,...ie}:x}),0===Object.keys(x).length?null:x}function be(q,x){return x.map(ie=>ie(q))}function tt(q){return q.map(x=>function Se(q){return!q.validate}(x)?x:ie=>x.validate(ie))}function He(q){if(!q)return null;const x=q.filter(oe);return 0==x.length?null:function(ie){return le(be(ie,x))}}function dt(q){return null!=q?He(tt(q)):null}function Nt(q){if(!q)return null;const x=q.filter(oe);return 0==x.length?null:function(ie){return function pe(...q){const x=(0,Ce.ms)(q),{args:ie,keys:G}=(0,ue.D)(q),_e=new Re.c(ln=>{const{length:Ln}=ie;if(!Ln)return void ln.complete();const Wr=new Array(Ln);let Ui=Ln,$i=Ln;for(let Io=0;Io<Ln;Io++){let Ys=!1;(0,ge.Tg)(ie[Io]).subscribe((0,ze._)(ln,Zs=>{Ys||(Ys=!0,$i--),Wr[Io]=Zs},()=>Ui--,void 0,()=>{(!Ui||!Ys)&&($i||ln.next(G?(0,Pe.e)(G,Wr):Wr),ln.complete())}))}});return x?_e.pipe((0,et.I)(x)):_e}(be(ie,x).map(fe)).pipe((0,Ke.T)(le))}}function dn(q){return null!=q?Nt(tt(q)):null}function In(q,x){return null===q?[x]:Array.isArray(q)?[...q,x]:[q,x]}function pr(q){return q._rawValidators}function Sn(q){return q._rawAsyncValidators}function zn(q){return q?Array.isArray(q)?q:[q]:[]}function Xn(q,x){return Array.isArray(q)?q.includes(x):q===x}function Kn(q,x){const ie=zn(x);return zn(q).forEach(_e=>{Xn(ie,_e)||ie.push(_e)}),ie}function Wt(q,x){return zn(x).filter(ie=>!Xn(q,ie))}class kt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=dt(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=dn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x=void 0){this.control&&this.control.reset(x)}hasError(x,ie){return!!this.control&&this.control.hasError(x,ie)}getError(x,ie){return this.control?this.control.getError(x,ie):null}}class Ot extends kt{get formDirective(){return null}get path(){return null}}class fn extends kt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Bt{constructor(x){this._cd=x}get isTouched(){var x,ie,G;return null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||null===(ie=x._touched)||void 0===ie||ie.call(x),!(null===(G=this._cd)||void 0===G||null===(G=G.control)||void 0===G||!G.touched)}get isUntouched(){var x;return!(null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||!x.untouched)}get isPristine(){var x,ie,G;return null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||null===(ie=x._pristine)||void 0===ie||ie.call(x),!(null===(G=this._cd)||void 0===G||null===(G=G.control)||void 0===G||!G.pristine)}get isDirty(){var x;return!(null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||!x.dirty)}get isValid(){var x,ie,G;return null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||null===(ie=x._status)||void 0===ie||ie.call(x),!(null===(G=this._cd)||void 0===G||null===(G=G.control)||void 0===G||!G.valid)}get isInvalid(){var x;return!(null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||!x.invalid)}get isPending(){var x;return!(null===(x=this._cd)||void 0===x||null===(x=x.control)||void 0===x||!x.pending)}get isSubmitted(){var x,ie,G;return null===(x=this._cd)||void 0===x||null===(ie=x._submitted)||void 0===ie||ie.call(x),!(null===(G=this._cd)||void 0===G||!G.submitted)}}let Cn=(()=>{var q;class x extends Bt{constructor(G){super(G)}}return(q=x).\u0275fac=function(G){return new(G||q)(c.rXU(fn,2))},q.\u0275dir=c.FsC({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(G,_e){2&G&&c.AVh("ng-untouched",_e.isUntouched)("ng-touched",_e.isTouched)("ng-pristine",_e.isPristine)("ng-dirty",_e.isDirty)("ng-valid",_e.isValid)("ng-invalid",_e.isInvalid)("ng-pending",_e.isPending)},features:[c.Vt3]}),x})(),En=(()=>{var q;class x extends Bt{constructor(G){super(G)}}return(q=x).\u0275fac=function(G){return new(G||q)(c.rXU(Ot,10))},q.\u0275dir=c.FsC({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(G,_e){2&G&&c.AVh("ng-untouched",_e.isUntouched)("ng-touched",_e.isTouched)("ng-pristine",_e.isPristine)("ng-dirty",_e.isDirty)("ng-valid",_e.isValid)("ng-invalid",_e.isInvalid)("ng-pending",_e.isPending)("ng-submitted",_e.isSubmitted)},features:[c.Vt3]}),x})();const rt="VALID",ot="INVALID",ke="PENDING",Ue="DISABLED";class W{}class R extends W{constructor(x,ie){super(),this.value=x,this.source=ie}}class k extends W{constructor(x,ie){super(),this.pristine=x,this.source=ie}}class ce extends W{constructor(x,ie){super(),this.touched=x,this.source=ie}}class se extends W{constructor(x,ie){super(),this.status=x,this.source=ie}}class Ye extends W{constructor(x){super(),this.source=x}}class bt extends W{constructor(x){super(),this.source=x}}function Lt(q){return(on(q)?q.validators:q)||null}function rn(q,x){return(on(x)?x.asyncValidators:q)||null}function on(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}class xn{constructor(x,ie){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,c.EWP)(()=>this.statusReactive()),this.statusReactive=(0,c.vPA)(void 0),this._pristine=(0,c.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,c.vPA)(!0),this._touched=(0,c.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,c.vPA)(!1),this._events=new Ge.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(x),this._assignAsyncValidators(ie)}get validator(){return this._composedValidatorFn}set validator(x){this._rawValidators=this._composedValidatorFn=x}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(x){this._rawAsyncValidators=this._composedAsyncValidatorFn=x}get parent(){return this._parent}get status(){return(0,c.O8t)(this.statusReactive)}set status(x){(0,c.O8t)(()=>this.statusReactive.set(x))}get valid(){return this.status===rt}get invalid(){return this.status===ot}get pending(){return this.status==ke}get disabled(){return this.status===Ue}get enabled(){return this.status!==Ue}get pristine(){return(0,c.O8t)(this.pristineReactive)}set pristine(x){(0,c.O8t)(()=>this.pristineReactive.set(x))}get dirty(){return!this.pristine}get touched(){return(0,c.O8t)(this.touchedReactive)}set touched(x){(0,c.O8t)(()=>this.touchedReactive.set(x))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(x){this._assignValidators(x)}setAsyncValidators(x){this._assignAsyncValidators(x)}addValidators(x){this.setValidators(Kn(x,this._rawValidators))}addAsyncValidators(x){this.setAsyncValidators(Kn(x,this._rawAsyncValidators))}removeValidators(x){this.setValidators(Wt(x,this._rawValidators))}removeAsyncValidators(x){this.setAsyncValidators(Wt(x,this._rawAsyncValidators))}hasValidator(x){return Xn(this._rawValidators,x)}hasAsyncValidator(x){return Xn(this._rawAsyncValidators,x)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(x={}){var ie;const G=!1===this.touched;this.touched=!0;const _e=null!==(ie=x.sourceControl)&&void 0!==ie?ie:this;this._parent&&!x.onlySelf&&this._parent.markAsTouched({...x,sourceControl:_e}),G&&!1!==x.emitEvent&&this._events.next(new ce(!0,_e))}markAllAsTouched(x={}){this.markAsTouched({onlySelf:!0,emitEvent:x.emitEvent,sourceControl:this}),this._forEachChild(ie=>ie.markAllAsTouched(x))}markAsUntouched(x={}){var ie;const G=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const _e=null!==(ie=x.sourceControl)&&void 0!==ie?ie:this;this._forEachChild(ln=>{ln.markAsUntouched({onlySelf:!0,emitEvent:x.emitEvent,sourceControl:_e})}),this._parent&&!x.onlySelf&&this._parent._updateTouched(x,_e),G&&!1!==x.emitEvent&&this._events.next(new ce(!1,_e))}markAsDirty(x={}){var ie;const G=!0===this.pristine;this.pristine=!1;const _e=null!==(ie=x.sourceControl)&&void 0!==ie?ie:this;this._parent&&!x.onlySelf&&this._parent.markAsDirty({...x,sourceControl:_e}),G&&!1!==x.emitEvent&&this._events.next(new k(!1,_e))}markAsPristine(x={}){var ie;const G=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const _e=null!==(ie=x.sourceControl)&&void 0!==ie?ie:this;this._forEachChild(ln=>{ln.markAsPristine({onlySelf:!0,emitEvent:x.emitEvent})}),this._parent&&!x.onlySelf&&this._parent._updatePristine(x,_e),G&&!1!==x.emitEvent&&this._events.next(new k(!0,_e))}markAsPending(x={}){var ie;this.status=ke;const G=null!==(ie=x.sourceControl)&&void 0!==ie?ie:this;!1!==x.emitEvent&&(this._events.next(new se(this.status,G)),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.markAsPending({...x,sourceControl:G})}disable(x={}){var ie;const G=this._parentMarkedDirty(x.onlySelf);this.status=Ue,this.errors=null,this._forEachChild(ln=>{ln.disable({...x,onlySelf:!0})}),this._updateValue();const _e=null!==(ie=x.sourceControl)&&void 0!==ie?ie:this;!1!==x.emitEvent&&(this._events.next(new R(this.value,_e)),this._events.next(new se(this.status,_e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...x,skipPristineCheck:G},this),this._onDisabledChange.forEach(ln=>ln(!0))}enable(x={}){const ie=this._parentMarkedDirty(x.onlySelf);this.status=rt,this._forEachChild(G=>{G.enable({...x,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent}),this._updateAncestors({...x,skipPristineCheck:ie},this),this._onDisabledChange.forEach(G=>G(!1))}_updateAncestors(x,ie){this._parent&&!x.onlySelf&&(this._parent.updateValueAndValidity(x),x.skipPristineCheck||this._parent._updatePristine({},ie),this._parent._updateTouched({},ie))}setParent(x){this._parent=x}getRawValue(){return this.value}updateValueAndValidity(x={}){var ie;if(this._setInitialStatus(),this._updateValue(),this.enabled){const _e=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rt||this.status===ke)&&this._runAsyncValidator(_e,x.emitEvent)}const G=null!==(ie=x.sourceControl)&&void 0!==ie?ie:this;!1!==x.emitEvent&&(this._events.next(new R(this.value,G)),this._events.next(new se(this.status,G)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.updateValueAndValidity({...x,sourceControl:G})}_updateTreeValidity(x={emitEvent:!0}){this._forEachChild(ie=>ie._updateTreeValidity(x)),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ue:rt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(x,ie){if(this.asyncValidator){this.status=ke,this._hasOwnPendingAsyncValidator={emitEvent:!1!==ie};const G=fe(this.asyncValidator(this));this._asyncValidationSubscription=G.subscribe(_e=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(_e,{emitEvent:ie,shouldHaveEmitted:x})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var x,ie;this._asyncValidationSubscription.unsubscribe();const G=null!==(x=null===(ie=this._hasOwnPendingAsyncValidator)||void 0===ie?void 0:ie.emitEvent)&&void 0!==x&&x;return this._hasOwnPendingAsyncValidator=null,G}return!1}setErrors(x,ie={}){this.errors=x,this._updateControlsErrors(!1!==ie.emitEvent,this,ie.shouldHaveEmitted)}get(x){let ie=x;return null==ie||(Array.isArray(ie)||(ie=ie.split(".")),0===ie.length)?null:ie.reduce((G,_e)=>G&&G._find(_e),this)}getError(x,ie){const G=ie?this.get(ie):this;return G&&G.errors?G.errors[x]:null}hasError(x,ie){return!!this.getError(x,ie)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(x,ie,G){this.status=this._calculateStatus(),x&&this.statusChanges.emit(this.status),(x||G)&&this._events.next(new se(this.status,ie)),this._parent&&this._parent._updateControlsErrors(x,ie,G)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?Ue:this.errors?ot:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ke)?ke:this._anyControlsHaveStatus(ot)?ot:rt}_anyControlsHaveStatus(x){return this._anyControls(ie=>ie.status===x)}_anyControlsDirty(){return this._anyControls(x=>x.dirty)}_anyControlsTouched(){return this._anyControls(x=>x.touched)}_updatePristine(x,ie){const G=!this._anyControlsDirty(),_e=this.pristine!==G;this.pristine=G,this._parent&&!x.onlySelf&&this._parent._updatePristine(x,ie),_e&&this._events.next(new k(this.pristine,ie))}_updateTouched(x={},ie){this.touched=this._anyControlsTouched(),this._events.next(new ce(this.touched,ie)),this._parent&&!x.onlySelf&&this._parent._updateTouched(x,ie)}_registerOnCollectionChange(x){this._onCollectionChange=x}_setUpdateStrategy(x){on(x)&&null!=x.updateOn&&(this._updateOn=x.updateOn)}_parentMarkedDirty(x){return!x&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(x){return null}_assignValidators(x){this._rawValidators=Array.isArray(x)?x.slice():x,this._composedValidatorFn=function hn(q){return Array.isArray(q)?dt(q):q||null}(this._rawValidators)}_assignAsyncValidators(x){this._rawAsyncValidators=Array.isArray(x)?x.slice():x,this._composedAsyncValidatorFn=function gn(q){return Array.isArray(q)?dn(q):q||null}(this._rawAsyncValidators)}}class Qr extends xn{constructor(x,ie,G){super(Lt(ie),rn(G,ie)),this.controls=x,this._initObservables(),this._setUpdateStrategy(ie),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(x,ie){return this.controls[x]?this.controls[x]:(this.controls[x]=ie,ie.setParent(this),ie._registerOnCollectionChange(this._onCollectionChange),ie)}addControl(x,ie,G={}){this.registerControl(x,ie),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}removeControl(x,ie={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}setControl(x,ie,G={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],ie&&this.registerControl(x,ie),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}contains(x){return this.controls.hasOwnProperty(x)&&this.controls[x].enabled}setValue(x,ie={}){(function Tn(q,x,ie){q._forEachChild((G,_e)=>{if(void 0===ie[_e])throw new c.wOt(1002,"")})})(this,0,x),Object.keys(x).forEach(G=>{(function er(q,x,ie){const G=q.controls;if(!(x?Object.keys(G):G).length)throw new c.wOt(1e3,"");if(!G[ie])throw new c.wOt(1001,"")})(this,!0,G),this.controls[G].setValue(x[G],{onlySelf:!0,emitEvent:ie.emitEvent})}),this.updateValueAndValidity(ie)}patchValue(x,ie={}){null!=x&&(Object.keys(x).forEach(G=>{const _e=this.controls[G];_e&&_e.patchValue(x[G],{onlySelf:!0,emitEvent:ie.emitEvent})}),this.updateValueAndValidity(ie))}reset(x={},ie={}){this._forEachChild((G,_e)=>{G.reset(x?x[_e]:null,{onlySelf:!0,emitEvent:ie.emitEvent})}),this._updatePristine(ie,this),this._updateTouched(ie,this),this.updateValueAndValidity(ie)}getRawValue(){return this._reduceChildren({},(x,ie,G)=>(x[G]=ie.getRawValue(),x))}_syncPendingControls(){let x=this._reduceChildren(!1,(ie,G)=>!!G._syncPendingControls()||ie);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){Object.keys(this.controls).forEach(ie=>{const G=this.controls[ie];G&&x(G,ie)})}_setUpControls(){this._forEachChild(x=>{x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(x){for(const[ie,G]of Object.entries(this.controls))if(this.contains(ie)&&x(G))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ie,G,_e)=>((G.enabled||this.disabled)&&(ie[_e]=G.value),ie))}_reduceChildren(x,ie){let G=x;return this._forEachChild((_e,ln)=>{G=ie(G,_e,ln)}),G}_allControlsDisabled(){for(const x of Object.keys(this.controls))if(this.controls[x].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(x){return this.controls.hasOwnProperty(x)?this.controls[x]:null}}const ne=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>H}),H="always";function J(q,x,ie=H){var G,_e;Gt(q,x),x.valueAccessor.writeValue(q.value),(q.disabled||"always"===ie)&&(null===(G=(_e=x.valueAccessor).setDisabledState)||void 0===G||G.call(_e,q.disabled)),function wn(q,x){x.valueAccessor.registerOnChange(ie=>{q._pendingValue=ie,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&Nn(q,x)})}(q,x),function si(q,x){const ie=(G,_e)=>{x.valueAccessor.writeValue(G),_e&&x.viewToModelUpdate(G)};q.registerOnChange(ie),x._registerOnDestroy(()=>{q._unregisterOnChange(ie)})}(q,x),function gr(q,x){x.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&Nn(q,x),"submit"!==q.updateOn&&q.markAsTouched()})}(q,x),function mt(q,x){if(x.valueAccessor.setDisabledState){const ie=G=>{x.valueAccessor.setDisabledState(G)};q.registerOnDisabledChange(ie),x._registerOnDestroy(()=>{q._unregisterOnDisabledChange(ie)})}}(q,x)}function te(q,x,ie=!0){const G=()=>{};x.valueAccessor&&(x.valueAccessor.registerOnChange(G),x.valueAccessor.registerOnTouched(G)),an(q,x),q&&(x._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function Me(q,x){q.forEach(ie=>{ie.registerOnValidatorChange&&ie.registerOnValidatorChange(x)})}function Gt(q,x){const ie=pr(q);null!==x.validator?q.setValidators(In(ie,x.validator)):"function"==typeof ie&&q.setValidators([ie]);const G=Sn(q);null!==x.asyncValidator?q.setAsyncValidators(In(G,x.asyncValidator)):"function"==typeof G&&q.setAsyncValidators([G]);const _e=()=>q.updateValueAndValidity();Me(x._rawValidators,_e),Me(x._rawAsyncValidators,_e)}function an(q,x){let ie=!1;if(null!==q){if(null!==x.validator){const _e=pr(q);if(Array.isArray(_e)&&_e.length>0){const ln=_e.filter(Ln=>Ln!==x.validator);ln.length!==_e.length&&(ie=!0,q.setValidators(ln))}}if(null!==x.asyncValidator){const _e=Sn(q);if(Array.isArray(_e)&&_e.length>0){const ln=_e.filter(Ln=>Ln!==x.asyncValidator);ln.length!==_e.length&&(ie=!0,q.setAsyncValidators(ln))}}}const G=()=>{};return Me(x._rawValidators,G),Me(x._rawAsyncValidators,G),ie}function Nn(q,x){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),x.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function _s(q,x){const ie=q.indexOf(x);ie>-1&&q.splice(ie,1)}function Jn(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}Promise.resolve();const Sr=class extends xn{constructor(x=null,ie,G){super(Lt(ie),rn(G,ie)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(x),this._setUpdateStrategy(ie),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),on(ie)&&(ie.nonNullable||ie.initialValueIsDefault)&&(this.defaultValue=Jn(x)?x.value:x)}setValue(x,ie={}){this.value=this._pendingValue=x,this._onChange.length&&!1!==ie.emitModelToViewChange&&this._onChange.forEach(G=>G(this.value,!1!==ie.emitViewToModelChange)),this.updateValueAndValidity(ie)}patchValue(x,ie={}){this.setValue(x,ie)}reset(x=this.defaultValue,ie={}){this._applyFormState(x),this.markAsPristine(ie),this.markAsUntouched(ie),this.setValue(this.value,ie),this._pendingChange=!1}_updateValue(){}_anyControls(x){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(x){this._onChange.push(x)}_unregisterOnChange(x){_s(this._onChange,x)}registerOnDisabledChange(x){this._onDisabledChange.push(x)}_unregisterOnDisabledChange(x){_s(this._onDisabledChange,x)}_forEachChild(x){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(x){Jn(x)?(this.value=this._pendingValue=x.value,x.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=x}};Promise.resolve();let Is=(()=>{var q;class x{}return(q=x).\u0275fac=function(G){return new(G||q)},q.\u0275dir=c.FsC({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),x})();const Ne=new c.nKC(""),$e={provide:fn,useExisting:(0,c.Rfq)(()=>ht)};let ht=(()=>{var q;class x extends fn{set isDisabled(G){}constructor(G,_e,ln,Ln,Wr){super(),this._ngModelWarningConfig=Ln,this.callSetDisabledState=Wr,this.update=new c.bkB,this._ngModelWarningSent=!1,this._setValidators(G),this._setAsyncValidators(_e),this.valueAccessor=function pi(q,x){if(!x)return null;let ie,G,_e;return Array.isArray(x),x.forEach(ln=>{ln.constructor===De?ie=ln:function zo(q){return Object.getPrototypeOf(q.constructor)===it}(ln)?G=ln:_e=ln}),_e||G||ie||null}(0,ln)}ngOnChanges(G){if(this._isControlChanged(G)){const _e=G.form.previousValue;_e&&te(_e,this,!1),J(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}(function Ki(q,x){if(!q.hasOwnProperty("model"))return!1;const ie=q.model;return!!ie.isFirstChange()||!Object.is(x,ie.currentValue)})(G,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&te(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(G){this.viewModel=G,this.update.emit(G)}_isControlChanged(G){return G.hasOwnProperty("form")}}return(q=x)._ngModelWarningSentOnce=!1,q.\u0275fac=function(G){return new(G||q)(c.rXU(_t,10),c.rXU(xt,10),c.rXU(ut,10),c.rXU(Ne,8),c.rXU(ne,8))},q.\u0275dir=c.FsC({type:q,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c.Jv_([$e]),c.Vt3,c.OA$]}),x})();const st={provide:Ot,useExisting:(0,c.Rfq)(()=>Yt)};let Yt=(()=>{var q;class x extends Ot{get submitted(){return(0,c.O8t)(this._submittedReactive)}set submitted(G){this._submittedReactive.set(G)}constructor(G,_e,ln){super(),this.callSetDisabledState=ln,this._submitted=(0,c.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,c.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.bkB,this._setValidators(G),this._setAsyncValidators(_e)}ngOnChanges(G){this._checkFormPresent(),G.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(an(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(G){const _e=this.form.get(G.path);return J(_e,G,this.callSetDisabledState),_e.updateValueAndValidity({emitEvent:!1}),this.directives.push(G),_e}getControl(G){return this.form.get(G.path)}removeControl(G){te(G.control||null,G,!1),function os(q,x){const ie=q.indexOf(x);ie>-1&&q.splice(ie,1)}(this.directives,G)}addFormGroup(G){this._setUpFormContainer(G)}removeFormGroup(G){this._cleanUpFormContainer(G)}getFormGroup(G){return this.form.get(G.path)}addFormArray(G){this._setUpFormContainer(G)}removeFormArray(G){this._cleanUpFormContainer(G)}getFormArray(G){return this.form.get(G.path)}updateModel(G,_e){this.form.get(G.path).setValue(_e)}onSubmit(G){var _e;return this._submittedReactive.set(!0),function _o(q,x){q._syncPendingControls(),x.forEach(ie=>{const G=ie.control;"submit"===G.updateOn&&G._pendingChange&&(ie.viewToModelUpdate(G._pendingValue),G._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(G),this.form._events.next(new Ye(this.control)),"dialog"===(null==G||null===(_e=G.target)||void 0===_e?void 0:_e.method)}onReset(){this.resetForm()}resetForm(G=void 0){this.form.reset(G),this._submittedReactive.set(!1),this.form._events.next(new bt(this.form))}_updateDomValue(){this.directives.forEach(G=>{const _e=G.control,ln=this.form.get(G.path);_e!==ln&&(te(_e||null,G),(q=>q instanceof Sr)(ln)&&(J(ln,G,this.callSetDisabledState),G.control=ln))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(G){const _e=this.form.get(G.path);(function ir(q,x){Gt(q,x)})(_e,G),_e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(G){if(this.form){const _e=this.form.get(G.path);_e&&function ai(q,x){return an(q,x)}(_e,G)&&_e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Gt(this.form,this),this._oldForm&&an(this._oldForm,this)}_checkFormPresent(){}}return(q=x).\u0275fac=function(G){return new(G||q)(c.rXU(_t,10),c.rXU(xt,10),c.rXU(ne,8))},q.\u0275dir=c.FsC({type:q,selectors:[["","formGroup",""]],hostBindings:function(G,_e){1&G&&c.bIt("submit",function(Ln){return _e.onSubmit(Ln)})("reset",function(){return _e.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([st]),c.Vt3,c.OA$]}),x})();function Da(q){return"number"==typeof q?q:parseFloat(q)}let qr=(()=>{var q;class x{constructor(){this._validator=ee}ngOnChanges(G){if(this.inputName in G){const _e=this.normalizeInput(G[this.inputName].currentValue);this._enabled=this.enabled(_e),this._validator=this._enabled?this.createValidator(_e):ee,this._onChange&&this._onChange()}}validate(G){return this._validator(G)}registerOnValidatorChange(G){this._onChange=G}enabled(G){return null!=G}}return(q=x).\u0275fac=function(G){return new(G||q)},q.\u0275dir=c.FsC({type:q,features:[c.OA$]}),x})();const qo={provide:_t,useExisting:(0,c.Rfq)(()=>yo),multi:!0};let yo=(()=>{var q;class x extends qr{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=G=>Da(G),this.createValidator=G=>Qt(G)}}return(q=x).\u0275fac=(()=>{let ie;return function(_e){return(ie||(ie=c.xGo(q)))(_e||q)}})(),q.\u0275dir=c.FsC({type:q,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(G,_e){2&G&&c.BMQ("max",_e._enabled?_e.max:null)},inputs:{max:"max"},features:[c.Jv_([qo]),c.Vt3]}),x})();const Pr={provide:_t,useExisting:(0,c.Rfq)(()=>Mo),multi:!0};let Mo=(()=>{var q;class x extends qr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=G=>Da(G),this.createValidator=G=>Vt(G)}}return(q=x).\u0275fac=(()=>{let ie;return function(_e){return(ie||(ie=c.xGo(q)))(_e||q)}})(),q.\u0275dir=c.FsC({type:q,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(G,_e){2&G&&c.BMQ("min",_e._enabled?_e.min:null)},inputs:{min:"min"},features:[c.Jv_([Pr]),c.Vt3]}),x})(),Vs=(()=>{var q;class x{}return(q=x).\u0275fac=function(G){return new(G||q)},q.\u0275mod=c.$C({type:q}),q.\u0275inj=c.G2t({}),x})(),Il=(()=>{var q;class x{static withConfig(G){var _e;return{ngModule:x,providers:[{provide:ne,useValue:null!==(_e=G.callSetDisabledState)&&void 0!==_e?_e:H}]}}}return(q=x).\u0275fac=function(G){return new(G||q)},q.\u0275mod=c.$C({type:q}),q.\u0275inj=c.G2t({imports:[Vs]}),x})(),Ra=(()=>{var q;class x{static withConfig(G){var _e,ln;return{ngModule:x,providers:[{provide:Ne,useValue:null!==(_e=G.warnOnNgModelWithFormControl)&&void 0!==_e?_e:"always"},{provide:ne,useValue:null!==(ln=G.callSetDisabledState)&&void 0!==ln?ln:H}]}}}return(q=x).\u0275fac=function(G){return new(G||q)},q.\u0275mod=c.$C({type:q}),q.\u0275inj=c.G2t({imports:[Vs]}),x})()},345:(vn,vt,L)=>{"use strict";L.d(vt,{Bb:()=>Sn,hE:()=>Kn,sG:()=>Nt});var c=L(177),h=L(4438);class F extends c.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Re extends F{static makeCurrent(){(0,c.ZD)(new Re)}onAndCancel(Fe,rt,ot){return Fe.addEventListener(rt,ot),()=>{Fe.removeEventListener(rt,ot)}}dispatchEvent(Fe,rt){Fe.dispatchEvent(rt)}remove(Fe){Fe.remove()}createElement(Fe,rt){return(rt=rt||this.getDefaultDocument()).createElement(Fe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Fe){return Fe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Fe){return Fe instanceof DocumentFragment}getGlobalEventTarget(Fe,rt){return"window"===rt?window:"document"===rt?Fe:"body"===rt?Fe.body:null}getBaseHref(Fe){const rt=function ge(){return ue=ue||document.querySelector("base"),ue?ue.getAttribute("href"):null}();return null==rt?null:function Ce(St){return new URL(St,document.baseURI).pathname}(rt)}resetBaseElement(){ue=null}getUserAgent(){return window.navigator.userAgent}getCookie(Fe){return(0,c._b)(document.cookie,Fe)}}let ue=null,et=(()=>{var St;class Fe{build(){return new XMLHttpRequest}}return(St=Fe).\u0275fac=function(ot){return new(ot||St)},St.\u0275prov=h.jDH({token:St,factory:St.\u0275fac}),Fe})();const Pe=new h.nKC("");let pe=(()=>{var St;class Fe{constructor(ot,ke){this._zone=ke,this._eventNameToPlugin=new Map,ot.forEach(Ue=>{Ue.manager=this}),this._plugins=ot.slice().reverse()}addEventListener(ot,ke,Ue){return this._findPluginFor(ke).addEventListener(ot,ke,Ue)}getZone(){return this._zone}_findPluginFor(ot){let ke=this._eventNameToPlugin.get(ot);if(ke)return ke;if(ke=this._plugins.find(W=>W.supports(ot)),!ke)throw new h.wOt(5101,!1);return this._eventNameToPlugin.set(ot,ke),ke}}return(St=Fe).\u0275fac=function(ot){return new(ot||St)(h.KVO(Pe),h.KVO(h.SKi))},St.\u0275prov=h.jDH({token:St,factory:St.\u0275fac}),Fe})();class Ge{constructor(Fe){this._doc=Fe}}const Ke="ng-app-id";let qe=(()=>{var St;class Fe{constructor(ot,ke,Ue,W={}){this.doc=ot,this.appId=ke,this.nonce=Ue,this.platformId=W,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,c.Vy)(W),this.resetHostNodes()}addStyles(ot){for(const ke of ot)1===this.changeUsageCount(ke,1)&&this.onStyleAdded(ke)}removeStyles(ot){for(const ke of ot)this.changeUsageCount(ke,-1)<=0&&this.onStyleRemoved(ke)}ngOnDestroy(){const ot=this.styleNodesInDOM;ot&&(ot.forEach(ke=>ke.remove()),ot.clear());for(const ke of this.getAllStyles())this.onStyleRemoved(ke);this.resetHostNodes()}addHost(ot){this.hostNodes.add(ot);for(const ke of this.getAllStyles())this.addStyleToHost(ot,ke)}removeHost(ot){this.hostNodes.delete(ot)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ot){for(const ke of this.hostNodes)this.addStyleToHost(ke,ot)}onStyleRemoved(ot){var ke;const Ue=this.styleRef;null===(ke=Ue.get(ot))||void 0===ke||null===(ke=ke.elements)||void 0===ke||ke.forEach(W=>W.remove()),Ue.delete(ot)}collectServerRenderedStyles(){var ot;const ke=null===(ot=this.doc.head)||void 0===ot?void 0:ot.querySelectorAll(`style[${Ke}="${this.appId}"]`);if(null!=ke&&ke.length){const Ue=new Map;return ke.forEach(W=>{null!=W.textContent&&Ue.set(W.textContent,W)}),Ue}return null}changeUsageCount(ot,ke){const Ue=this.styleRef;if(Ue.has(ot)){const W=Ue.get(ot);return W.usage+=ke,W.usage}return Ue.set(ot,{usage:ke,elements:[]}),ke}getStyleElement(ot,ke){const Ue=this.styleNodesInDOM,W=null==Ue?void 0:Ue.get(ke);if((null==W?void 0:W.parentNode)===ot)return Ue.delete(ke),W.removeAttribute(Ke),W;{const R=this.doc.createElement("style");return this.nonce&&R.setAttribute("nonce",this.nonce),R.textContent=ke,this.platformIsServer&&R.setAttribute(Ke,this.appId),ot.appendChild(R),R}}addStyleToHost(ot,ke){var Ue;const W=this.getStyleElement(ot,ke),R=this.styleRef,k=null===(Ue=R.get(ke))||void 0===Ue?void 0:Ue.elements;k?k.push(W):R.set(ke,{elements:[W],usage:1})}resetHostNodes(){const ot=this.hostNodes;ot.clear(),ot.add(this.doc.head)}}return(St=Fe).\u0275fac=function(ot){return new(ot||St)(h.KVO(c.qQ),h.KVO(h.sZ2),h.KVO(h.BIS,8),h.KVO(h.Agw))},St.\u0275prov=h.jDH({token:St,factory:St.\u0275fac}),Fe})();const it={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ut=/%COMP%/g,lt=new h.nKC("",{providedIn:"root",factory:()=>!0});function nt(St,Fe){return Fe.map(rt=>rt.replace(ut,St))}let _t=(()=>{var St;class Fe{constructor(ot,ke,Ue,W,R,k,ce,se=null){this.eventManager=ot,this.sharedStylesHost=ke,this.appId=Ue,this.removeStylesOnCompDestroy=W,this.doc=R,this.platformId=k,this.ngZone=ce,this.nonce=se,this.rendererByCompId=new Map,this.platformIsServer=(0,c.Vy)(k),this.defaultRenderer=new xt(ot,R,ce,this.platformIsServer)}createRenderer(ot,ke){if(!ot||!ke)return this.defaultRenderer;this.platformIsServer&&ke.encapsulation===h.gXe.ShadowDom&&(ke={...ke,encapsulation:h.gXe.Emulated});const Ue=this.getOrCreateRenderer(ot,ke);return Ue instanceof en?Ue.applyToHost(ot):Ue instanceof yn&&Ue.applyStyles(),Ue}getOrCreateRenderer(ot,ke){const Ue=this.rendererByCompId;let W=Ue.get(ke.id);if(!W){const R=this.doc,k=this.ngZone,ce=this.eventManager,se=this.sharedStylesHost,Ye=this.removeStylesOnCompDestroy,bt=this.platformIsServer;switch(ke.encapsulation){case h.gXe.Emulated:W=new en(ce,se,ke,this.appId,Ye,R,k,bt);break;case h.gXe.ShadowDom:return new Qt(ce,se,ot,ke,R,k,this.nonce,bt);default:W=new yn(ce,se,ke,Ye,R,k,bt)}Ue.set(ke.id,W)}return W}ngOnDestroy(){this.rendererByCompId.clear()}}return(St=Fe).\u0275fac=function(ot){return new(ot||St)(h.KVO(pe),h.KVO(qe),h.KVO(h.sZ2),h.KVO(lt),h.KVO(c.qQ),h.KVO(h.Agw),h.KVO(h.SKi),h.KVO(h.BIS))},St.\u0275prov=h.jDH({token:St,factory:St.\u0275fac}),Fe})();class xt{constructor(Fe,rt,ot,ke){this.eventManager=Fe,this.doc=rt,this.ngZone=ot,this.platformIsServer=ke,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Fe,rt){return rt?this.doc.createElementNS(it[rt]||rt,Fe):this.doc.createElement(Fe)}createComment(Fe){return this.doc.createComment(Fe)}createText(Fe){return this.doc.createTextNode(Fe)}appendChild(Fe,rt){(Vt(Fe)?Fe.content:Fe).appendChild(rt)}insertBefore(Fe,rt,ot){Fe&&(Vt(Fe)?Fe.content:Fe).insertBefore(rt,ot)}removeChild(Fe,rt){rt.remove()}selectRootElement(Fe,rt){let ot="string"==typeof Fe?this.doc.querySelector(Fe):Fe;if(!ot)throw new h.wOt(-5104,!1);return rt||(ot.textContent=""),ot}parentNode(Fe){return Fe.parentNode}nextSibling(Fe){return Fe.nextSibling}setAttribute(Fe,rt,ot,ke){if(ke){rt=ke+":"+rt;const Ue=it[ke];Ue?Fe.setAttributeNS(Ue,rt,ot):Fe.setAttribute(rt,ot)}else Fe.setAttribute(rt,ot)}removeAttribute(Fe,rt,ot){if(ot){const ke=it[ot];ke?Fe.removeAttributeNS(ke,rt):Fe.removeAttribute(`${ot}:${rt}`)}else Fe.removeAttribute(rt)}addClass(Fe,rt){Fe.classList.add(rt)}removeClass(Fe,rt){Fe.classList.remove(rt)}setStyle(Fe,rt,ot,ke){ke&(h.czy.DashCase|h.czy.Important)?Fe.style.setProperty(rt,ot,ke&h.czy.Important?"important":""):Fe.style[rt]=ot}removeStyle(Fe,rt,ot){ot&h.czy.DashCase?Fe.style.removeProperty(rt):Fe.style[rt]=""}setProperty(Fe,rt,ot){null!=Fe&&(Fe[rt]=ot)}setValue(Fe,rt){Fe.nodeValue=rt}listen(Fe,rt,ot){if("string"==typeof Fe&&!(Fe=(0,c.QT)().getGlobalEventTarget(this.doc,Fe)))throw new Error(`Unsupported event target ${Fe} for event ${rt}`);return this.eventManager.addEventListener(Fe,rt,this.decoratePreventDefault(ot))}decoratePreventDefault(Fe){return rt=>{if("__ngUnwrap__"===rt)return Fe;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Fe(rt)):Fe(rt))&&rt.preventDefault()}}}function Vt(St){return"TEMPLATE"===St.tagName&&void 0!==St.content}class Qt extends xt{constructor(Fe,rt,ot,ke,Ue,W,R,k){super(Fe,Ue,W,k),this.sharedStylesHost=rt,this.hostEl=ot,this.shadowRoot=ot.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ce=nt(ke.id,ke.styles);for(const se of ce){const Ye=document.createElement("style");R&&Ye.setAttribute("nonce",R),Ye.textContent=se,this.shadowRoot.appendChild(Ye)}}nodeOrShadowRoot(Fe){return Fe===this.hostEl?this.shadowRoot:Fe}appendChild(Fe,rt){return super.appendChild(this.nodeOrShadowRoot(Fe),rt)}insertBefore(Fe,rt,ot){return super.insertBefore(this.nodeOrShadowRoot(Fe),rt,ot)}removeChild(Fe,rt){return super.removeChild(null,rt)}parentNode(Fe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Fe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yn extends xt{constructor(Fe,rt,ot,ke,Ue,W,R,k){super(Fe,Ue,W,R),this.sharedStylesHost=rt,this.removeStylesOnCompDestroy=ke,this.styles=k?nt(k,ot.styles):ot.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class en extends yn{constructor(Fe,rt,ot,ke,Ue,W,R,k){const ce=ke+"-"+ot.id;super(Fe,rt,ot,Ue,W,R,k,ce),this.contentAttr=function De(St){return"_ngcontent-%COMP%".replace(ut,St)}(ce),this.hostAttr=function Le(St){return"_nghost-%COMP%".replace(ut,St)}(ce)}applyToHost(Fe){this.applyStyles(),this.setAttribute(Fe,this.hostAttr,"")}createElement(Fe,rt){const ot=super.createElement(Fe,rt);return super.setAttribute(ot,this.contentAttr,""),ot}}let Dn=(()=>{var St;class Fe extends Ge{constructor(ot){super(ot)}supports(ot){return!0}addEventListener(ot,ke,Ue){return ot.addEventListener(ke,Ue,!1),()=>this.removeEventListener(ot,ke,Ue)}removeEventListener(ot,ke,Ue){return ot.removeEventListener(ke,Ue)}}return(St=Fe).\u0275fac=function(ot){return new(ot||St)(h.KVO(c.qQ))},St.\u0275prov=h.jDH({token:St,factory:St.\u0275fac}),Fe})();const Et=["alt","control","meta","shift"],we={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xe={alt:St=>St.altKey,control:St=>St.ctrlKey,meta:St=>St.metaKey,shift:St=>St.shiftKey};let ee=(()=>{var St;class Fe extends Ge{constructor(ot){super(ot)}supports(ot){return null!=Fe.parseEventName(ot)}addEventListener(ot,ke,Ue){const W=Fe.parseEventName(ke),R=Fe.eventCallback(W.fullKey,Ue,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.QT)().onAndCancel(ot,W.domEventName,R))}static parseEventName(ot){const ke=ot.toLowerCase().split("."),Ue=ke.shift();if(0===ke.length||"keydown"!==Ue&&"keyup"!==Ue)return null;const W=Fe._normalizeKey(ke.pop());let R="",k=ke.indexOf("code");if(k>-1&&(ke.splice(k,1),R="code."),Et.forEach(se=>{const Ye=ke.indexOf(se);Ye>-1&&(ke.splice(Ye,1),R+=se+".")}),R+=W,0!=ke.length||0===W.length)return null;const ce={};return ce.domEventName=Ue,ce.fullKey=R,ce}static matchEventFullKeyCode(ot,ke){let Ue=we[ot.key]||ot.key,W="";return ke.indexOf("code.")>-1&&(Ue=ot.code,W="code."),!(null==Ue||!Ue)&&(Ue=Ue.toLowerCase()," "===Ue?Ue="space":"."===Ue&&(Ue="dot"),Et.forEach(R=>{R!==Ue&&(0,xe[R])(ot)&&(W+=R+".")}),W+=Ue,W===ke)}static eventCallback(ot,ke,Ue){return W=>{Fe.matchEventFullKeyCode(W,ot)&&Ue.runGuarded(()=>ke(W))}}static _normalizeKey(ot){return"esc"===ot?"escape":ot}}return(St=Fe).\u0275fac=function(ot){return new(ot||St)(h.KVO(c.qQ))},St.\u0275prov=h.jDH({token:St,factory:St.\u0275fac}),Fe})();const Nt=(0,h.oH4)(h.fpN,"browser",[{provide:h.Agw,useValue:c.AJ},{provide:h.PLl,useValue:function Se(){Re.makeCurrent()},multi:!0},{provide:c.qQ,useFactory:function He(){return(0,h.TL$)(document),document},deps:[]}]),dn=new h.nKC(""),In=[{provide:h.e01,useClass:class ze{addToWindow(Fe){h.JZv.getAngularTestability=(ot,ke=!0)=>{const Ue=Fe.findTestabilityInTree(ot,ke);if(null==Ue)throw new h.wOt(5103,!1);return Ue},h.JZv.getAllAngularTestabilities=()=>Fe.getAllTestabilities(),h.JZv.getAllAngularRootElements=()=>Fe.getAllRootElements(),h.JZv.frameworkStabilizers||(h.JZv.frameworkStabilizers=[]),h.JZv.frameworkStabilizers.push(ot=>{const ke=h.JZv.getAllAngularTestabilities();let Ue=ke.length;const W=function(){Ue--,0==Ue&&ot()};ke.forEach(R=>{R.whenStable(W)})})}findTestabilityInTree(Fe,rt,ot){if(null==rt)return null;const ke=Fe.getTestability(rt);return null!=ke?ke:ot?(0,c.QT)().isShadowRoot(rt)?this.findTestabilityInTree(Fe,rt.host,!0):this.findTestabilityInTree(Fe,rt.parentElement,!0):null}},deps:[]},{provide:h.WHO,useClass:h.NYb,deps:[h.SKi,h.giA,h.e01]},{provide:h.NYb,useClass:h.NYb,deps:[h.SKi,h.giA,h.e01]}],pr=[{provide:h.H8p,useValue:"root"},{provide:h.zcH,useFactory:function tt(){return new h.zcH},deps:[]},{provide:Pe,useClass:Dn,multi:!0,deps:[c.qQ,h.SKi,h.Agw]},{provide:Pe,useClass:ee,multi:!0,deps:[c.qQ]},_t,qe,pe,{provide:h._9s,useExisting:_t},{provide:c.N0,useClass:et,deps:[]},[]];let Sn=(()=>{var St;class Fe{constructor(ot){}static withServerTransition(ot){return{ngModule:Fe,providers:[{provide:h.sZ2,useValue:ot.appId}]}}}return(St=Fe).\u0275fac=function(ot){return new(ot||St)(h.KVO(dn,12))},St.\u0275mod=h.$C({type:St}),St.\u0275inj=h.G2t({providers:[...pr,...In],imports:[c.MD,h.Hbi]}),Fe})(),Kn=(()=>{var St;class Fe{constructor(ot){this._doc=ot}getTitle(){return this._doc.title}setTitle(ot){this._doc.title=ot||""}}return(St=Fe).\u0275fac=function(ot){return new(ot||St)(h.KVO(c.qQ))},St.\u0275prov=h.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),Fe})()},4964:(vn,vt,L)=>{"use strict";L.d(vt,{nX:()=>qt,Zp:()=>O,Z:()=>ei,Xk:()=>dt,Kp:()=>ki,b:()=>je,Ix:()=>ci,Wk:()=>Yn,wQ:()=>Di,iI:()=>Va,Sd:()=>mn});var c=L(4438),h=L(1985),F=L(8071),ue=L(8455),ge=L(7673),Ce=L(4412),ze=L(4572),et=L(9350),Pe=L(8793),pe=L(8750);function Ge(I){return new h.c(w=>{(0,pe.Tg)(I()).subscribe(w)})}var Ke=L(1203);function qe(I,w){const N=(0,F.T)(I)?I:()=>I,S=V=>V.error(N());return new h.c(w?V=>w.schedule(S,0,V):S)}var it=L(983),ut=L(8359),Be=L(9974),Qe=L(4360);function ct(){return(0,Be.N)((I,w)=>{let N=null;I._refCount++;const S=(0,Qe._)(w,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(N=null);const V=I._connection,de=N;N=null,V&&(!de||V===de)&&V.unsubscribe(),w.unsubscribe()});I.subscribe(S),S.closed||(N=I.connect())})}class at extends h.c{constructor(w,N){super(),this.source=w,this.subjectFactory=N,this._subject=null,this._refCount=0,this._connection=null,(0,Be.S)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,null==w||w.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new ut.yU;const N=this.getSubject();w.add(this.source.subscribe((0,Qe._)(N,void 0,()=>{this._teardown(),N.complete()},S=>{this._teardown(),N.error(S)},()=>this._teardown()))),w.closed&&(this._connection=null,w=ut.yU.EMPTY)}return w}refCount(){return ct()(this)}}var lt=L(1413),De=L(177),Le=L(6354),nt=L(5558),_t=L(6697),xt=L(9172),Ie=L(5964),At=L(1397),Vt=L(1594);function Qt(I,w){return(0,F.T)(w)?(0,At.Z)(I,w,1):(0,At.Z)(I,1)}var yn=L(8141);function en(I){return(0,Be.N)((w,N)=>{let de,S=null,V=!1;S=w.subscribe((0,Qe._)(N,void 0,void 0,ye=>{de=(0,pe.Tg)(I(ye,en(I)(w))),S?(S.unsubscribe(),S=null,de.subscribe(N)):V=!0})),V&&(S.unsubscribe(),S=null,de.subscribe(N))})}var Dn=L(2816),Et=L(9901);function we(I){return I<=0?()=>it.w:(0,Be.N)((w,N)=>{let S=[];w.subscribe((0,Qe._)(N,V=>{S.push(V),I<S.length&&S.shift()},()=>{for(const V of S)N.next(V);N.complete()},void 0,()=>{S=null}))})}var xe=L(3774),ee=L(3669);function le(I){return(0,Be.N)((w,N)=>{try{w.subscribe(N)}finally{N.add(I)}})}var be=L(5343),tt=L(6365),He=L(345);const dt="primary",Nt=Symbol("RouteTitle");class dn{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const N=this.params[w];return Array.isArray(N)?N[0]:N}return null}getAll(w){if(this.has(w)){const N=this.params[w];return Array.isArray(N)?N:[N]}return[]}get keys(){return Object.keys(this.params)}}function In(I){return new dn(I)}function pr(I,w,N){const S=N.path.split("/");if(S.length>I.length||"full"===N.pathMatch&&(w.hasChildren()||S.length<I.length))return null;const V={};for(let de=0;de<S.length;de++){const ye=S[de],Dt=I[de];if(":"===ye[0])V[ye.substring(1)]=Dt;else if(ye!==Dt.path)return null}return{consumed:I.slice(0,S.length),posParams:V}}function zn(I,w){const N=I?Xn(I):void 0,S=w?Xn(w):void 0;if(!N||!S||N.length!=S.length)return!1;let V;for(let de=0;de<N.length;de++)if(V=N[de],!Kn(I[V],w[V]))return!1;return!0}function Xn(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}function Kn(I,w){if(Array.isArray(I)&&Array.isArray(w)){if(I.length!==w.length)return!1;const N=[...I].sort(),S=[...w].sort();return N.every((V,de)=>S[de]===V)}return I===w}function Wt(I){return I.length>0?I[I.length-1]:null}function kt(I){return function Re(I){return!!I&&(I instanceof h.c||(0,F.T)(I.lift)&&(0,F.T)(I.subscribe))}(I)?I:(0,c.jNT)(I)?(0,ue.H)(Promise.resolve(I)):(0,ge.of)(I)}const Ot={exact:function Zn(I,w,N){if(!sr(I.segments,w.segments)||!lr(I.segments,w.segments,N)||I.numberOfChildren!==w.numberOfChildren)return!1;for(const S in w.children)if(!I.children[S]||!Zn(I.children[S],w.children[S],N))return!1;return!0},subset:En},fn={exact:function hr(I,w){return zn(I,w)},subset:function Cn(I,w){return Object.keys(w).length<=Object.keys(I).length&&Object.keys(w).every(N=>Kn(I[N],w[N]))},ignored:()=>!0};function Bt(I,w,N){return Ot[N.paths](I.root,w.root,N.matrixParams)&&fn[N.queryParams](I.queryParams,w.queryParams)&&!("exact"===N.fragment&&I.fragment!==w.fragment)}function En(I,w,N){return Wn(I,w,w.segments,N)}function Wn(I,w,N,S){if(I.segments.length>N.length){const V=I.segments.slice(0,N.length);return!(!sr(V,N)||w.hasChildren()||!lr(V,N,S))}if(I.segments.length===N.length){if(!sr(I.segments,N)||!lr(I.segments,N,S))return!1;for(const V in w.children)if(!I.children[V]||!En(I.children[V],w.children[V],S))return!1;return!0}{const V=N.slice(0,I.segments.length),de=N.slice(I.segments.length);return!!(sr(I.segments,V)&&lr(I.segments,V,S)&&I.children[dt])&&Wn(I.children[dt],w,de,S)}}function lr(I,w,N){return w.every((S,V)=>fn[N](I[V].parameters,S.parameters))}class $n{constructor(w=new Vn([],{}),N={},S=null){this.root=w,this.queryParams=N,this.fragment=S}get queryParamMap(){var w;return null!==(w=this._queryParamMap)&&void 0!==w||(this._queryParamMap=In(this.queryParams)),this._queryParamMap}toString(){return or.serialize(this)}}class Vn{constructor(w,N){this.segments=w,this.children=N,this.parent=null,Object.values(N).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lr(this)}}class fr{constructor(w,N){this.path=w,this.parameters=N}get parameterMap(){var w;return null!==(w=this._parameterMap)&&void 0!==w||(this._parameterMap=In(this.parameters)),this._parameterMap}toString(){return ot(this)}}function sr(I,w){return I.length===w.length&&I.every((N,S)=>N.path===w[S].path)}let mn=(()=>{var I;class w{}return(I=w).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:()=>new Gr,providedIn:"root"}),w})();class Gr{parse(w){const N=new hn(w);return new $n(N.parseRootSegment(),N.parseQueryParams(),N.parseFragment())}serialize(w){const N=`/${Bn(w.root,!0)}`,S=function Ue(I){const w=Object.entries(I).map(([N,S])=>Array.isArray(S)?S.map(V=>`${nr(N)}=${nr(V)}`).join("&"):`${nr(N)}=${nr(S)}`).filter(N=>N);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${N}${S}${"string"==typeof w.fragment?`#${function rr(I){return encodeURI(I)}(w.fragment)}`:""}`}}const or=new Gr;function Lr(I){return I.segments.map(w=>ot(w)).join("/")}function Bn(I,w){if(!I.hasChildren())return Lr(I);if(w){const N=I.children[dt]?Bn(I.children[dt],!1):"",S=[];return Object.entries(I.children).forEach(([V,de])=>{V!==dt&&S.push(`${V}:${Bn(de,!1)}`)}),S.length>0?`${N}(${S.join("//")})`:N}{const N=function Er(I,w){let N=[];return Object.entries(I.children).forEach(([S,V])=>{S===dt&&(N=N.concat(w(V,S)))}),Object.entries(I.children).forEach(([S,V])=>{S!==dt&&(N=N.concat(w(V,S)))}),N}(I,(S,V)=>V===dt?[Bn(I.children[dt],!1)]:[`${V}:${Bn(S,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[dt]?`${Lr(I)}/${N[0]}`:`${Lr(I)}/(${N.join("//")})`}}function yt(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nr(I){return yt(I).replace(/%3B/gi,";")}function St(I){return yt(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fe(I){return decodeURIComponent(I)}function rt(I){return Fe(I.replace(/\+/g,"%20"))}function ot(I){return`${St(I.path)}${function ke(I){return Object.entries(I).map(([w,N])=>`;${St(w)}=${St(N)}`).join("")}(I.parameters)}`}const W=/^[^\/()?;#]+/;function R(I){const w=I.match(W);return w?w[0]:""}const k=/^[^\/()?;=#]+/,se=/^[^=?&#]+/,bt=/^[^&#]+/;class hn{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vn([],{}):new Vn([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let N={};this.peekStartsWith("/(")&&(this.capture("/"),N=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(w.length>0||Object.keys(N).length>0)&&(S[dt]=new Vn(w,N)),S}parseSegment(){const w=R(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(w),new fr(Fe(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const N=function ce(I){const w=I.match(k);return w?w[0]:""}(this.remaining);if(!N)return;this.capture(N);let S="";if(this.consumeOptional("=")){const V=R(this.remaining);V&&(S=V,this.capture(S))}w[Fe(N)]=Fe(S)}parseQueryParam(w){const N=function Ye(I){const w=I.match(se);return w?w[0]:""}(this.remaining);if(!N)return;this.capture(N);let S="";if(this.consumeOptional("=")){const ye=function Lt(I){const w=I.match(bt);return w?w[0]:""}(this.remaining);ye&&(S=ye,this.capture(S))}const V=rt(N),de=rt(S);if(w.hasOwnProperty(V)){let ye=w[V];Array.isArray(ye)||(ye=[ye],w[V]=ye),ye.push(de)}else w[V]=de}parseParens(w){const N={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=R(this.remaining),V=this.remaining[S.length];if("/"!==V&&")"!==V&&";"!==V)throw new c.wOt(4010,!1);let de;S.indexOf(":")>-1?(de=S.slice(0,S.indexOf(":")),this.capture(de),this.capture(":")):w&&(de=dt);const ye=this.parseChildren();N[de]=1===Object.keys(ye).length?ye[dt]:new Vn([],ye),this.consumeOptional("//")}return N}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new c.wOt(4011,!1)}}function rn(I){return I.segments.length>0?new Vn([],{[dt]:I}):I}function gn(I){const w={};for(const[S,V]of Object.entries(I.children)){const de=gn(V);if(S===dt&&0===de.segments.length&&de.hasChildren())for(const[ye,Dt]of Object.entries(de.children))w[ye]=Dt;else(de.segments.length>0||de.hasChildren())&&(w[S]=de)}return function on(I){if(1===I.numberOfChildren&&I.children[dt]){const w=I.children[dt];return new Vn(I.segments.concat(w.segments),w.children)}return I}(new Vn(I.segments,w))}function er(I){return I instanceof $n}function xn(I){var w;let N;const de=rn(function S(ye){const Dt={};for(const Pt of ye.children){const On=S(Pt);Dt[Pt.outlet]=On}const nn=new Vn(ye.url,Dt);return ye===I&&(N=nn),nn}(I.root));return null!==(w=N)&&void 0!==w?w:de}function Qr(I,w,N,S){let V=I;for(;V.parent;)V=V.parent;if(0===w.length)return Ti(V,V,V,N,S);const de=function ne(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new Ar(!0,0,I);let w=0,N=!1;const S=I.reduce((V,de,ye)=>{if("object"==typeof de&&null!=de){if(de.outlets){const Dt={};return Object.entries(de.outlets).forEach(([nn,Pt])=>{Dt[nn]="string"==typeof Pt?Pt.split("/"):Pt}),[...V,{outlets:Dt}]}if(de.segmentPath)return[...V,de.segmentPath]}return"string"!=typeof de?[...V,de]:0===ye?(de.split("/").forEach((Dt,nn)=>{0==nn&&"."===Dt||(0==nn&&""===Dt?N=!0:".."===Dt?w++:""!=Dt&&V.push(Dt))}),V):[...V,de]},[]);return new Ar(N,w,S)}(w);if(de.toRoot())return Ti(V,V,new Vn([],{}),N,S);const ye=function Ee(I,w,N){if(I.isAbsolute)return new H(w,!0,0);if(!N)return new H(w,!1,NaN);if(null===N.parent)return new H(N,!0,0);const S=_r(I.commands[0])?0:1;return function J(I,w,N){let S=I,V=w,de=N;for(;de>V;){if(de-=V,S=S.parent,!S)throw new c.wOt(4005,!1);V=S.segments.length}return new H(S,!1,V-de)}(N,N.segments.length-1+S,I.numberOfDoubleDots)}(de,V,I),Dt=ye.processChildren?mt(ye.segmentGroup,ye.index,de.commands):Me(ye.segmentGroup,ye.index,de.commands);return Ti(V,ye.segmentGroup,Dt,N,S)}function _r(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Mn(I){return"object"==typeof I&&null!=I&&I.outlets}function Ti(I,w,N,S,V){let ye,de={};S&&Object.entries(S).forEach(([nn,Pt])=>{de[nn]=Array.isArray(Pt)?Pt.map(On=>`${On}`):`${Pt}`}),ye=I===w?N:ur(I,w,N);const Dt=rn(gn(ye));return new $n(Dt,de,V)}function ur(I,w,N){const S={};return Object.entries(I.children).forEach(([V,de])=>{S[V]=de===w?N:ur(de,w,N)}),new Vn(I.segments,S)}class Ar{constructor(w,N,S){if(this.isAbsolute=w,this.numberOfDoubleDots=N,this.commands=S,w&&S.length>0&&_r(S[0]))throw new c.wOt(4003,!1);const V=S.find(Mn);if(V&&V!==Wt(S))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class H{constructor(w,N,S){this.segmentGroup=w,this.processChildren=N,this.index=S}}function Me(I,w,N){var S;if(null!==(S=I)&&void 0!==S||(I=new Vn([],{})),0===I.segments.length&&I.hasChildren())return mt(I,w,N);const V=function Gt(I,w,N){let S=0,V=w;const de={match:!1,pathIndex:0,commandIndex:0};for(;V<I.segments.length;){if(S>=N.length)return de;const ye=I.segments[V],Dt=N[S];if(Mn(Dt))break;const nn=`${Dt}`,Pt=S<N.length-1?N[S+1]:null;if(V>0&&void 0===nn)break;if(nn&&Pt&&"object"==typeof Pt&&void 0===Pt.outlets){if(!Nn(nn,Pt,ye))return de;S+=2}else{if(!Nn(nn,{},ye))return de;S++}V++}return{match:!0,pathIndex:V,commandIndex:S}}(I,w,N),de=N.slice(V.commandIndex);if(V.match&&V.pathIndex<I.segments.length){const ye=new Vn(I.segments.slice(0,V.pathIndex),{});return ye.children[dt]=new Vn(I.segments.slice(V.pathIndex),I.children),mt(ye,0,de)}return V.match&&0===de.length?new Vn(I.segments,{}):V.match&&!I.hasChildren()?an(I,w,N):V.match?mt(I,0,de):an(I,w,N)}function mt(I,w,N){if(0===N.length)return new Vn(I.segments,{});{const S=function te(I){return Mn(I[0])?I[0].outlets:{[dt]:I}}(N),V={};if(Object.keys(S).some(de=>de!==dt)&&I.children[dt]&&1===I.numberOfChildren&&0===I.children[dt].segments.length){const de=mt(I.children[dt],w,N);return new Vn(I.segments,de.children)}return Object.entries(S).forEach(([de,ye])=>{"string"==typeof ye&&(ye=[ye]),null!==ye&&(V[de]=Me(I.children[de],w,ye))}),Object.entries(I.children).forEach(([de,ye])=>{void 0===S[de]&&(V[de]=ye)}),new Vn(I.segments,V)}}function an(I,w,N){const S=I.segments.slice(0,w);let V=0;for(;V<N.length;){const de=N[V];if(Mn(de)){const nn=wn(de.outlets);return new Vn(S,nn)}if(0===V&&_r(N[0])){S.push(new fr(I.segments[w].path,gr(N[0]))),V++;continue}const ye=Mn(de)?de.outlets[dt]:`${de}`,Dt=V<N.length-1?N[V+1]:null;ye&&Dt&&_r(Dt)?(S.push(new fr(ye,gr(Dt))),V+=2):(S.push(new fr(ye,{})),V++)}return new Vn(S,{})}function wn(I){const w={};return Object.entries(I).forEach(([N,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(w[N]=an(new Vn([],{}),0,S))}),w}function gr(I){const w={};return Object.entries(I).forEach(([N,S])=>w[N]=`${S}`),w}function Nn(I,w,N){return I==N.path&&zn(w,N.parameters)}const si="imperative";var ir=function(I){return I[I.NavigationStart=0]="NavigationStart",I[I.NavigationEnd=1]="NavigationEnd",I[I.NavigationCancel=2]="NavigationCancel",I[I.NavigationError=3]="NavigationError",I[I.RoutesRecognized=4]="RoutesRecognized",I[I.ResolveStart=5]="ResolveStart",I[I.ResolveEnd=6]="ResolveEnd",I[I.GuardsCheckStart=7]="GuardsCheckStart",I[I.GuardsCheckEnd=8]="GuardsCheckEnd",I[I.RouteConfigLoadStart=9]="RouteConfigLoadStart",I[I.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",I[I.ChildActivationStart=11]="ChildActivationStart",I[I.ChildActivationEnd=12]="ChildActivationEnd",I[I.ActivationStart=13]="ActivationStart",I[I.ActivationEnd=14]="ActivationEnd",I[I.Scroll=15]="Scroll",I[I.NavigationSkipped=16]="NavigationSkipped",I}(ir||{});class ai{constructor(w,N){this.id=w,this.url=N}}class ei extends ai{constructor(w,N,S="imperative",V=null){super(w,N),this.type=ir.NavigationStart,this.navigationTrigger=S,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wi extends ai{constructor(w,N,S){super(w,N),this.urlAfterRedirects=S,this.type=ir.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var It=function(I){return I[I.Redirect=0]="Redirect",I[I.SupersededByNewNavigation=1]="SupersededByNewNavigation",I[I.NoDataFromResolver=2]="NoDataFromResolver",I[I.GuardRejected=3]="GuardRejected",I}(It||{}),lo=function(I){return I[I.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",I[I.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",I}(lo||{});class ii extends ai{constructor(w,N,S,V){super(w,N),this.reason=S,this.code=V,this.type=ir.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ki extends ai{constructor(w,N,S,V){super(w,N),this.reason=S,this.code=V,this.type=ir.NavigationSkipped}}class zo extends ai{constructor(w,N,S,V){super(w,N),this.error=S,this.target=V,this.type=ir.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _o extends ai{constructor(w,N,S,V){super(w,N),this.urlAfterRedirects=S,this.state=V,this.type=ir.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pi extends ai{constructor(w,N,S,V){super(w,N),this.urlAfterRedirects=S,this.state=V,this.type=ir.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class os extends ai{constructor(w,N,S,V,de){super(w,N),this.urlAfterRedirects=S,this.state=V,this.shouldActivate=de,this.type=ir.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uo extends ai{constructor(w,N,S,V){super(w,N),this.urlAfterRedirects=S,this.state=V,this.type=ir.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Go extends ai{constructor(w,N,S,V){super(w,N),this.urlAfterRedirects=S,this.state=V,this.type=ir.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qi{constructor(w){this.route=w,this.type=ir.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bi{constructor(w){this.route=w,this.type=ir.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _s{constructor(w){this.snapshot=w,this.type=ir.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jn{constructor(w){this.snapshot=w,this.type=ir.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sr{constructor(w){this.snapshot=w,this.type=ir.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ss{constructor(w){this.snapshot=w,this.type=ir.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qs{constructor(w,N,S){this.routerEvent=w,this.position=N,this.anchor=S,this.type=ir.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class li{}class Xs{constructor(w,N){this.url=w,this.navigationBehaviorOptions=N}}function Pi(I){return I.outlet||dt}function Y(I){var w;if(!I)return null;if(null!==(w=I.routeConfig)&&void 0!==w&&w._injector)return I.routeConfig._injector;for(let N=I.parent;N;N=N.parent){const S=N.routeConfig;if(null!=S&&S._loadedInjector)return S._loadedInjector;if(null!=S&&S._injector)return S._injector}return null}class me{get injector(){var w,N;return null!==(w=Y(null===(N=this.route)||void 0===N?void 0:N.snapshot))&&void 0!==w?w:this.rootInjector}set injector(w){}constructor(w){this.rootInjector=w,this.outlet=null,this.route=null,this.children=new O(this.rootInjector),this.attachRef=null}}let O=(()=>{var I;class w{constructor(S){this.rootInjector=S,this.contexts=new Map}onChildOutletCreated(S,V){const de=this.getOrCreateContext(S);de.outlet=V,this.contexts.set(S,de)}onChildOutletDestroyed(S){const V=this.getContext(S);V&&(V.outlet=null,V.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let V=this.getContext(S);return V||(V=new me(this.rootInjector),this.contexts.set(S,V)),V}getContext(S){return this.contexts.get(S)||null}}return(I=w).\u0275fac=function(S){return new(S||I)(c.KVO(c.uvJ))},I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})();class C{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const N=this.pathFromRoot(w);return N.length>1?N[N.length-2]:null}children(w){const N=j(w,this._root);return N?N.children.map(S=>S.value):[]}firstChild(w){const N=j(w,this._root);return N&&N.children.length>0?N.children[0].value:null}siblings(w){const N=Ne(w,this._root);return N.length<2?[]:N[N.length-2].children.map(V=>V.value).filter(V=>V!==w)}pathFromRoot(w){return Ne(w,this._root).map(N=>N.value)}}function j(I,w){if(I===w.value)return w;for(const N of w.children){const S=j(I,N);if(S)return S}return null}function Ne(I,w){if(I===w.value)return[w];for(const N of w.children){const S=Ne(I,N);if(S.length)return S.unshift(w),S}return[]}class $e{constructor(w,N){this.value=w,this.children=N}toString(){return`TreeNode(${this.value})`}}function ht(I){const w={};return I&&I.children.forEach(N=>w[N.value.outlet]=N),w}class st extends C{constructor(w,N){super(w),this.snapshot=N,jn(this,w)}toString(){return this.snapshot.toString()}}function Yt(I){const w=function wt(I){const de=new bn([],{},{},"",{},dt,I,null,{});return new Fn("",new $e(de,[]))}(I),N=new Ce.t([new fr("",{})]),S=new Ce.t({}),V=new Ce.t({}),de=new Ce.t({}),ye=new Ce.t(""),Dt=new qt(N,S,de,ye,V,dt,I,w.root);return Dt.snapshot=w.root,new st(new $e(Dt,[]),w)}class qt{constructor(w,N,S,V,de,ye,Dt,nn){var Pt,On;this.urlSubject=w,this.paramsSubject=N,this.queryParamsSubject=S,this.fragmentSubject=V,this.dataSubject=de,this.outlet=ye,this.component=Dt,this._futureSnapshot=nn,this.title=null!==(Pt=null===(On=this.dataSubject)||void 0===On?void 0:On.pipe((0,Le.T)(Cr=>Cr[Nt])))&&void 0!==Pt?Pt:(0,ge.of)(void 0),this.url=w,this.params=N,this.queryParams=S,this.fragment=V,this.data=de}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var w;return null!==(w=this._paramMap)&&void 0!==w||(this._paramMap=this.params.pipe((0,Le.T)(N=>In(N)))),this._paramMap}get queryParamMap(){var w;return null!==(w=this._queryParamMap)&&void 0!==w||(this._queryParamMap=this.queryParams.pipe((0,Le.T)(N=>In(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tn(I,w,N="emptyOnly"){var S;let V;const{routeConfig:de}=I;var ye;return V=null===w||"always"!==N&&""!==(null==de?void 0:de.path)&&(w.component||null!==(S=w.routeConfig)&&void 0!==S&&S.loadComponent)?{params:{...I.params},data:{...I.data},resolve:{...I.data,...null!==(ye=I._resolvedData)&&void 0!==ye?ye:{}}}:{params:{...w.params,...I.params},data:{...w.data,...I.data},resolve:{...I.data,...w.data,...null==de?void 0:de.data,...I._resolvedData}},de&&ui(de)&&(V.resolve[Nt]=de.title),V}class bn{get title(){var w;return null===(w=this.data)||void 0===w?void 0:w[Nt]}constructor(w,N,S,V,de,ye,Dt,nn,Pt){this.url=w,this.params=N,this.queryParams=S,this.fragment=V,this.data=de,this.outlet=ye,this.component=Dt,this.routeConfig=nn,this._resolve=Pt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var w;return null!==(w=this._paramMap)&&void 0!==w||(this._paramMap=In(this.params)),this._paramMap}get queryParamMap(){var w;return null!==(w=this._queryParamMap)&&void 0!==w||(this._queryParamMap=In(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fn extends C{constructor(w,N){super(N),this.url=w,jn(this,N)}toString(){return Un(this._root)}}function jn(I,w){w.value._routerState=I,w.children.forEach(N=>jn(I,N))}function Un(I){const w=I.children.length>0?` { ${I.children.map(Un).join(", ")} } `:"";return`${I.value}${w}`}function kr(I){if(I.snapshot){const w=I.snapshot,N=I._futureSnapshot;I.snapshot=N,zn(w.queryParams,N.queryParams)||I.queryParamsSubject.next(N.queryParams),w.fragment!==N.fragment&&I.fragmentSubject.next(N.fragment),zn(w.params,N.params)||I.paramsSubject.next(N.params),function Sn(I,w){if(I.length!==w.length)return!1;for(let N=0;N<I.length;++N)if(!zn(I[N],w[N]))return!1;return!0}(w.url,N.url)||I.urlSubject.next(N.url),zn(w.data,N.data)||I.dataSubject.next(N.data)}else I.snapshot=I._futureSnapshot,I.dataSubject.next(I._futureSnapshot.data)}function jr(I,w){const N=zn(I.params,w.params)&&function Fr(I,w){return sr(I,w)&&I.every((N,S)=>zn(N.parameters,w[S].parameters))}(I.url,w.url);return N&&!(!I.parent!=!w.parent)&&(!I.parent||jr(I.parent,w.parent))}function ui(I){return"string"==typeof I.title||null===I.title}let Yr=(()=>{var I;class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=dt,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(O),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.inputBinder=(0,c.WQX)(ho,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(S){if(S.name){const{firstChange:V,previousValue:de}=S.name;if(V)return;this.isTrackedInParentContexts(de)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(de)),this.initializeOutletWithName()}}ngOnDestroy(){var S;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(S=this.inputBinder)||void 0===S||S.unsubscribeFromRouteData(this)}isTrackedInParentContexts(S){var V;return(null===(V=this.parentContexts.getContext(S))||void 0===V?void 0:V.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const S=this.parentContexts.getContext(this.name);null!=S&&S.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,V){var de;this.activated=S,this._activatedRoute=V,this.location.insert(S.hostView),null===(de=this.inputBinder)||void 0===de||de.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,V){var de;if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=S;const ye=this.location,nn=S.snapshot.component,Pt=this.parentContexts.getOrCreateContext(this.name).children,On=new cr(S,Pt,ye.injector);this.activated=ye.createComponent(nn,{index:ye.length,injector:On,environmentInjector:V}),this.changeDetector.markForCheck(),null===(de=this.inputBinder)||void 0===de||de.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(I=w).\u0275fac=function(S){return new(S||I)},I.\u0275dir=c.FsC({type:I,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]}),w})();class cr{__ngOutletInjector(w){return new cr(this.route,this.childContexts,w)}constructor(w,N,S){this.route=w,this.childContexts=N,this.parent=S}get(w,N){return w===qt?this.route:w===O?this.childContexts:this.parent.get(w,N)}}const ho=new c.nKC("");let Jr=(()=>{var I;class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(S){this.unsubscribeFromRouteData(S),this.subscribeToRouteData(S)}unsubscribeFromRouteData(S){var V;null===(V=this.outletDataSubscriptions.get(S))||void 0===V||V.unsubscribe(),this.outletDataSubscriptions.delete(S)}subscribeToRouteData(S){const{activatedRoute:V}=S,de=(0,ze.z)([V.queryParams,V.params,V.data]).pipe((0,nt.n)(([ye,Dt,nn],Pt)=>(nn={...ye,...Dt,...nn},0===Pt?(0,ge.of)(nn):Promise.resolve(nn)))).subscribe(ye=>{if(!S.isActivated||!S.activatedComponentRef||S.activatedRoute!==V||null===V.component)return void this.unsubscribeFromRouteData(S);const Dt=(0,c.HJs)(V.component);if(Dt)for(const{templateName:nn}of Dt.inputs)S.activatedComponentRef.setInput(nn,ye[nn]);else this.unsubscribeFromRouteData(S)});this.outletDataSubscriptions.set(S,de)}}return(I=w).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac}),w})();function io(I,w,N){if(N&&I.shouldReuseRoute(w.value,N.value.snapshot)){const S=N.value;S._futureSnapshot=w.value;const V=function Co(I,w,N){return w.children.map(S=>{for(const V of N.children)if(I.shouldReuseRoute(S.value,V.value.snapshot))return io(I,S,V);return io(I,S)})}(I,w,N);return new $e(S,V)}{if(I.shouldAttach(w.value)){const de=I.retrieve(w.value);if(null!==de){const ye=de.route;return ye.value._futureSnapshot=w.value,ye.children=w.children.map(Dt=>io(I,Dt)),ye}}const S=function Xi(I){return new qt(new Ce.t(I.url),new Ce.t(I.params),new Ce.t(I.queryParams),new Ce.t(I.fragment),new Ce.t(I.data),I.outlet,I.component,I)}(w.value),V=w.children.map(de=>io(I,de));return new $e(S,V)}}class ko{constructor(w,N){this.redirectTo=w,this.navigationBehaviorOptions=N}}const Da="ngNavigationCancelingError";function qr(I,w){const{redirectTo:N,navigationBehaviorOptions:S}=er(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,V=qo(!1,It.Redirect);return V.url=N,V.navigationBehaviorOptions=S,V}function qo(I,w){const N=new Error(`NavigationCancelingError: ${I||""}`);return N[Da]=!0,N.cancellationCode=w,N}function Pr(I){return!!I&&I[Da]}class _l{constructor(w,N,S,V,de){this.routeReuseStrategy=w,this.futureState=N,this.currState=S,this.forwardEvent=V,this.inputBindingEnabled=de}activate(w){const N=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(N,S,w),kr(this.futureState.root),this.activateChildRoutes(N,S,w)}deactivateChildRoutes(w,N,S){const V=ht(N);w.children.forEach(de=>{const ye=de.value.outlet;this.deactivateRoutes(de,V[ye],S),delete V[ye]}),Object.values(V).forEach(de=>{this.deactivateRouteAndItsChildren(de,S)})}deactivateRoutes(w,N,S){const V=w.value,de=N?N.value:null;if(V===de)if(V.component){const ye=S.getContext(V.outlet);ye&&this.deactivateChildRoutes(w,N,ye.children)}else this.deactivateChildRoutes(w,N,S);else de&&this.deactivateRouteAndItsChildren(N,S)}deactivateRouteAndItsChildren(w,N){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,N):this.deactivateRouteAndOutlet(w,N)}detachAndStoreRouteSubtree(w,N){const S=N.getContext(w.value.outlet),V=S&&w.value.component?S.children:N,de=ht(w);for(const ye of Object.values(de))this.deactivateRouteAndItsChildren(ye,V);if(S&&S.outlet){const ye=S.outlet.detach(),Dt=S.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:ye,route:w,contexts:Dt})}}deactivateRouteAndOutlet(w,N){const S=N.getContext(w.value.outlet),V=S&&w.value.component?S.children:N,de=ht(w);for(const ye of Object.values(de))this.deactivateRouteAndItsChildren(ye,V);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(w,N,S){const V=ht(N);w.children.forEach(de=>{this.activateRoutes(de,V[de.value.outlet],S),this.forwardEvent(new ss(de.value.snapshot))}),w.children.length&&this.forwardEvent(new Jn(w.value.snapshot))}activateRoutes(w,N,S){const V=w.value,de=N?N.value:null;if(kr(V),V===de)if(V.component){const ye=S.getOrCreateContext(V.outlet);this.activateChildRoutes(w,N,ye.children)}else this.activateChildRoutes(w,N,S);else if(V.component){const ye=S.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const Dt=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),ye.children.onOutletReAttached(Dt.contexts),ye.attachRef=Dt.componentRef,ye.route=Dt.route.value,ye.outlet&&ye.outlet.attach(Dt.componentRef,Dt.route.value),kr(Dt.route.value),this.activateChildRoutes(w,null,ye.children)}else ye.attachRef=null,ye.route=V,ye.outlet&&ye.outlet.activateWith(V,ye.injector),this.activateChildRoutes(w,null,ye.children)}else this.activateChildRoutes(w,null,S)}}class Es{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class Vi{constructor(w,N){this.component=w,this.route=N}}function xr(I,w,N){const S=I._root;return fo(S,w?w._root:null,N,[S.value])}function ls(I,w){const N=Symbol(),S=w.get(I,N);return S===N?"function"!=typeof I||(0,c.LfX)(I)?w.get(I):I:S}function fo(I,w,N,S,V={canDeactivateChecks:[],canActivateChecks:[]}){const de=ht(w);return I.children.forEach(ye=>{(function po(I,w,N,S,V={canDeactivateChecks:[],canActivateChecks:[]}){const de=I.value,ye=w?w.value:null,Dt=N?N.getContext(I.value.outlet):null;if(ye&&de.routeConfig===ye.routeConfig){const nn=function Ni(I,w,N){if("function"==typeof N)return N(I,w);switch(N){case"pathParamsChange":return!sr(I.url,w.url);case"pathParamsOrQueryParamsChange":return!sr(I.url,w.url)||!zn(I.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jr(I,w)||!zn(I.queryParams,w.queryParams);default:return!jr(I,w)}}(ye,de,de.routeConfig.runGuardsAndResolvers);nn?V.canActivateChecks.push(new Es(S)):(de.data=ye.data,de._resolvedData=ye._resolvedData),fo(I,w,de.component?Dt?Dt.children:null:N,S,V),nn&&Dt&&Dt.outlet&&Dt.outlet.isActivated&&V.canDeactivateChecks.push(new Vi(Dt.outlet.component,ye))}else ye&&Oi(w,Dt,V),V.canActivateChecks.push(new Es(S)),fo(I,null,de.component?Dt?Dt.children:null:N,S,V)})(ye,de[ye.value.outlet],N,S.concat([ye.value]),V),delete de[ye.value.outlet]}),Object.entries(de).forEach(([ye,Dt])=>Oi(Dt,N.getContext(ye),V)),V}function Oi(I,w,N){const S=ht(I),V=I.value;Object.entries(S).forEach(([de,ye])=>{Oi(ye,V.component?w?w.children.getContext(de):null:w,N)}),N.canDeactivateChecks.push(new Vi(V.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,V))}function To(I){return"function"==typeof I}function As(I){return I instanceof et.G||"EmptyError"===(null==I?void 0:I.name)}const Xr=Symbol("INITIAL_VALUE");function Yo(){return(0,nt.n)(I=>(0,ze.z)(I.map(w=>w.pipe((0,_t.s)(1),(0,xt.Z)(Xr)))).pipe((0,Le.T)(w=>{for(const N of w)if(!0!==N){if(N===Xr)return Xr;if(!1===N||Sa(N))return N}return!0}),(0,Ie.p)(w=>w!==Xr),(0,_t.s)(1)))}function Sa(I){return er(I)||I instanceof ko}function ln(I){return(0,Ke.F)((0,yn.M)(w=>{if("boolean"!=typeof w)throw qr(0,w)}),(0,Le.T)(w=>!0===w))}class Wr{constructor(w){this.segmentGroup=w||null}}class Ui extends Error{constructor(w){super(),this.urlTree=w}}function $i(I){return qe(new Wr(I))}class Or{constructor(w,N){this.urlSerializer=w,this.urlTree=N}lineralizeSegments(w,N){let S=[],V=N.root;for(;;){if(S=S.concat(V.segments),0===V.numberOfChildren)return(0,ge.of)(S);if(V.numberOfChildren>1||!V.children[dt])return qe(new c.wOt(4e3,!1));V=V.children[dt]}}applyRedirectCommands(w,N,S,V,de){if("string"!=typeof N){const Dt=N,{queryParams:nn,fragment:Pt,routeConfig:On,url:Cr,outlet:ti,params:Dr,data:Si,title:Vo}=V,xo=(0,c.N4e)(de,()=>Dt({params:Dr,data:Si,queryParams:nn,fragment:Pt,routeConfig:On,url:Cr,outlet:ti,title:Vo}));if(xo instanceof $n)throw new Ui(xo);N=xo}const ye=this.applyRedirectCreateUrlTree(N,this.urlSerializer.parse(N),w,S);if("/"===N[0])throw new Ui(ye);return ye}applyRedirectCreateUrlTree(w,N,S,V){const de=this.createSegmentGroup(w,N.root,S,V);return new $n(de,this.createQueryParams(N.queryParams,this.urlTree.queryParams),N.fragment)}createQueryParams(w,N){const S={};return Object.entries(w).forEach(([V,de])=>{if("string"==typeof de&&":"===de[0]){const Dt=de.substring(1);S[V]=N[Dt]}else S[V]=de}),S}createSegmentGroup(w,N,S,V){const de=this.createSegments(w,N.segments,S,V);let ye={};return Object.entries(N.children).forEach(([Dt,nn])=>{ye[Dt]=this.createSegmentGroup(w,nn,S,V)}),new Vn(de,ye)}createSegments(w,N,S,V){return N.map(de=>":"===de.path[0]?this.findPosParam(w,de,V):this.findOrReturn(de,S))}findPosParam(w,N,S){const V=S[N.path.substring(1)];if(!V)throw new c.wOt(4001,!1);return V}findOrReturn(w,N){let S=0;for(const V of N){if(V.path===w.path)return N.splice(S),V;S++}return w}}const Zr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function br(I,w,N,S,V){const de=Bi(I,w,N);return de.matched?(S=function co(I,w){var N;return I.providers&&!I._injector&&(I._injector=(0,c.Ol2)(I.providers,w,`Route: ${I.path}`)),null!==(N=I._injector)&&void 0!==N?N:w}(w,S),function Ln(I,w,N,S){const V=w.canMatch;if(!V||0===V.length)return(0,ge.of)(!0);const de=V.map(ye=>{const Dt=ls(ye,I);return kt(function Qs(I){return I&&To(I.canMatch)}(Dt)?Dt.canMatch(w,N):(0,c.N4e)(I,()=>Dt(w,N)))});return(0,ge.of)(de).pipe(Yo(),ln())}(S,w,N).pipe((0,Le.T)(ye=>!0===ye?de:{...Zr}))):(0,ge.of)(de)}function Bi(I,w,N){var S,V;if("**"===w.path)return function xi(I){return{matched:!0,parameters:I.length>0?Wt(I).parameters:{},consumedSegments:I,remainingSegments:[],positionalParamSegments:{}}}(N);if(""===w.path)return"full"===w.pathMatch&&(I.hasChildren()||N.length>0)?{...Zr}:{matched:!0,consumedSegments:[],remainingSegments:N,parameters:{},positionalParamSegments:{}};const ye=(w.matcher||pr)(N,I,w);if(!ye)return{...Zr};const Dt={};Object.entries(null!==(S=ye.posParams)&&void 0!==S?S:{}).forEach(([Pt,On])=>{Dt[Pt]=On.path});const nn=ye.consumed.length>0?{...Dt,...ye.consumed[ye.consumed.length-1].parameters}:Dt;return{matched:!0,consumedSegments:ye.consumed,remainingSegments:N.slice(ye.consumed.length),parameters:nn,positionalParamSegments:null!==(V=ye.posParams)&&void 0!==V?V:{}}}function us(I,w,N,S){return N.length>0&&function Pa(I,w,N){return N.some(S=>el(I,w,S)&&Pi(S)!==dt)}(I,N,S)?{segmentGroup:new Vn(w,ql(S,new Vn(N,I.children))),slicedSegments:[]}:0===N.length&&function cs(I,w,N){return N.some(S=>el(I,w,S))}(I,N,S)?{segmentGroup:new Vn(I.segments,ji(I,N,S,I.children)),slicedSegments:N}:{segmentGroup:new Vn(I.segments,I.children),slicedSegments:N}}function ji(I,w,N,S){const V={};for(const de of N)if(el(I,w,de)&&!S[Pi(de)]){const ye=new Vn([],{});V[Pi(de)]=ye}return{...S,...V}}function ql(I,w){const N={};N[dt]=w;for(const S of I)if(""===S.path&&Pi(S)!==dt){const V=new Vn([],{});N[Pi(S)]=V}return N}function el(I,w,N){return(!(I.hasChildren()||w.length>0)||"full"!==N.pathMatch)&&""===N.path}class tl{}class Eu{constructor(w,N,S,V,de,ye,Dt){this.injector=w,this.configLoader=N,this.rootComponentType=S,this.config=V,this.urlTree=de,this.paramsInheritanceStrategy=ye,this.urlSerializer=Dt,this.applyRedirects=new Or(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(w){return new c.wOt(4002,`'${w.segmentGroup}'`)}recognize(){const w=us(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(w).pipe((0,Le.T)(({children:N,rootSnapshot:S})=>{const V=new $e(S,N),de=new Fn("",V),ye=function Tn(I,w,N=null,S=null){return Qr(xn(I),w,N,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return ye.queryParams=this.urlTree.queryParams,de.url=this.urlSerializer.serialize(ye),{state:de,tree:ye}}))}match(w){const N=new bn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),dt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,w,dt,N).pipe((0,Le.T)(S=>({children:S,rootSnapshot:N})),en(S=>{if(S instanceof Ui)return this.urlTree=S.urlTree,this.match(S.urlTree.root);throw S instanceof Wr?this.noMatchError(S):S}))}processSegmentGroup(w,N,S,V,de){return 0===S.segments.length&&S.hasChildren()?this.processChildren(w,N,S,de):this.processSegment(w,N,S,S.segments,V,!0,de).pipe((0,Le.T)(ye=>ye instanceof $e?[ye]:[]))}processChildren(w,N,S,V){const de=[];for(const ye of Object.keys(S.children))"primary"===ye?de.unshift(ye):de.push(ye);return(0,ue.H)(de).pipe(Qt(ye=>{const Dt=S.children[ye],nn=function M(I,w){const N=I.filter(S=>Pi(S)===w);return N.push(...I.filter(S=>Pi(S)!==w)),N}(N,ye);return this.processSegmentGroup(w,nn,Dt,ye,V)}),(0,Dn.S)((ye,Dt)=>(ye.push(...Dt),ye)),(0,Et.U)(null),function oe(I,w){const N=arguments.length>=2;return S=>S.pipe(I?(0,Ie.p)((V,de)=>I(V,de,S)):ee.D,we(1),N?(0,Et.U)(w):(0,xe.v)(()=>new et.G))}(),(0,At.Z)(ye=>{if(null===ye)return $i(S);const Dt=Al(ye);return function Xl(I){I.sort((w,N)=>w.value.outlet===dt?-1:N.value.outlet===dt?1:w.value.outlet.localeCompare(N.value.outlet))}(Dt),(0,ge.of)(Dt)}))}processSegment(w,N,S,V,de,ye,Dt){return(0,ue.H)(N).pipe(Qt(nn=>{var Pt;return this.processSegmentAgainstRoute(null!==(Pt=nn._injector)&&void 0!==Pt?Pt:w,N,nn,S,V,de,ye,Dt).pipe(en(On=>{if(On instanceof Wr)return(0,ge.of)(null);throw On}))}),(0,Vt.$)(nn=>!!nn),en(nn=>{if(As(nn))return function od(I,w,N){return 0===w.length&&!I.children[N]}(S,V,de)?(0,ge.of)(new tl):$i(S);throw nn}))}processSegmentAgainstRoute(w,N,S,V,de,ye,Dt,nn){return Pi(S)===ye||ye!==dt&&el(V,de,S)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(w,V,S,de,ye,nn):this.allowRedirects&&Dt?this.expandSegmentAgainstRouteUsingRedirect(w,V,N,S,de,ye,nn):$i(V):$i(V)}expandSegmentAgainstRouteUsingRedirect(w,N,S,V,de,ye,Dt){var nn,Pt;const{matched:On,parameters:Cr,consumedSegments:ti,positionalParamSegments:Dr,remainingSegments:Si}=Bi(N,V,de);if(!On)return $i(N);"string"==typeof V.redirectTo&&"/"===V.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Vo=new bn(de,Cr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Zo(V),Pi(V),null!==(nn=null!==(Pt=V.component)&&void 0!==Pt?Pt:V._loadedComponent)&&void 0!==nn?nn:null,V,Ma(V)),xo=tn(Vo,Dt,this.paramsInheritanceStrategy);Vo.params=Object.freeze(xo.params),Vo.data=Object.freeze(xo.data);const Ii=this.applyRedirects.applyRedirectCommands(ti,V.redirectTo,Dr,Vo,w);return this.applyRedirects.lineralizeSegments(V,Ii).pipe((0,At.Z)(wo=>this.processSegment(w,S,N,wo.concat(Si),ye,!1,Dt)))}matchSegmentAgainstRoute(w,N,S,V,de,ye){const Dt=br(N,S,V,w);return"**"===S.path&&(N.children={}),Dt.pipe((0,nt.n)(nn=>{var Pt;return nn.matched?(w=null!==(Pt=S._injector)&&void 0!==Pt?Pt:w,this.getChildConfig(w,S,V).pipe((0,nt.n)(({routes:On})=>{var Cr,ti,Dr;const Si=null!==(Cr=S._loadedInjector)&&void 0!==Cr?Cr:w,{parameters:Vo,consumedSegments:xo,remainingSegments:Ii}=nn,wo=new bn(xo,Vo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Zo(S),Pi(S),null!==(ti=null!==(Dr=S.component)&&void 0!==Dr?Dr:S._loadedComponent)&&void 0!==ti?ti:null,S,Ma(S)),bl=tn(wo,ye,this.paramsInheritanceStrategy);wo.params=Object.freeze(bl.params),wo.data=Object.freeze(bl.data);const{segmentGroup:Dl,slicedSegments:$a}=us(N,xo,Ii,On);if(0===$a.length&&Dl.hasChildren())return this.processChildren(Si,On,Dl,wo).pipe((0,Le.T)(Ba=>new $e(wo,Ba)));if(0===On.length&&0===$a.length)return(0,ge.of)(new $e(wo,[]));const hs=Pi(S)===de;return this.processSegment(Si,On,Dl,$a,hs?dt:de,!0,wo).pipe((0,Le.T)(Ba=>new $e(wo,Ba instanceof $e?[Ba]:[])))}))):$i(N)}))}getChildConfig(w,N,S){return N.children?(0,ge.of)({routes:N.children,injector:w}):N.loadChildren?void 0!==N._loadedRoutes?(0,ge.of)({routes:N._loadedRoutes,injector:N._loadedInjector}):function _e(I,w,N,S){const V=w.canLoad;if(void 0===V||0===V.length)return(0,ge.of)(!0);const de=V.map(ye=>{const Dt=ls(ye,I);return kt(function Xo(I){return I&&To(I.canLoad)}(Dt)?Dt.canLoad(w,N):(0,c.N4e)(I,()=>Dt(w,N)))});return(0,ge.of)(de).pipe(Yo(),ln())}(w,N,S).pipe((0,At.Z)(V=>V?this.configLoader.loadChildren(w,N).pipe((0,yn.M)(de=>{N._loadedRoutes=de.routes,N._loadedInjector=de.injector})):function Zs(){return qe(qo(!1,It.GuardRejected))}())):(0,ge.of)({routes:[],injector:w})}}function uc(I){const w=I.value.routeConfig;return w&&""===w.path}function Al(I){const w=[],N=new Set;for(const S of I){if(!uc(S)){w.push(S);continue}const V=w.find(de=>S.value.routeConfig===de.value.routeConfig);void 0!==V?(V.children.push(...S.children),N.add(V)):w.push(S)}for(const S of N){const V=Al(S.children);w.push(new $e(S.value,V))}return w.filter(S=>!N.has(S))}function Zo(I){return I.data||{}}function Ma(I){return I.resolve||{}}function nl(I){const w=I.children.map(N=>nl(N)).flat();return[I,...w]}function ds(I){return(0,nt.n)(w=>{const N=I(w);return N?(0,ue.H)(N).pipe((0,Le.T)(()=>w)):(0,ge.of)(w)})}let rl=(()=>{var I;class w{buildTitle(S){let V,de=S.root;for(;void 0!==de;){var ye;V=null!==(ye=this.getResolvedTitleForRoute(de))&&void 0!==ye?ye:V,de=de.children.find(Dt=>Dt.outlet===dt)}return V}getResolvedTitleForRoute(S){return S.data[Nt]}}return(I=w).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:()=>(0,c.WQX)(bo),providedIn:"root"}),w})(),bo=(()=>{var I;class w extends rl{constructor(S){super(),this.title=S}updateTitle(S){const V=this.buildTitle(S);void 0!==V&&this.title.setTitle(V)}}return(I=w).\u0275fac=function(S){return new(S||I)(c.KVO(He.hE))},I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})();const Do=new c.nKC("",{providedIn:"root",factory:()=>({})});let Qi=(()=>{var I;class w{}return(I=w).\u0275fac=function(S){return new(S||I)},I.\u0275cmp=c.VBU({type:I,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(S,V){1&S&&c.nrm(0,"router-outlet")},dependencies:[Yr],encapsulation:2}),w})();function Ql(I){const w=I.children&&I.children.map(Ql),N=w?{...I,children:w}:{...I};return!N.component&&!N.loadComponent&&(w||N.loadChildren)&&N.outlet&&N.outlet!==dt&&(N.component=Qi),N}const xa=new c.nKC("");let Na=(()=>{var I;class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return(0,ge.of)(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);const V=kt(S.loadComponent()).pipe((0,Le.T)(fa),(0,yn.M)(ye=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=ye}),le(()=>{this.componentLoaders.delete(S)})),de=new at(V,()=>new lt.B).pipe(ct());return this.componentLoaders.set(S,de),de}loadChildren(S,V){if(this.childrenLoaders.get(V))return this.childrenLoaders.get(V);if(V._loadedRoutes)return(0,ge.of)({routes:V._loadedRoutes,injector:V._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(V);const ye=function Cs(I,w,N,S){return kt(I.loadChildren()).pipe((0,Le.T)(fa),(0,At.Z)(V=>V instanceof c.Co$||Array.isArray(V)?(0,ge.of)(V):(0,ue.H)(w.compileModuleAsync(V))),(0,Le.T)(V=>{S&&S(I);let de,ye,Dt=!1;return Array.isArray(V)?(ye=V,!0):(de=V.create(N).injector,ye=de.get(xa,[],{optional:!0,self:!0}).flat()),{routes:ye.map(Ql),injector:de}}))}(V,this.compiler,S,this.onLoadEndListener).pipe(le(()=>{this.childrenLoaders.delete(V)})),Dt=new at(ye,()=>new lt.B).pipe(ct());return this.childrenLoaders.set(V,Dt),Dt}}return(I=w).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})();function fa(I){return function ha(I){return I&&"object"==typeof I&&"default"in I}(I)?I.default:I}let Ts=(()=>{var I;class w{}return(I=w).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:()=>(0,c.WQX)(bs),providedIn:"root"}),w})(),bs=(()=>{var I;class w{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,V){return S}}return(I=w).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})();const Cu=new c.nKC(""),Yl=new c.nKC("");function b(I,w,N){const S=I.get(Yl),V=I.get(De.qQ);return I.get(c.SKi).runOutsideAngular(()=>{if(!V.startViewTransition||S.skipNextTransition)return S.skipNextTransition=!1,new Promise(Pt=>setTimeout(Pt));let de;const ye=new Promise(Pt=>{de=Pt}),Dt=V.startViewTransition(()=>(de(),function z(I){return new Promise(w=>{(0,c.mal)({read:()=>setTimeout(w)},{injector:I})})}(I))),{onViewTransitionCreated:nn}=S;return nn&&(0,c.N4e)(I,()=>nn({transition:Dt,from:w,to:N})),ye})}const Oe=new c.nKC("");let B=(()=>{var I;class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new lt.B,this.transitionAbortSubject=new lt.B,this.configLoader=(0,c.WQX)(Na),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(mn),this.rootContexts=(0,c.WQX)(O),this.location=(0,c.WQX)(De.aZ),this.inputBindingEnabled=null!==(0,c.WQX)(ho,{optional:!0}),this.titleStrategy=(0,c.WQX)(rl),this.options=(0,c.WQX)(Do,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,c.WQX)(Ts),this.createViewTransition=(0,c.WQX)(Cu,{optional:!0}),this.navigationErrorHandler=(0,c.WQX)(Oe,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ge.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=de=>this.events.next(new bi(de)),this.configLoader.onLoadStartListener=de=>this.events.next(new qi(de))}complete(){var S;null===(S=this.transitions)||void 0===S||S.complete()}handleNavigationRequest(S){var V;const de=++this.navigationId;null===(V=this.transitions)||void 0===V||V.next({...this.transitions.value,...S,id:de})}setupNavigations(S,V,de){return this.transitions=new Ce.t({id:0,currentUrlTree:V,currentRawUrl:V,extractedUrl:this.urlHandlingStrategy.extract(V),urlAfterRedirects:this.urlHandlingStrategy.extract(V),rawUrl:V,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:si,restoredState:null,currentSnapshot:de.snapshot,targetSnapshot:null,currentRouterState:de,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ie.p)(ye=>0!==ye.id),(0,Le.T)(ye=>({...ye,extractedUrl:this.urlHandlingStrategy.extract(ye.rawUrl)})),(0,nt.n)(ye=>{let Dt=!1,nn=!1;return(0,ge.of)(ye).pipe((0,nt.n)(Pt=>{var On;if(this.navigationId>ye.id)return this.cancelNavigationTransition(ye,"",It.SupersededByNewNavigation),it.w;this.currentTransition=ye,this.currentNavigation={id:Pt.id,initialUrl:Pt.rawUrl,extractedUrl:Pt.extractedUrl,targetBrowserUrl:"string"==typeof Pt.extras.browserUrl?this.urlSerializer.parse(Pt.extras.browserUrl):Pt.extras.browserUrl,trigger:Pt.source,extras:Pt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Cr=!S.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),ti=null!==(On=Pt.extras.onSameUrlNavigation)&&void 0!==On?On:S.onSameUrlNavigation;if(!Cr&&"reload"!==ti){const Dr="";return this.events.next(new Ki(Pt.id,this.urlSerializer.serialize(Pt.rawUrl),Dr,lo.IgnoredSameUrlNavigation)),Pt.resolve(!1),it.w}if(this.urlHandlingStrategy.shouldProcessUrl(Pt.rawUrl))return(0,ge.of)(Pt).pipe((0,nt.n)(Dr=>{var Si,Vo;const xo=null===(Si=this.transitions)||void 0===Si?void 0:Si.getValue();return this.events.next(new ei(Dr.id,this.urlSerializer.serialize(Dr.extractedUrl),Dr.source,Dr.restoredState)),xo!==(null===(Vo=this.transitions)||void 0===Vo?void 0:Vo.getValue())?it.w:Promise.resolve(Dr)}),function da(I,w,N,S,V,de){return(0,At.Z)(ye=>function lc(I,w,N,S,V,de,ye="emptyOnly"){return new Eu(I,w,N,S,V,ye,de).recognize()}(I,w,N,S,ye.extractedUrl,V,de).pipe((0,Le.T)(({state:Dt,tree:nn})=>({...ye,targetSnapshot:Dt,urlAfterRedirects:nn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,S.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,yn.M)(Dr=>{ye.targetSnapshot=Dr.targetSnapshot,ye.urlAfterRedirects=Dr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Dr.urlAfterRedirects};const Si=new _o(Dr.id,this.urlSerializer.serialize(Dr.extractedUrl),this.urlSerializer.serialize(Dr.urlAfterRedirects),Dr.targetSnapshot);this.events.next(Si)}));if(Cr&&this.urlHandlingStrategy.shouldProcessUrl(Pt.currentRawUrl)){const{id:Dr,extractedUrl:Si,source:Vo,restoredState:xo,extras:Ii}=Pt,wo=new ei(Dr,this.urlSerializer.serialize(Si),Vo,xo);this.events.next(wo);const bl=Yt(this.rootComponentType).snapshot;return this.currentTransition=ye={...Pt,targetSnapshot:bl,urlAfterRedirects:Si,extras:{...Ii,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Si,(0,ge.of)(ye)}{const Dr="";return this.events.next(new Ki(Pt.id,this.urlSerializer.serialize(Pt.extractedUrl),Dr,lo.IgnoredByUrlHandlingStrategy)),Pt.resolve(!1),it.w}}),(0,yn.M)(Pt=>{const On=new pi(Pt.id,this.urlSerializer.serialize(Pt.extractedUrl),this.urlSerializer.serialize(Pt.urlAfterRedirects),Pt.targetSnapshot);this.events.next(On)}),(0,Le.T)(Pt=>(this.currentTransition=ye={...Pt,guards:xr(Pt.targetSnapshot,Pt.currentSnapshot,this.rootContexts)},ye)),function Ja(I,w){return(0,At.Z)(N=>{const{targetSnapshot:S,currentSnapshot:V,guards:{canActivateChecks:de,canDeactivateChecks:ye}}=N;return 0===ye.length&&0===de.length?(0,ge.of)({...N,guardsResult:!0}):function go(I,w,N,S){return(0,ue.H)(I).pipe((0,At.Z)(V=>function G(I,w,N,S,V){const de=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!de||0===de.length)return(0,ge.of)(!0);const ye=de.map(Dt=>{var nn;const Pt=null!==(nn=Y(w))&&void 0!==nn?nn:V,On=ls(Dt,Pt);return kt(function Qo(I){return I&&To(I.canDeactivate)}(On)?On.canDeactivate(I,w,N,S):(0,c.N4e)(Pt,()=>On(I,w,N,S))).pipe((0,Vt.$)())});return(0,ge.of)(ye).pipe(Yo())}(V.component,V.route,N,w,S)),(0,Vt.$)(V=>!0!==V,!0))}(ye,S,V,I).pipe((0,At.Z)(Dt=>Dt&&function yl(I){return"boolean"==typeof I}(Dt)?function Il(I,w,N,S){return(0,ue.H)(w).pipe(Qt(V=>(0,Pe.x)(function q(I,w){return null!==I&&w&&w(new _s(I)),(0,ge.of)(!0)}(V.route.parent,S),function Ra(I,w){return null!==I&&w&&w(new Sr(I)),(0,ge.of)(!0)}(V.route,S),function ie(I,w,N){const S=w[w.length-1],de=w.slice(0,w.length-1).reverse().map(ye=>function Mi(I){const w=I.routeConfig?I.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:I,guards:w}:null}(ye)).filter(ye=>null!==ye).map(ye=>Ge(()=>{const Dt=ye.guards.map(nn=>{var Pt;const On=null!==(Pt=Y(ye.node))&&void 0!==Pt?Pt:N,Cr=ls(nn,On);return kt(function Vs(I){return I&&To(I.canActivateChild)}(Cr)?Cr.canActivateChild(S,I):(0,c.N4e)(On,()=>Cr(S,I))).pipe((0,Vt.$)())});return(0,ge.of)(Dt).pipe(Yo())}));return(0,ge.of)(de).pipe(Yo())}(I,V.path,N),function x(I,w,N){const S=w.routeConfig?w.routeConfig.canActivate:null;if(!S||0===S.length)return(0,ge.of)(!0);const V=S.map(de=>Ge(()=>{var ye;const Dt=null!==(ye=Y(w))&&void 0!==ye?ye:N,nn=ls(de,Dt);return kt(function wa(I){return I&&To(I.canActivate)}(nn)?nn.canActivate(w,I):(0,c.N4e)(Dt,()=>nn(w,I))).pipe((0,Vt.$)())}));return(0,ge.of)(V).pipe(Yo())}(I,V.route,N))),(0,Vt.$)(V=>!0!==V,!0))}(S,de,I,w):(0,ge.of)(Dt)),(0,Le.T)(Dt=>({...N,guardsResult:Dt})))})}(this.environmentInjector,Pt=>this.events.next(Pt)),(0,yn.M)(Pt=>{if(ye.guardsResult=Pt.guardsResult,Pt.guardsResult&&"boolean"!=typeof Pt.guardsResult)throw qr(0,Pt.guardsResult);const On=new os(Pt.id,this.urlSerializer.serialize(Pt.extractedUrl),this.urlSerializer.serialize(Pt.urlAfterRedirects),Pt.targetSnapshot,!!Pt.guardsResult);this.events.next(On)}),(0,Ie.p)(Pt=>!!Pt.guardsResult||(this.cancelNavigationTransition(Pt,"",It.GuardRejected),!1)),ds(Pt=>{if(Pt.guards.canActivateChecks.length)return(0,ge.of)(Pt).pipe((0,yn.M)(On=>{const Cr=new uo(On.id,this.urlSerializer.serialize(On.extractedUrl),this.urlSerializer.serialize(On.urlAfterRedirects),On.targetSnapshot);this.events.next(Cr)}),(0,nt.n)(On=>{let Cr=!1;return(0,ge.of)(On).pipe(function Us(I,w){return(0,At.Z)(N=>{const{targetSnapshot:S,guards:{canActivateChecks:V}}=N;if(!V.length)return(0,ge.of)(N);const de=new Set(V.map(nn=>nn.route)),ye=new Set;for(const nn of de)if(!ye.has(nn))for(const Pt of nl(nn))ye.add(Pt);let Dt=0;return(0,ue.H)(ye).pipe(Qt(nn=>de.has(nn)?function Cl(I,w,N,S){const V=I.routeConfig,de=I._resolve;return void 0!==(null==V?void 0:V.title)&&!ui(V)&&(de[Nt]=V.title),function Fo(I,w,N,S){const V=Xn(I);if(0===V.length)return(0,ge.of)({});const de={};return(0,ue.H)(V).pipe((0,At.Z)(ye=>function cc(I,w,N,S){var V;const de=null!==(V=Y(w))&&void 0!==V?V:S,ye=ls(I,de);return kt(ye.resolve?ye.resolve(w,N):(0,c.N4e)(de,()=>ye(w,N)))}(I[ye],w,N,S).pipe((0,Vt.$)(),(0,yn.M)(Dt=>{if(Dt instanceof ko)throw qr(new Gr,Dt);de[ye]=Dt}))),we(1),function fe(I){return(0,Le.T)(()=>I)}(de),en(ye=>As(ye)?it.w:qe(ye)))}(de,I,w,S).pipe((0,Le.T)(ye=>(I._resolvedData=ye,I.data=tn(I,I.parent,N).resolve,null)))}(nn,S,I,w):(nn.data=tn(nn,nn.parent,I).resolve,(0,ge.of)(void 0))),(0,yn.M)(()=>Dt++),we(1),(0,At.Z)(nn=>Dt===ye.size?(0,ge.of)(N):it.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,yn.M)({next:()=>Cr=!0,complete:()=>{Cr||this.cancelNavigationTransition(On,"",It.NoDataFromResolver)}}))}),(0,yn.M)(On=>{const Cr=new Go(On.id,this.urlSerializer.serialize(On.extractedUrl),this.urlSerializer.serialize(On.urlAfterRedirects),On.targetSnapshot);this.events.next(Cr)}))}),ds(Pt=>{const On=Cr=>{var ti;const Dr=[];null!==(ti=Cr.routeConfig)&&void 0!==ti&&ti.loadComponent&&!Cr.routeConfig._loadedComponent&&Dr.push(this.configLoader.loadComponent(Cr.routeConfig).pipe((0,yn.M)(Si=>{Cr.component=Si}),(0,Le.T)(()=>{})));for(const Si of Cr.children)Dr.push(...On(Si));return Dr};return(0,ze.z)(On(Pt.targetSnapshot.root)).pipe((0,Et.U)(null),(0,_t.s)(1))}),ds(()=>this.afterPreactivation()),(0,nt.n)(()=>{var Pt;const{currentSnapshot:On,targetSnapshot:Cr}=ye,ti=null===(Pt=this.createViewTransition)||void 0===Pt?void 0:Pt.call(this,this.environmentInjector,On.root,Cr.root);return ti?(0,ue.H)(ti).pipe((0,Le.T)(()=>ye)):(0,ge.of)(ye)}),(0,Le.T)(Pt=>{const On=function Tr(I,w,N){const S=io(I,w._root,N?N._root:void 0);return new st(S,w)}(S.routeReuseStrategy,Pt.targetSnapshot,Pt.currentRouterState);return this.currentTransition=ye={...Pt,targetRouterState:On},this.currentNavigation.targetRouterState=On,ye}),(0,yn.M)(()=>{this.events.next(new li)}),((I,w,N,S)=>(0,Le.T)(V=>(new _l(w,V.targetRouterState,V.currentRouterState,N,S).activate(I),V)))(this.rootContexts,S.routeReuseStrategy,Pt=>this.events.next(Pt),this.inputBindingEnabled),(0,_t.s)(1),(0,yn.M)({next:Pt=>{var On;Dt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wi(Pt.id,this.urlSerializer.serialize(Pt.extractedUrl),this.urlSerializer.serialize(Pt.urlAfterRedirects))),null===(On=this.titleStrategy)||void 0===On||On.updateTitle(Pt.targetRouterState.snapshot),Pt.resolve(!0)},complete:()=>{Dt=!0}}),function Se(I){return(0,Be.N)((w,N)=>{(0,pe.Tg)(I).subscribe((0,Qe._)(N,()=>N.complete(),be.l)),!N.closed&&w.subscribe(N)})}(this.transitionAbortSubject.pipe((0,yn.M)(Pt=>{throw Pt}))),le(()=>{var Pt;!Dt&&!nn&&this.cancelNavigationTransition(ye,"",It.SupersededByNewNavigation),(null===(Pt=this.currentTransition)||void 0===Pt?void 0:Pt.id)===ye.id&&(this.currentNavigation=null,this.currentTransition=null)}),en(Pt=>{if(nn=!0,Pr(Pt))this.events.next(new ii(ye.id,this.urlSerializer.serialize(ye.extractedUrl),Pt.message,Pt.cancellationCode)),function yo(I){return Pr(I)&&er(I.url)}(Pt)?this.events.next(new Xs(Pt.url,Pt.navigationBehaviorOptions)):ye.resolve(!1);else{var On;const Cr=new zo(ye.id,this.urlSerializer.serialize(ye.extractedUrl),Pt,null!==(On=ye.targetSnapshot)&&void 0!==On?On:void 0);try{const ti=(0,c.N4e)(this.environmentInjector,()=>{var Dr;return null===(Dr=this.navigationErrorHandler)||void 0===Dr?void 0:Dr.call(this,Cr)});if(ti instanceof ko){const{message:Dr,cancellationCode:Si}=qr(0,ti);this.events.next(new ii(ye.id,this.urlSerializer.serialize(ye.extractedUrl),Dr,Si)),this.events.next(new Xs(ti.redirectTo,ti.navigationBehaviorOptions))}else{this.events.next(Cr);const Dr=S.errorHandler(Pt);ye.resolve(!!Dr)}}catch(ti){this.options.resolveNavigationPromiseOnError?ye.resolve(!1):ye.reject(ti)}}return it.w}))}))}cancelNavigationTransition(S,V,de){const ye=new ii(S.id,this.urlSerializer.serialize(S.extractedUrl),V,de);this.events.next(ye),S.resolve(!1)}isUpdatingInternalState(){var S,V;return(null===(S=this.currentTransition)||void 0===S?void 0:S.extractedUrl.toString())!==(null===(V=this.currentTransition)||void 0===V?void 0:V.currentUrlTree.toString())}isUpdatedBrowserUrl(){var S,V,de,ye;const Dt=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),nn=null!==(S=null===(V=this.currentNavigation)||void 0===V?void 0:V.targetBrowserUrl)&&void 0!==S?S:null===(de=this.currentNavigation)||void 0===de?void 0:de.extractedUrl;return Dt.toString()!==(null==nn?void 0:nn.toString())&&!(null!==(ye=this.currentNavigation)&&void 0!==ye&&ye.extras.skipLocationChange)}}return(I=w).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})();function he(I){return I!==si}let je=(()=>{var I;class w{}return(I=w).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:()=>(0,c.WQX)(cn),providedIn:"root"}),w})();class Ht{shouldDetach(w){return!1}store(w,N){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,N){return w.routeConfig===N.routeConfig}}let cn=(()=>{var I;class w extends Ht{}return(I=w).\u0275fac=(()=>{let N;return function(V){return(N||(N=c.xGo(I)))(V||I)}})(),I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})(),mr=(()=>{var I;class w{}return(I=w).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:()=>(0,c.WQX)(Vr),providedIn:"root"}),w})(),Vr=(()=>{var I;class w extends mr{constructor(){super(...arguments),this.location=(0,c.WQX)(De.aZ),this.urlSerializer=(0,c.WQX)(mn),this.options=(0,c.WQX)(Do,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,c.WQX)(Ts),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new $n,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Yt(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var S,V;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(S=null===(V=this.restoredState())||void 0===V?void 0:V.\u0275routerPageId)&&void 0!==S?S:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(S){return this.location.subscribe(V=>{"popstate"===V.type&&S(V.url,V.state)})}handleRouterEvent(S,V){if(S instanceof ei)this.stateMemento=this.createStateMemento();else if(S instanceof Ki)this.rawUrlTree=V.initialUrl;else if(S instanceof _o){if("eager"===this.urlUpdateStrategy&&!V.extras.skipLocationChange){var de;const Dt=this.urlHandlingStrategy.merge(V.finalUrl,V.initialUrl);this.setBrowserUrl(null!==(de=V.targetBrowserUrl)&&void 0!==de?de:Dt,V)}}else if(S instanceof li){var ye;this.currentUrlTree=V.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(V.finalUrl,V.initialUrl),this.routerState=V.targetRouterState,"deferred"!==this.urlUpdateStrategy||V.extras.skipLocationChange||this.setBrowserUrl(null!==(ye=V.targetBrowserUrl)&&void 0!==ye?ye:this.rawUrlTree,V)}else S instanceof ii&&(S.code===It.GuardRejected||S.code===It.NoDataFromResolver)?this.restoreHistory(V):S instanceof zo?this.restoreHistory(V,!0):S instanceof Wi&&(this.lastSuccessfulId=S.id,this.currentPageId=this.browserPageId)}setBrowserUrl(S,V){const de=S instanceof $n?this.urlSerializer.serialize(S):S;if(this.location.isCurrentPathEqualTo(de)||V.extras.replaceUrl){const Dt={...V.extras.state,...this.generateNgRouterState(V.id,this.browserPageId)};this.location.replaceState(de,"",Dt)}else{const ye={...V.extras.state,...this.generateNgRouterState(V.id,this.browserPageId+1)};this.location.go(de,"",ye)}}restoreHistory(S,V=!1){if("computed"===this.canceledNavigationResolution){const ye=this.currentPageId-this.browserPageId;0!==ye?this.location.historyGo(ye):this.currentUrlTree===S.finalUrl&&0===ye&&(this.resetState(S),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(V&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){var V;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(V=S.finalUrl)&&void 0!==V?V:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(S,V){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:V}:{navigationId:S}}}return(I=w).\u0275fac=(()=>{let N;return function(V){return(N||(N=c.xGo(I)))(V||I)}})(),I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})();var Kr=function(I){return I[I.COMPLETE=0]="COMPLETE",I[I.FAILED=1]="FAILED",I[I.REDIRECTING=2]="REDIRECTING",I}(Kr||{});function Ur(I,w){I.events.pipe((0,Ie.p)(N=>N instanceof Wi||N instanceof ii||N instanceof zo||N instanceof Ki),(0,Le.T)(N=>N instanceof Wi||N instanceof Ki?Kr.COMPLETE:N instanceof ii&&(N.code===It.Redirect||N.code===It.SupersededByNewNavigation)?Kr.REDIRECTING:Kr.FAILED),(0,Ie.p)(N=>N!==Kr.REDIRECTING),(0,_t.s)(1)).subscribe(()=>{w()})}function Qn(I){throw I}const oi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ci=(()=>{var I;class w{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var S,V;this.disposed=!1,this.console=(0,c.WQX)(c.H3F),this.stateManager=(0,c.WQX)(mr),this.options=(0,c.WQX)(Do,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,c.WQX)(B),this.urlSerializer=(0,c.WQX)(mn),this.location=(0,c.WQX)(De.aZ),this.urlHandlingStrategy=(0,c.WQX)(Ts),this._events=new lt.B,this.errorHandler=this.options.errorHandler||Qn,this.navigated=!1,this.routeReuseStrategy=(0,c.WQX)(je),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(S=null===(V=(0,c.WQX)(xa,{optional:!0}))||void 0===V?void 0:V.flat())&&void 0!==S?S:[],this.componentInputBindingEnabled=!!(0,c.WQX)(ho,{optional:!0}),this.eventsSubscription=new ut.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:de=>{this.console.warn(de)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const S=this.navigationTransitions.events.subscribe(V=>{try{const de=this.navigationTransitions.currentTransition,ye=this.navigationTransitions.currentNavigation;if(null!==de&&null!==ye)if(this.stateManager.handleRouterEvent(V,ye),V instanceof ii&&V.code!==It.Redirect&&V.code!==It.SupersededByNewNavigation)this.navigated=!0;else if(V instanceof Wi)this.navigated=!0;else if(V instanceof Xs){const Dt=V.navigationBehaviorOptions,nn=this.urlHandlingStrategy.merge(V.url,de.currentRawUrl),Pt={browserUrl:de.extras.browserUrl,info:de.extras.info,skipLocationChange:de.extras.skipLocationChange,replaceUrl:de.extras.replaceUrl||"eager"===this.urlUpdateStrategy||he(de.source),...Dt};this.scheduleNavigation(nn,si,null,Pt,{resolve:de.resolve,reject:de.reject,promise:de.promise})}(function _n(I){return!(I instanceof li||I instanceof Xs)})(V)&&this._events.next(V)}catch(de){this.navigationTransitions.transitionAbortSubject.next(de)}});this.eventsSubscription.add(S)}resetRootComponentType(S){this.routerState.root.component=S,this.navigationTransitions.rootComponentType=S}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),si,this.stateManager.restoredState())}setUpLocationChangeListener(){var S;null!==(S=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==S||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((V,de)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(V,"popstate",de)},0)}))}navigateToSyncWithBrowser(S,V,de){const ye={replaceUrl:!0},Dt=null!=de&&de.navigationId?de:null;if(de){const Pt={...de};delete Pt.navigationId,delete Pt.\u0275routerPageId,0!==Object.keys(Pt).length&&(ye.state=Pt)}const nn=this.parseUrl(S);this.scheduleNavigation(nn,V,Dt,ye)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(S){this.config=S.map(Ql),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(S,V={}){const{relativeTo:de,queryParams:ye,fragment:Dt,queryParamsHandling:nn,preserveFragment:Pt}=V,On=Pt?this.currentUrlTree.fragment:Dt;let ti,Cr=null;switch(null!=nn?nn:this.options.defaultQueryParamsHandling){case"merge":Cr={...this.currentUrlTree.queryParams,...ye};break;case"preserve":Cr=this.currentUrlTree.queryParams;break;default:Cr=ye||null}null!==Cr&&(Cr=this.removeEmptyProps(Cr));try{ti=xn(de?de.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof S[0]||"/"!==S[0][0])&&(S=[]),ti=this.currentUrlTree.root}return Qr(ti,S,Cr,null!=On?On:null)}navigateByUrl(S,V={skipLocationChange:!1}){const de=er(S)?S:this.parseUrl(S),ye=this.urlHandlingStrategy.merge(de,this.rawUrlTree);return this.scheduleNavigation(ye,si,null,V)}navigate(S,V={skipLocationChange:!1}){return function zr(I){for(let w=0;w<I.length;w++)if(null==I[w])throw new c.wOt(4008,!1)}(S),this.navigateByUrl(this.createUrlTree(S,V),V)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){try{return this.urlSerializer.parse(S)}catch{return this.urlSerializer.parse("/")}}isActive(S,V){let de;if(de=!0===V?{...oi}:!1===V?{...mi}:V,er(S))return Bt(this.currentUrlTree,S,de);const ye=this.parseUrl(S);return Bt(this.currentUrlTree,ye,de)}removeEmptyProps(S){return Object.entries(S).reduce((V,[de,ye])=>(null!=ye&&(V[de]=ye),V),{})}scheduleNavigation(S,V,de,ye,Dt){if(this.disposed)return Promise.resolve(!1);let nn,Pt,On;Dt?(nn=Dt.resolve,Pt=Dt.reject,On=Dt.promise):On=new Promise((ti,Dr)=>{nn=ti,Pt=Dr});const Cr=this.pendingTasks.add();return Ur(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Cr))}),this.navigationTransitions.handleNavigationRequest({source:V,restoredState:de,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:S,extras:ye,resolve:nn,reject:Pt,promise:On,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),On.catch(ti=>Promise.reject(ti))}}return(I=w).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})(),Yn=(()=>{var I;class w{constructor(S,V,de,ye,Dt,nn){var Pt;this.router=S,this.route=V,this.tabIndexAttribute=de,this.renderer=ye,this.el=Dt,this.locationStrategy=nn,this.href=null,this.onChanges=new lt.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const On=null===(Pt=Dt.nativeElement.tagName)||void 0===Pt?void 0:Pt.toLowerCase();this.isAnchorElement="a"===On||"area"===On,this.isAnchorElement?this.subscription=S.events.subscribe(Cr=>{Cr instanceof Wi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(S){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",S)}ngOnChanges(S){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(S){null==S?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=er(S)||Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0"))}onClick(S,V,de,ye,Dt){const nn=this.urlTree;return!!(null===nn||this.isAnchorElement&&(0!==S||V||de||ye||Dt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(nn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var S;null===(S=this.subscription)||void 0===S||S.unsubscribe()}updateHref(){var S;const V=this.urlTree;this.href=null!==V&&this.locationStrategy?null===(S=this.locationStrategy)||void 0===S?void 0:S.prepareExternalUrl(this.router.serializeUrl(V)):null;const de=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",de)}applyAttributeValue(S,V){const de=this.renderer,ye=this.el.nativeElement;null!==V?de.setAttribute(ye,S,V):de.removeAttribute(ye,S)}get urlTree(){return null===this.routerLinkInput?null:er(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(I=w).\u0275fac=function(S){return new(S||I)(c.rXU(ci),c.rXU(qt),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(De.hb))},I.\u0275dir=c.FsC({type:I,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,V){1&S&&c.bIt("click",function(ye){return V.onClick(ye.button,ye.ctrlKey,ye.shiftKey,ye.altKey,ye.metaKey)}),2&S&&c.BMQ("target",V.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",c.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",c.L39],replaceUrl:[2,"replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]}),w})(),Di=(()=>{var I;class w{get isActive(){return this._isActive}constructor(S,V,de,ye,Dt){this.router=S,this.element=V,this.renderer=de,this.cdr=ye,this.link=Dt,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.bkB,this.routerEventsSubscription=S.events.subscribe(nn=>{nn instanceof Wi&&this.update()})}ngAfterContentInit(){(0,ge.of)(this.links.changes,(0,ge.of)(null)).pipe((0,tt.U)()).subscribe(S=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var S;null===(S=this.linkInputChangesSubscription)||void 0===S||S.unsubscribe();const V=[...this.links.toArray(),this.link].filter(de=>!!de).map(de=>de.onChanges);this.linkInputChangesSubscription=(0,ue.H)(V).pipe((0,tt.U)()).subscribe(de=>{this._isActive!==this.isLinkActive(this.router)(de)&&this.update()})}set routerLinkActive(S){const V=Array.isArray(S)?S:S.split(" ");this.classes=V.filter(de=>!!de)}ngOnChanges(S){this.update()}ngOnDestroy(){var S;this.routerEventsSubscription.unsubscribe(),null===(S=this.linkInputChangesSubscription)||void 0===S||S.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const S=this.hasActiveLinks();this.classes.forEach(V=>{S?this.renderer.addClass(this.element.nativeElement,V):this.renderer.removeClass(this.element.nativeElement,V)}),S&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==S&&(this._isActive=S,this.cdr.markForCheck(),this.isActiveChange.emit(S))})}isLinkActive(S){const V=function mo(I){return!!I.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return de=>{const ye=de.urlTree;return!!ye&&S.isActive(ye,V)}}hasActiveLinks(){const S=this.isLinkActive(this.router);return this.link&&S(this.link)||this.links.some(S)}}return(I=w).\u0275fac=function(S){return new(S||I)(c.rXU(ci),c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(c.gRc),c.rXU(Yn,8))},I.\u0275dir=c.FsC({type:I,selectors:[["","routerLinkActive",""]],contentQueries:function(S,V,de){if(1&S&&c.wni(de,Yn,5),2&S){let ye;c.mGM(ye=c.lsd())&&(V.links=ye)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[c.OA$]}),w})();class yi{}let ki=(()=>{var I;class w{preload(S,V){return V().pipe(en(()=>(0,ge.of)(null)))}}return(I=w).\u0275fac=function(S){return new(S||I)},I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})(),gi=(()=>{var I;class w{constructor(S,V,de,ye,Dt){this.router=S,this.injector=de,this.preloadingStrategy=ye,this.loader=Dt}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ie.p)(S=>S instanceof Wi),Qt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,V){const de=[];for(const Pt of V){var ye,Dt;Pt.providers&&!Pt._injector&&(Pt._injector=(0,c.Ol2)(Pt.providers,S,`Route: ${Pt.path}`));const On=null!==(ye=Pt._injector)&&void 0!==ye?ye:S,Cr=null!==(Dt=Pt._loadedInjector)&&void 0!==Dt?Dt:On;var nn;(Pt.loadChildren&&!Pt._loadedRoutes&&void 0===Pt.canLoad||Pt.loadComponent&&!Pt._loadedComponent)&&de.push(this.preloadConfig(On,Pt)),(Pt.children||Pt._loadedRoutes)&&de.push(this.processRoutes(Cr,null!==(nn=Pt.children)&&void 0!==nn?nn:Pt._loadedRoutes))}return(0,ue.H)(de).pipe((0,tt.U)())}preloadConfig(S,V){return this.preloadingStrategy.preload(V,()=>{let de;de=V.loadChildren&&void 0===V.canLoad?this.loader.loadChildren(S,V):(0,ge.of)(null);const ye=de.pipe((0,At.Z)(Dt=>{var nn;return null===Dt?(0,ge.of)(void 0):(V._loadedRoutes=Dt.routes,V._loadedInjector=Dt.injector,this.processRoutes(null!==(nn=Dt.injector)&&void 0!==nn?nn:S,Dt.routes))}));if(V.loadComponent&&!V._loadedComponent){const Dt=this.loader.loadComponent(V);return(0,ue.H)([ye,Dt]).pipe((0,tt.U)())}return ye})}}return(I=w).\u0275fac=function(S){return new(S||I)(c.KVO(ci),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO(yi),c.KVO(Na))},I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})();const vi=new c.nKC("");let Lo=(()=>{var I;class w{constructor(S,V,de,ye,Dt={}){this.urlSerializer=S,this.transitions=V,this.viewportScroller=de,this.zone=ye,this.options=Dt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Dt.scrollPositionRestoration||(Dt.scrollPositionRestoration="disabled"),Dt.anchorScrolling||(Dt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof ei?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof Wi?(this.lastId=S.id,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.urlAfterRedirects).fragment)):S instanceof Ki&&S.code===lo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof qs&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,V){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qs(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,V))})},0)})}ngOnDestroy(){var S,V;null===(S=this.routerEventsSubscription)||void 0===S||S.unsubscribe(),null===(V=this.scrollEventsSubscription)||void 0===V||V.unsubscribe()}}return(I=w).\u0275fac=function(S){c.QTQ()},I.\u0275prov=c.jDH({token:I,factory:I.\u0275fac}),w})();function Ds(I,w){return{\u0275kind:I,\u0275providers:w}}function Jo(){const I=(0,c.WQX)(c.zZn);return w=>{var N,S;const V=I.get(c.o8S);if(w!==V.components[0])return;const de=I.get(ci),ye=I.get(Js);1===I.get(ga)&&de.initialNavigation(),null===(N=I.get(tr,null,c.$GK.Optional))||void 0===N||N.setUpPreloading(),null===(S=I.get(vi,null,c.$GK.Optional))||void 0===S||S.init(),de.resetRootComponentType(V.componentTypes[0]),ye.closed||(ye.next(),ye.complete(),ye.unsubscribe())}}const Js=new c.nKC("",{factory:()=>new lt.B}),ga=new c.nKC("",{providedIn:"root",factory:()=>1}),tr=new c.nKC("");function ka(I){return Ds(0,[{provide:tr,useExisting:gi},{provide:yi,useExisting:I}])}function wi(I){return Ds(9,[{provide:Cu,useValue:b},{provide:Yl,useValue:{skipNextTransition:!(null==I||!I.skipInitialTransition),...I}}])}const Hi=new c.nKC("ROUTER_FORROOT_GUARD"),Yi=[De.aZ,{provide:mn,useClass:Gr},ci,O,{provide:qt,useFactory:function il(I){return I.routerState.root},deps:[ci]},Na,[]];let Va=(()=>{var I;class w{constructor(S){}static forRoot(S,V){return{ngModule:w,providers:[Yi,[],{provide:xa,multi:!0,useValue:S},{provide:Hi,useFactory:Hr,deps:[[ci,new c.Xx1,new c.kdw]]},{provide:Do,useValue:V||{}},null!=V&&V.useHash?{provide:De.hb,useClass:De.fw}:{provide:De.hb,useClass:De.Sm},{provide:vi,useFactory:()=>{const I=(0,c.WQX)(De.Xr),w=(0,c.WQX)(c.SKi),N=(0,c.WQX)(Do),S=(0,c.WQX)(B),V=(0,c.WQX)(mn);return N.scrollOffset&&I.setOffset(N.scrollOffset),new Lo(V,S,I,w,N)}},null!=V&&V.preloadingStrategy?ka(V.preloadingStrategy).\u0275providers:[],null!=V&&V.initialNavigation?dc(V):[],null!=V&&V.bindToComponentInputs?Ds(8,[Jr,{provide:ho,useExisting:Jr}]).\u0275providers:[],null!=V&&V.enableViewTransitions?wi().\u0275providers:[],[{provide:Jl,useFactory:Jo},{provide:c.iLQ,multi:!0,useExisting:Jl}]]}}static forChild(S){return{ngModule:w,providers:[{provide:xa,multi:!0,useValue:S}]}}}return(I=w).\u0275fac=function(S){return new(S||I)(c.KVO(Hi,8))},I.\u0275mod=c.$C({type:I}),I.\u0275inj=c.G2t({}),w})();function Hr(I){return"guarded"}function dc(I){return["disabled"===I.initialNavigation?Ds(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const w=(0,c.WQX)(ci);return()=>{w.setUpLocationChangeListener()}}},{provide:ga,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?Ds(2,[{provide:ga,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:w=>{const N=w.get(De.hj,Promise.resolve());return()=>N.then(()=>new Promise(S=>{const V=w.get(ci),de=w.get(Js);Ur(V,()=>{S(!0)}),w.get(B).afterPreactivation=()=>(S(!0),de.closed?(0,ge.of)(void 0):de),V.initialNavigation()}))}}]).\u0275providers:[]]}const Jl=new c.nKC("")},3345:(vn,vt,L)=>{"use strict";L.d(vt,{A:()=>it});var c=L(1076),h=L(1362),F=L(7852),Re=L(8041);class ue{constructor(Be,Qe){this._delegate=Be,this.firebase=Qe,(0,F._addComponent)(Be,new h.uA("app-compat",()=>this,"PUBLIC")),this.container=Be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this._delegate.automaticDataCollectionEnabled=Be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Be=>{this._delegate.checkDestroyed(),Be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(Be,Qe=F._DEFAULT_ENTRY_NAME){var ct;this._delegate.checkDestroyed();const at=this._delegate.container.getProvider(Be);return!at.isInitialized()&&"EXPLICIT"===(null===(ct=at.getComponent())||void 0===ct?void 0:ct.instantiationMode)&&at.initialize(),at.getImmediate({identifier:Qe})}_removeServiceInstance(Be,Qe=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Be).clearInstance(Qe)}_addComponent(Be){(0,F._addComponent)(this._delegate,Be)}_addOrOverwriteComponent(Be){(0,F._addOrOverwriteComponent)(this._delegate,Be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new c.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Pe=function et(){const ut=function ze(ut){const Be={},Qe={__esModule:!0,initializeApp:function lt(_t,xt={}){const Ie=F.initializeApp(_t,xt);if((0,c.gR)(Be,Ie.name))return Be[Ie.name];const At=new ut(Ie,Qe);return Be[Ie.name]=At,At},app:at,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Le(_t){const xt=_t.name,Ie=xt.replace("-compat","");if(F._registerComponent(_t)&&"PUBLIC"===_t.type){const At=(Vt=at())=>{if("function"!=typeof Vt[Ie])throw Ce.create("invalid-app-argument",{appName:xt});return Vt[Ie]()};void 0!==_t.serviceProps&&(0,c.zw)(At,_t.serviceProps),Qe[Ie]=At,ut.prototype[Ie]=function(...Vt){return this._getService.bind(this,xt).apply(this,_t.multipleInstances?Vt:[])}}return"PUBLIC"===_t.type?Qe[Ie]:null},removeApp:function ct(_t){delete Be[_t]},useAsService:function nt(_t,xt){return"serverAuth"===xt?null:xt},modularAPIs:F}};function at(_t){if(!(0,c.gR)(Be,_t=_t||F._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:_t});return Be[_t]}return Qe.default=Qe,Object.defineProperty(Qe,"apps",{get:function De(){return Object.keys(Be).map(_t=>Be[_t])}}),at.App=ut,Qe}(ue);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:et,extendNamespace:function Be(Qe){(0,c.zw)(ut,Qe)},createSubscribe:c.tD,ErrorFactory:c.FA,deepExtend:c.zw}),ut}(),pe=new Re.Vy("@firebase/app-compat");try{const ut=(0,c.mS)();if(void 0!==ut.firebase){pe.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const Be=ut.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&pe.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const it=Pe;!function qe(ut){(0,F.registerVersion)("@firebase/app-compat","0.2.43",ut)}()},7852:(vn,vt,L)=>{"use strict";L.r(vt),L.d(vt,{FirebaseError:()=>Re.g,SDK_VERSION:()=>rr,_DEFAULT_ENTRY_NAME:()=>Cn,_addComponent:()=>Vn,_addOrOverwriteComponent:()=>fr,_apps:()=>Wn,_clearComponents:()=>or,_components:()=>$n,_getProvider:()=>sr,_isFirebaseApp:()=>mn,_isFirebaseServerApp:()=>Gr,_registerComponent:()=>Fr,_removeServiceInstance:()=>Er,_serverApps:()=>lr,deleteApp:()=>ke,getApp:()=>rt,getApps:()=>ot,initializeApp:()=>St,initializeServerApp:()=>Fe,onLog:()=>R,registerVersion:()=>W,setLogLevel:()=>k});var c=L(467),h=L(1362),F=L(8041),Re=L(1076);const ue=(ne,H)=>H.some(Ee=>ne instanceof Ee);let ge,Ce;const Pe=new WeakMap,pe=new WeakMap,Ge=new WeakMap,Ke=new WeakMap,qe=new WeakMap;let Be={get(ne,H,Ee){if(ne instanceof IDBTransaction){if("done"===H)return pe.get(ne);if("objectStoreNames"===H)return ne.objectStoreNames||Ge.get(ne);if("store"===H)return Ee.objectStoreNames[1]?void 0:Ee.objectStore(Ee.objectStoreNames[0])}return lt(ne[H])},set:(ne,H,Ee)=>(ne[H]=Ee,!0),has:(ne,H)=>ne instanceof IDBTransaction&&("done"===H||"store"===H)||H in ne};function at(ne){return"function"==typeof ne?function ct(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function et(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...H){return ne.apply(De(this),H),lt(Pe.get(this))}:function(...H){return lt(ne.apply(De(this),H))}:function(H,...Ee){const J=ne.call(De(this),H,...Ee);return Ge.set(J,H.sort?H.sort():[H]),lt(J)}}(ne):(ne instanceof IDBTransaction&&function ut(ne){if(pe.has(ne))return;const H=new Promise((Ee,J)=>{const te=()=>{ne.removeEventListener("complete",Me),ne.removeEventListener("error",mt),ne.removeEventListener("abort",mt)},Me=()=>{Ee(),te()},mt=()=>{J(ne.error||new DOMException("AbortError","AbortError")),te()};ne.addEventListener("complete",Me),ne.addEventListener("error",mt),ne.addEventListener("abort",mt)});pe.set(ne,H)}(ne),ue(ne,function ze(){return ge||(ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,Be):ne)}function lt(ne){if(ne instanceof IDBRequest)return function it(ne){const H=new Promise((Ee,J)=>{const te=()=>{ne.removeEventListener("success",Me),ne.removeEventListener("error",mt)},Me=()=>{Ee(lt(ne.result)),te()},mt=()=>{J(ne.error),te()};ne.addEventListener("success",Me),ne.addEventListener("error",mt)});return H.then(Ee=>{Ee instanceof IDBCursor&&Pe.set(Ee,ne)}).catch(()=>{}),qe.set(H,ne),H}(ne);if(Ke.has(ne))return Ke.get(ne);const H=at(ne);return H!==ne&&(Ke.set(ne,H),qe.set(H,ne)),H}const De=ne=>qe.get(ne),_t=["get","getKey","getAll","getAllKeys","count"],xt=["put","add","delete","clear"],Ie=new Map;function At(ne,H){if(!(ne instanceof IDBDatabase)||H in ne||"string"!=typeof H)return;if(Ie.get(H))return Ie.get(H);const Ee=H.replace(/FromIndex$/,""),J=H!==Ee,te=xt.includes(Ee);if(!(Ee in(J?IDBIndex:IDBObjectStore).prototype)||!te&&!_t.includes(Ee))return;const Me=function(){var mt=(0,c.A)(function*(Gt,...an){const wn=this.transaction(Gt,te?"readwrite":"readonly");let gr=wn.store;return J&&(gr=gr.index(an.shift())),(yield Promise.all([gr[Ee](...an),te&&wn.done]))[0]});return function(an){return mt.apply(this,arguments)}}();return Ie.set(H,Me),Me}!function Qe(ne){Be=ne(Be)}(ne=>({...ne,get:(H,Ee,J)=>At(H,Ee)||ne.get(H,Ee,J),has:(H,Ee)=>!!At(H,Ee)||ne.has(H,Ee)}));class Vt{constructor(H){this.container=H}getPlatformInfoString(){return this.container.getProviders().map(Ee=>{if(function Qt(ne){const H=ne.getComponent();return"VERSION"===(null==H?void 0:H.type)}(Ee)){const J=Ee.getImmediate();return`${J.library}/${J.version}`}return null}).filter(Ee=>Ee).join(" ")}}const yn="@firebase/app",en="0.10.13",Dn=new F.Vy("@firebase/app"),Et="@firebase/app-compat",we="@firebase/analytics-compat",xe="@firebase/analytics",ee="@firebase/app-check-compat",oe="@firebase/app-check",fe="@firebase/auth",le="@firebase/auth-compat",be="@firebase/database",Se="@firebase/data-connect",tt="@firebase/database-compat",He="@firebase/functions",dt="@firebase/functions-compat",Nt="@firebase/installations",dn="@firebase/installations-compat",In="@firebase/messaging",pr="@firebase/messaging-compat",Sn="@firebase/performance",zn="@firebase/performance-compat",Xn="@firebase/remote-config",Kn="@firebase/remote-config-compat",Wt="@firebase/storage",kt="@firebase/storage-compat",Ot="@firebase/firestore",fn="@firebase/vertexai-preview",Bt="@firebase/firestore-compat",hr="firebase",Cn="[DEFAULT]",En={[yn]:"fire-core",[Et]:"fire-core-compat",[xe]:"fire-analytics",[we]:"fire-analytics-compat",[oe]:"fire-app-check",[ee]:"fire-app-check-compat",[fe]:"fire-auth",[le]:"fire-auth-compat",[be]:"fire-rtdb",[Se]:"fire-data-connect",[tt]:"fire-rtdb-compat",[He]:"fire-fn",[dt]:"fire-fn-compat",[Nt]:"fire-iid",[dn]:"fire-iid-compat",[In]:"fire-fcm",[pr]:"fire-fcm-compat",[Sn]:"fire-perf",[zn]:"fire-perf-compat",[Xn]:"fire-rc",[Kn]:"fire-rc-compat",[Wt]:"fire-gcs",[kt]:"fire-gcs-compat",[Ot]:"fire-fst",[Bt]:"fire-fst-compat",[fn]:"fire-vertex","fire-js":"fire-js",[hr]:"fire-js-all"},Wn=new Map,lr=new Map,$n=new Map;function Vn(ne,H){try{ne.container.addComponent(H)}catch(Ee){Dn.debug(`Component ${H.name} failed to register with FirebaseApp ${ne.name}`,Ee)}}function fr(ne,H){ne.container.addOrOverwriteComponent(H)}function Fr(ne){const H=ne.name;if($n.has(H))return Dn.debug(`There were multiple attempts to register component ${H}.`),!1;$n.set(H,ne);for(const Ee of Wn.values())Vn(Ee,ne);for(const Ee of lr.values())Vn(Ee,ne);return!0}function sr(ne,H){const Ee=ne.container.getProvider("heartbeat").getImmediate({optional:!0});return Ee&&Ee.triggerHeartbeat(),ne.container.getProvider(H)}function Er(ne,H,Ee=Cn){sr(ne,H).clearInstance(Ee)}function mn(ne){return void 0!==ne.options}function Gr(ne){return void 0!==ne.settings}function or(){$n.clear()}const Bn=new Re.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class yt{constructor(H,Ee,J){this._isDeleted=!1,this._options=Object.assign({},H),this._config=Object.assign({},Ee),this._name=Ee.name,this._automaticDataCollectionEnabled=Ee.automaticDataCollectionEnabled,this._container=J,this.container.addComponent(new h.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(H){this.checkDestroyed(),this._automaticDataCollectionEnabled=H}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(H){this._isDeleted=H}checkDestroyed(){if(this.isDeleted)throw Bn.create("app-deleted",{appName:this._name})}}class nr extends yt{constructor(H,Ee,J,te){const Me=void 0!==Ee.automaticDataCollectionEnabled&&Ee.automaticDataCollectionEnabled,mt={name:J,automaticDataCollectionEnabled:Me};super(void 0!==H.apiKey?H:H.options,mt,te),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Me},Ee),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Ee.releaseOnDeref=void 0,W(yn,en,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(H){this.isDeleted||(this._refCount++,void 0!==H&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(H,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ke(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Bn.create("server-app-deleted")}}const rr="10.14.1";function St(ne,H={}){let Ee=ne;"object"!=typeof H&&(H={name:H});const J=Object.assign({name:Cn,automaticDataCollectionEnabled:!1},H),te=J.name;if("string"!=typeof te||!te)throw Bn.create("bad-app-name",{appName:String(te)});if(Ee||(Ee=(0,Re.T9)()),!Ee)throw Bn.create("no-options");const Me=Wn.get(te);if(Me){if((0,Re.bD)(Ee,Me.options)&&(0,Re.bD)(J,Me.config))return Me;throw Bn.create("duplicate-app",{appName:te})}const mt=new h.h1(te);for(const an of $n.values())mt.addComponent(an);const Gt=new yt(Ee,J,mt);return Wn.set(te,Gt),Gt}function Fe(ne,H){if((0,Re.Bd)()&&!(0,Re.p7)())throw Bn.create("invalid-server-app-environment");let Ee;void 0===H.automaticDataCollectionEnabled&&(H.automaticDataCollectionEnabled=!1),Ee=mn(ne)?ne.options:ne;const J=Object.assign(Object.assign({},H),Ee);if(void 0!==J.releaseOnDeref&&delete J.releaseOnDeref,void 0!==H.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Bn.create("finalization-registry-not-supported",{});const Me=""+(wn=JSON.stringify(J),[...wn].reduce((gr,Nn)=>Math.imul(31,gr)+Nn.charCodeAt(0)|0,0)),mt=lr.get(Me);var wn;if(mt)return mt.incRefCount(H.releaseOnDeref),mt;const Gt=new h.h1(Me);for(const wn of $n.values())Gt.addComponent(wn);const an=new nr(Ee,H,Me,Gt);return lr.set(Me,an),an}function rt(ne=Cn){const H=Wn.get(ne);if(!H&&ne===Cn&&(0,Re.T9)())return St();if(!H)throw Bn.create("no-app",{appName:ne});return H}function ot(){return Array.from(Wn.values())}function ke(ne){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,c.A)(function*(ne){let H=!1;const Ee=ne.name;Wn.has(Ee)?(H=!0,Wn.delete(Ee)):lr.has(Ee)&&ne.decRefCount()<=0&&(lr.delete(Ee),H=!0),H&&(yield Promise.all(ne.container.getProviders().map(J=>J.delete())),ne.isDeleted=!0)})).apply(this,arguments)}function W(ne,H,Ee){var J;let te=null!==(J=En[ne])&&void 0!==J?J:ne;Ee&&(te+=`-${Ee}`);const Me=te.match(/\s|\//),mt=H.match(/\s|\//);if(Me||mt){const Gt=[`Unable to register library "${te}" with version "${H}":`];return Me&&Gt.push(`library name "${te}" contains illegal characters (whitespace or "/")`),Me&&mt&&Gt.push("and"),mt&&Gt.push(`version name "${H}" contains illegal characters (whitespace or "/")`),void Dn.warn(Gt.join(" "))}Fr(new h.uA(`${te}-version`,()=>({library:te,version:H}),"VERSION"))}function R(ne,H){if(null!==ne&&"function"!=typeof ne)throw Bn.create("invalid-log-argument");(0,F.Ey)(ne,H)}function k(ne){(0,F.He)(ne)}const ce="firebase-heartbeat-database",se=1,Ye="firebase-heartbeat-store";let bt=null;function Lt(){return bt||(bt=function Le(ne,H,{blocked:Ee,upgrade:J,blocking:te,terminated:Me}={}){const mt=indexedDB.open(ne,H),Gt=lt(mt);return J&&mt.addEventListener("upgradeneeded",an=>{J(lt(mt.result),an.oldVersion,an.newVersion,lt(mt.transaction),an)}),Ee&&mt.addEventListener("blocked",an=>Ee(an.oldVersion,an.newVersion,an)),Gt.then(an=>{Me&&an.addEventListener("close",()=>Me()),te&&an.addEventListener("versionchange",wn=>te(wn.oldVersion,wn.newVersion,wn))}).catch(()=>{}),Gt}(ce,se,{upgrade:(ne,H)=>{if(0===H)try{ne.createObjectStore(Ye)}catch(Ee){console.warn(Ee)}}}).catch(ne=>{throw Bn.create("idb-open",{originalErrorMessage:ne.message})})),bt}function rn(){return(rn=(0,c.A)(function*(ne){try{const Ee=(yield Lt()).transaction(Ye),J=yield Ee.objectStore(Ye).get(er(ne));return yield Ee.done,J}catch(H){if(H instanceof Re.g)Dn.warn(H.message);else{const Ee=Bn.create("idb-get",{originalErrorMessage:null==H?void 0:H.message});Dn.warn(Ee.message)}}})).apply(this,arguments)}function gn(ne,H){return on.apply(this,arguments)}function on(){return(on=(0,c.A)(function*(ne,H){try{const J=(yield Lt()).transaction(Ye,"readwrite");yield J.objectStore(Ye).put(H,er(ne)),yield J.done}catch(Ee){if(Ee instanceof Re.g)Dn.warn(Ee.message);else{const J=Bn.create("idb-set",{originalErrorMessage:null==Ee?void 0:Ee.message});Dn.warn(J.message)}}})).apply(this,arguments)}function er(ne){return`${ne.name}!${ne.options.appId}`}class Qr{constructor(H){this.container=H,this._heartbeatsCache=null;const Ee=this.container.getProvider("app").getImmediate();this._storage=new Ti(Ee),this._heartbeatsCachePromise=this._storage.read().then(J=>(this._heartbeatsCache=J,J))}triggerHeartbeat(){var H=this;return(0,c.A)(function*(){var Ee,J;try{const Me=H.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mt=_r();return null==(null===(Ee=H._heartbeatsCache)||void 0===Ee?void 0:Ee.heartbeats)&&(H._heartbeatsCache=yield H._heartbeatsCachePromise,null==(null===(J=H._heartbeatsCache)||void 0===J?void 0:J.heartbeats))||H._heartbeatsCache.lastSentHeartbeatDate===mt||H._heartbeatsCache.heartbeats.some(Gt=>Gt.date===mt)?void 0:(H._heartbeatsCache.heartbeats.push({date:mt,agent:Me}),H._heartbeatsCache.heartbeats=H._heartbeatsCache.heartbeats.filter(Gt=>{const an=new Date(Gt.date).valueOf();return Date.now()-an<=2592e6}),H._storage.overwrite(H._heartbeatsCache))}catch(te){Dn.warn(te)}})()}getHeartbeatsHeader(){var H=this;return(0,c.A)(function*(){var Ee;try{if(null===H._heartbeatsCache&&(yield H._heartbeatsCachePromise),null==(null===(Ee=H._heartbeatsCache)||void 0===Ee?void 0:Ee.heartbeats)||0===H._heartbeatsCache.heartbeats.length)return"";const J=_r(),{heartbeatsToSend:te,unsentEntries:Me}=function Mn(ne,H=1024){const Ee=[];let J=ne.slice();for(const te of ne){const Me=Ee.find(mt=>mt.agent===te.agent);if(Me){if(Me.dates.push(te.date),ur(Ee)>H){Me.dates.pop();break}}else if(Ee.push({agent:te.agent,dates:[te.date]}),ur(Ee)>H){Ee.pop();break}J=J.slice(1)}return{heartbeatsToSend:Ee,unsentEntries:J}}(H._heartbeatsCache.heartbeats),mt=(0,Re.Uj)(JSON.stringify({version:2,heartbeats:te}));return H._heartbeatsCache.lastSentHeartbeatDate=J,Me.length>0?(H._heartbeatsCache.heartbeats=Me,yield H._storage.overwrite(H._heartbeatsCache)):(H._heartbeatsCache.heartbeats=[],H._storage.overwrite(H._heartbeatsCache)),mt}catch(J){return Dn.warn(J),""}})()}}function _r(){return(new Date).toISOString().substring(0,10)}class Ti{constructor(H){this.app=H,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.A)(function*(){return!!(0,Re.zW)()&&(0,Re.eX)().then(()=>!0).catch(()=>!1)})()}read(){var H=this;return(0,c.A)(function*(){if(yield H._canUseIndexedDBPromise){const J=yield function hn(ne){return rn.apply(this,arguments)}(H.app);return null!=J&&J.heartbeats?J:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(H){var Ee=this;return(0,c.A)(function*(){var J;if(yield Ee._canUseIndexedDBPromise){const Me=yield Ee.read();return gn(Ee.app,{lastSentHeartbeatDate:null!==(J=H.lastSentHeartbeatDate)&&void 0!==J?J:Me.lastSentHeartbeatDate,heartbeats:H.heartbeats})}})()}add(H){var Ee=this;return(0,c.A)(function*(){var J;if(yield Ee._canUseIndexedDBPromise){const Me=yield Ee.read();return gn(Ee.app,{lastSentHeartbeatDate:null!==(J=H.lastSentHeartbeatDate)&&void 0!==J?J:Me.lastSentHeartbeatDate,heartbeats:[...Me.heartbeats,...H.heartbeats]})}})()}}function ur(ne){return(0,Re.Uj)(JSON.stringify({version:2,heartbeats:ne})).length}!function Ar(ne){Fr(new h.uA("platform-logger",H=>new Vt(H),"PRIVATE")),Fr(new h.uA("heartbeat",H=>new Qr(H),"PRIVATE")),W(yn,en,ne),W(yn,en,"esm2017"),W("fire-js","")}("")},1362:(vn,vt,L)=>{"use strict";L.d(vt,{h1:()=>ze,uA:()=>F});var c=L(467),h=L(1076);class F{constructor(Pe,pe,Ge){this.name=Pe,this.instanceFactory=pe,this.type=Ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Pe){return this.instantiationMode=Pe,this}setMultipleInstances(Pe){return this.multipleInstances=Pe,this}setServiceProps(Pe){return this.serviceProps=Pe,this}setInstanceCreatedCallback(Pe){return this.onInstanceCreated=Pe,this}}const Re="[DEFAULT]";class ue{constructor(Pe,pe){this.name=Pe,this.container=pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Pe){const pe=this.normalizeInstanceIdentifier(Pe);if(!this.instancesDeferred.has(pe)){const Ge=new h.cY;if(this.instancesDeferred.set(pe,Ge),this.isInitialized(pe)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:pe});Ke&&Ge.resolve(Ke)}catch{}}return this.instancesDeferred.get(pe).promise}getImmediate(Pe){var pe;const Ge=this.normalizeInstanceIdentifier(null==Pe?void 0:Pe.identifier),Ke=null!==(pe=null==Pe?void 0:Pe.optional)&&void 0!==pe&&pe;if(!this.isInitialized(Ge)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ge})}catch(qe){if(Ke)return null;throw qe}}getComponent(){return this.component}setComponent(Pe){if(Pe.name!==this.name)throw Error(`Mismatching Component ${Pe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Pe,this.shouldAutoInitialize()){if(function Ce(et){return"EAGER"===et.instantiationMode}(Pe))try{this.getOrInitializeService({instanceIdentifier:Re})}catch{}for(const[pe,Ge]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(pe);try{const qe=this.getOrInitializeService({instanceIdentifier:Ke});Ge.resolve(qe)}catch{}}}}clearInstance(Pe=Re){this.instancesDeferred.delete(Pe),this.instancesOptions.delete(Pe),this.instances.delete(Pe)}delete(){var Pe=this;return(0,c.A)(function*(){const pe=Array.from(Pe.instances.values());yield Promise.all([...pe.filter(Ge=>"INTERNAL"in Ge).map(Ge=>Ge.INTERNAL.delete()),...pe.filter(Ge=>"_delete"in Ge).map(Ge=>Ge._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Pe=Re){return this.instances.has(Pe)}getOptions(Pe=Re){return this.instancesOptions.get(Pe)||{}}initialize(Pe={}){const{options:pe={}}=Pe,Ge=this.normalizeInstanceIdentifier(Pe.instanceIdentifier);if(this.isInitialized(Ge))throw Error(`${this.name}(${Ge}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:Ge,options:pe});for(const[qe,it]of this.instancesDeferred.entries())Ge===this.normalizeInstanceIdentifier(qe)&&it.resolve(Ke);return Ke}onInit(Pe,pe){var Ge;const Ke=this.normalizeInstanceIdentifier(pe),qe=null!==(Ge=this.onInitCallbacks.get(Ke))&&void 0!==Ge?Ge:new Set;qe.add(Pe),this.onInitCallbacks.set(Ke,qe);const it=this.instances.get(Ke);return it&&Pe(it,Ke),()=>{qe.delete(Pe)}}invokeOnInitCallbacks(Pe,pe){const Ge=this.onInitCallbacks.get(pe);if(Ge)for(const Ke of Ge)try{Ke(Pe,pe)}catch{}}getOrInitializeService({instanceIdentifier:Pe,options:pe={}}){let Ge=this.instances.get(Pe);if(!Ge&&this.component&&(Ge=this.component.instanceFactory(this.container,{instanceIdentifier:(et=Pe,et===Re?void 0:et),options:pe}),this.instances.set(Pe,Ge),this.instancesOptions.set(Pe,pe),this.invokeOnInitCallbacks(Ge,Pe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Pe,Ge)}catch{}var et;return Ge||null}normalizeInstanceIdentifier(Pe=Re){return this.component?this.component.multipleInstances?Pe:Re:Pe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ze{constructor(Pe){this.name=Pe,this.providers=new Map}addComponent(Pe){const pe=this.getProvider(Pe.name);if(pe.isComponentSet())throw new Error(`Component ${Pe.name} has already been registered with ${this.name}`);pe.setComponent(Pe)}addOrOverwriteComponent(Pe){this.getProvider(Pe.name).isComponentSet()&&this.providers.delete(Pe.name),this.addComponent(Pe)}getProvider(Pe){if(this.providers.has(Pe))return this.providers.get(Pe);const pe=new ue(Pe,this);return this.providers.set(Pe,pe),pe}getProviders(){return Array.from(this.providers.values())}}},8041:(vn,vt,L)=>{"use strict";L.d(vt,{$b:()=>h,Ey:()=>et,He:()=>ze,Vy:()=>Ce});const c=[];var h=function(Pe){return Pe[Pe.DEBUG=0]="DEBUG",Pe[Pe.VERBOSE=1]="VERBOSE",Pe[Pe.INFO=2]="INFO",Pe[Pe.WARN=3]="WARN",Pe[Pe.ERROR=4]="ERROR",Pe[Pe.SILENT=5]="SILENT",Pe}(h||{});const F={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},Re=h.INFO,ue={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},ge=(Pe,pe,...Ge)=>{if(pe<Pe.logLevel)return;const Ke=(new Date).toISOString(),qe=ue[pe];if(!qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${pe})`);console[qe](`[${Ke}]  ${Pe.name}:`,...Ge)};class Ce{constructor(pe){this.name=pe,this._logLevel=Re,this._logHandler=ge,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(pe){if(!(pe in h))throw new TypeError(`Invalid value "${pe}" assigned to \`logLevel\``);this._logLevel=pe}setLogLevel(pe){this._logLevel="string"==typeof pe?F[pe]:pe}get logHandler(){return this._logHandler}set logHandler(pe){if("function"!=typeof pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(pe){this._userLogHandler=pe}debug(...pe){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...pe),this._logHandler(this,h.DEBUG,...pe)}log(...pe){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...pe),this._logHandler(this,h.VERBOSE,...pe)}info(...pe){this._userLogHandler&&this._userLogHandler(this,h.INFO,...pe),this._logHandler(this,h.INFO,...pe)}warn(...pe){this._userLogHandler&&this._userLogHandler(this,h.WARN,...pe),this._logHandler(this,h.WARN,...pe)}error(...pe){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...pe),this._logHandler(this,h.ERROR,...pe)}}function ze(Pe){c.forEach(pe=>{pe.setLogLevel(Pe)})}function et(Pe,pe){for(const Ge of c){let Ke=null;pe&&pe.level&&(Ke=F[pe.level]),Ge.userLogHandler=null===Pe?null:(qe,it,...ut)=>{const Be=ut.map(Qe=>{if(null==Qe)return null;if("string"==typeof Qe)return Qe;if("number"==typeof Qe||"boolean"==typeof Qe)return Qe.toString();if(Qe instanceof Error)return Qe.message;try{return JSON.stringify(Qe)}catch{return null}}).filter(Qe=>Qe).join(" ");it>=(null!=Ke?Ke:qe.logLevel)&&Pe({level:h[it].toLowerCase(),message:Be,args:ut,type:qe.name})}}}},2872:(vn,vt,L)=>{"use strict";L.d(vt,{Yq:()=>Wt,TS:()=>Sn,sR:()=>zn,el:()=>bt,Sb:()=>mn,QE:()=>on,CF:()=>Fr,Rg:()=>Ue,p4:()=>er,jM:()=>ur,q9:()=>Nt,Kb:()=>Ar,CE:()=>Lt,pF:()=>hn,fL:()=>xn,YV:()=>ce,er:()=>Tn,z3:()=>Qr});var c=L(467),h=L(9842),F=L(4438),Re=L(4964),ue=L(177),ge=L(5531),Ce=L(4442);var Vt=L(1413),Qt=L(3726),yn=L(4412),en=L(4572),Dn=L(7673),Et=L(1635),we=L(5964),xe=L(5558),ee=L(3294),oe=L(4341);const fe=["tabsInner"];let tt=(()=>{var ne;class H{constructor(J,te){(0,h.A)(this,"doc",void 0),(0,h.A)(this,"_readyPromise",void 0),(0,h.A)(this,"win",void 0),(0,h.A)(this,"backButton",new Vt.B),(0,h.A)(this,"keyboardDidShow",new Vt.B),(0,h.A)(this,"keyboardDidHide",new Vt.B),(0,h.A)(this,"pause",new Vt.B),(0,h.A)(this,"resume",new Vt.B),(0,h.A)(this,"resize",new Vt.B),this.doc=J,te.run(()=>{var Me;let mt;this.win=J.defaultView,this.backButton.subscribeWithPriority=function(Gt,an){return this.subscribe(wn=>wn.register(Gt,gr=>te.run(()=>an(gr))))},dt(this.pause,J,"pause",te),dt(this.resume,J,"resume",te),dt(this.backButton,J,"ionBackButton",te),dt(this.resize,this.win,"resize",te),dt(this.keyboardDidShow,this.win,"ionKeyboardDidShow",te),dt(this.keyboardDidHide,this.win,"ionKeyboardDidHide",te),this._readyPromise=new Promise(Gt=>{mt=Gt}),null!==(Me=this.win)&&void 0!==Me&&Me.cordova?J.addEventListener("deviceready",()=>{mt("cordova")},{once:!0}):mt("dom")})}is(J){return(0,ge.a)(this.win,J)}platforms(){return(0,ge.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(J){return He(this.win.location.href,J)}isLandscape(){return!this.isPortrait()}isPortrait(){var J,te;return null===(J=(te=this.win).matchMedia)||void 0===J?void 0:J.call(te,"(orientation: portrait)").matches}testUserAgent(J){const te=this.win.navigator;return!!(null!=te&&te.userAgent&&te.userAgent.indexOf(J)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return ne=H,(0,h.A)(H,"\u0275fac",function(J){return new(J||ne)(F.KVO(ue.qQ),F.KVO(F.SKi))}),(0,h.A)(H,"\u0275prov",F.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})),H})();const He=(ne,H)=>{H=H.replace(/[[\]\\]/g,"\\$&");const J=new RegExp("[\\?&]"+H+"=([^&#]*)").exec(ne);return J?decodeURIComponent(J[1].replace(/\+/g," ")):null},dt=(ne,H,Ee,J)=>{H&&H.addEventListener(Ee,te=>{J.run(()=>{ne.next(null!=te?te.detail:void 0)})})};let Nt=(()=>{var ne;class H{constructor(J,te,Me,mt){(0,h.A)(this,"location",void 0),(0,h.A)(this,"serializer",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"topOutlet",void 0),(0,h.A)(this,"direction",In),(0,h.A)(this,"animated",pr),(0,h.A)(this,"animationBuilder",void 0),(0,h.A)(this,"guessDirection","forward"),(0,h.A)(this,"guessAnimation",void 0),(0,h.A)(this,"lastNavId",-1),this.location=te,this.serializer=Me,this.router=mt,mt&&mt.events.subscribe(Gt=>{if(Gt instanceof Re.Z){const an=Gt.restoredState?Gt.restoredState.navigationId:Gt.id;this.guessDirection=this.guessAnimation=an<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?Gt.id:an}}),J.backButton.subscribeWithPriority(0,Gt=>{this.pop(),Gt()})}navigateForward(J,te={}){return this.setDirection("forward",te.animated,te.animationDirection,te.animation),this.navigate(J,te)}navigateBack(J,te={}){return this.setDirection("back",te.animated,te.animationDirection,te.animation),this.navigate(J,te)}navigateRoot(J,te={}){return this.setDirection("root",te.animated,te.animationDirection,te.animation),this.navigate(J,te)}back(J={animated:!0,animationDirection:"back"}){return this.setDirection("back",J.animated,J.animationDirection,J.animation),this.location.back()}pop(){var J=this;return(0,c.A)(function*(){let te=J.topOutlet;for(;te;){if(yield te.pop())return!0;te=te.parentOutlet}return!1})()}setDirection(J,te,Me,mt){this.direction=J,this.animated=dn(J,te,Me),this.animationBuilder=mt}setTopOutlet(J){this.topOutlet=J}consumeTransition(){let te,J="root";const Me=this.animationBuilder;return"auto"===this.direction?(J=this.guessDirection,te=this.guessAnimation):(te=this.animated,J=this.direction),this.direction=In,this.animated=pr,this.animationBuilder=void 0,{direction:J,animation:te,animationBuilder:Me}}navigate(J,te){if(Array.isArray(J))return this.router.navigate(J,te);{const Me=this.serializer.parse(J.toString());return void 0!==te.queryParams&&(Me.queryParams={...te.queryParams}),void 0!==te.fragment&&(Me.fragment=te.fragment),this.router.navigateByUrl(Me,te)}}}return ne=H,(0,h.A)(H,"\u0275fac",function(J){return new(J||ne)(F.KVO(tt),F.KVO(ue.aZ),F.KVO(Re.Sd),F.KVO(Re.Ix,8))}),(0,h.A)(H,"\u0275prov",F.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})),H})();const dn=(ne,H,Ee)=>{if(!1!==H){if(void 0!==Ee)return Ee;if("forward"===ne||"back"===ne)return ne;if("root"===ne&&!0===H)return"forward"}},In="auto",pr=void 0;let Sn=(()=>{var ne;class H{get(J,te){const Me=Xn();return Me?Me.get(J,te):null}getBoolean(J,te){const Me=Xn();return!!Me&&Me.getBoolean(J,te)}getNumber(J,te){const Me=Xn();return Me?Me.getNumber(J,te):0}}return ne=H,(0,h.A)(H,"\u0275fac",function(J){return new(J||ne)}),(0,h.A)(H,"\u0275prov",F.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})),H})();const zn=new F.nKC("USERCONFIG"),Xn=()=>{if(typeof window<"u"){const ne=window.Ionic;if(null!=ne&&ne.config)return ne.config}return null};class Kn{constructor(H={}){(0,h.A)(this,"data",void 0),this.data=H,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(H){return this.data[H]}}let Wt=(()=>{var ne;class H{constructor(){(0,h.A)(this,"zone",(0,F.WQX)(F.SKi)),(0,h.A)(this,"applicationRef",(0,F.WQX)(F.o8S)),(0,h.A)(this,"config",(0,F.WQX)(zn))}create(J,te,Me){var mt;return new kt(J,te,this.applicationRef,this.zone,Me,null!==(mt=this.config.useSetInputAPI)&&void 0!==mt&&mt)}}return ne=H,(0,h.A)(H,"\u0275fac",function(J){return new(J||ne)}),(0,h.A)(H,"\u0275prov",F.jDH({token:ne,factory:ne.\u0275fac})),H})();class kt{constructor(H,Ee,J,te,Me,mt){(0,h.A)(this,"environmentInjector",void 0),(0,h.A)(this,"injector",void 0),(0,h.A)(this,"applicationRef",void 0),(0,h.A)(this,"zone",void 0),(0,h.A)(this,"elementReferenceKey",void 0),(0,h.A)(this,"enableSignalsSupport",void 0),(0,h.A)(this,"elRefMap",new WeakMap),(0,h.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=H,this.injector=Ee,this.applicationRef=J,this.zone=te,this.elementReferenceKey=Me,this.enableSignalsSupport=mt}attachViewToDom(H,Ee,J,te){return this.zone.run(()=>new Promise(Me=>{const mt={...J};void 0!==this.elementReferenceKey&&(mt[this.elementReferenceKey]=H),Me(Ot(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,H,Ee,mt,te,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(H,Ee){return this.zone.run(()=>new Promise(J=>{const te=this.elRefMap.get(Ee);if(te){te.destroy(),this.elRefMap.delete(Ee);const Me=this.elEventsMap.get(Ee);Me&&(Me(),this.elEventsMap.delete(Ee))}J()}))}}const Ot=(ne,H,Ee,J,te,Me,mt,Gt,an,wn,gr,Nn)=>{const si=F.zZn.create({providers:Zn(an),parent:Ee}),ir=(0,F.a0P)(Gt,{environmentInjector:H,elementInjector:si}),ai=ir.instance,ei=ir.location.nativeElement;if(an)if(gr&&void 0!==ai[gr]&&console.error(`[Ionic Error]: ${gr} is a reserved property when using ${mt.tagName.toLowerCase()}. Rename or remove the "${gr}" property from ${Gt.name}.`),!0===Nn&&void 0!==ir.setInput){const{modal:It,popover:lo,...ii}=an;for(const Ki in ii)ir.setInput(Ki,ii[Ki]);void 0!==It&&Object.assign(ai,{modal:It}),void 0!==lo&&Object.assign(ai,{popover:lo})}else Object.assign(ai,an);if(wn)for(const It of wn)ei.classList.add(It);const Wi=Bt(ne,ai,ei);return mt.appendChild(ei),J.attachView(ir.hostView),te.set(ei,ir),Me.set(ei,Wi),ei},fn=[Ce.L,Ce.a,Ce.b,Ce.c,Ce.d],Bt=(ne,H,Ee)=>ne.run(()=>{const J=fn.filter(te=>"function"==typeof H[te]).map(te=>{const Me=mt=>H[te](mt.detail);return Ee.addEventListener(te,Me),()=>Ee.removeEventListener(te,Me)});return()=>J.forEach(te=>te())}),hr=new F.nKC("NavParamsToken"),Zn=ne=>[{provide:hr,useValue:ne},{provide:Kn,useFactory:Cn,deps:[hr]}],Cn=ne=>new Kn(ne),En=(ne,H)=>{const Ee=ne.prototype;H.forEach(J=>{Object.defineProperty(Ee,J,{get(){return this.el[J]},set(te){this.z.runOutsideAngular(()=>this.el[J]=te)}})})},Wn=(ne,H)=>{const Ee=ne.prototype;H.forEach(J=>{Ee[J]=function(){const te=arguments;return this.z.runOutsideAngular(()=>this.el[J].apply(this.el,te))}})},lr=(ne,H,Ee)=>{Ee.forEach(J=>ne[J]=(0,Qt.R)(H,J))};function $n(ne){return function(Ee){const{defineCustomElementFn:J,inputs:te,methods:Me}=ne;return void 0!==J&&J(),te&&En(Ee,te),Me&&Wn(Ee,Me),Ee}}const Vn=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],fr=["present","dismiss","onDidDismiss","onWillDismiss"];let Fr=(()=>{var ne;let H=((0,h.A)(ne=class{constructor(J,te,Me){(0,h.A)(this,"z",void 0),(0,h.A)(this,"template",void 0),(0,h.A)(this,"isCmpOpen",!1),(0,h.A)(this,"el",void 0),this.z=Me,this.el=te.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,J.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,J.detectChanges()}),lr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(J){return new(J||ne)(F.rXU(F.gRc),F.rXU(F.aKT),F.rXU(F.SKi))}),(0,h.A)(ne,"\u0275dir",F.FsC({type:ne,selectors:[["ion-popover"]],contentQueries:function(J,te,Me){if(1&J&&F.wni(Me,F.C4Q,5),2&J){let mt;F.mGM(mt=F.lsd())&&(te.template=mt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),ne);return H=(0,Et.Cg)([$n({inputs:Vn,methods:fr})],H),H})();const sr=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Er=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let mn=(()=>{var ne;let H=((0,h.A)(ne=class{constructor(J,te,Me){(0,h.A)(this,"z",void 0),(0,h.A)(this,"template",void 0),(0,h.A)(this,"isCmpOpen",!1),(0,h.A)(this,"el",void 0),this.z=Me,this.el=te.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,J.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,J.detectChanges()}),lr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(J){return new(J||ne)(F.rXU(F.gRc),F.rXU(F.aKT),F.rXU(F.SKi))}),(0,h.A)(ne,"\u0275dir",F.FsC({type:ne,selectors:[["ion-modal"]],contentQueries:function(J,te,Me){if(1&J&&F.wni(Me,F.C4Q,5),2&J){let mt;F.mGM(mt=F.lsd())&&(te.template=mt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),ne);return H=(0,Et.Cg)([$n({inputs:sr,methods:Er})],H),H})();const or=(ne,H)=>((ne=ne.filter(Ee=>Ee.stackId!==H.stackId)).push(H),ne),yt=(ne,H)=>{const Ee=ne.createUrlTree(["."],{relativeTo:H});return ne.serializeUrl(Ee)},nr=(ne,H)=>!H||ne.stackId!==H.stackId,rr=(ne,H)=>{if(!ne)return;const Ee=St(H);for(let J=0;J<Ee.length;J++){if(J>=ne.length)return Ee[J];if(Ee[J]!==ne[J])return}},St=ne=>ne.split("/").map(H=>H.trim()).filter(H=>""!==H),Fe=ne=>{ne&&(ne.ref.destroy(),ne.unlistenEvents())};class rt{constructor(H,Ee,J,te,Me,mt){(0,h.A)(this,"containerEl",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"zone",void 0),(0,h.A)(this,"location",void 0),(0,h.A)(this,"views",[]),(0,h.A)(this,"runningTask",void 0),(0,h.A)(this,"skipTransition",!1),(0,h.A)(this,"tabsPrefix",void 0),(0,h.A)(this,"activeView",void 0),(0,h.A)(this,"nextId",0),this.containerEl=Ee,this.router=J,this.navCtrl=te,this.zone=Me,this.location=mt,this.tabsPrefix=void 0!==H?St(H):void 0}createView(H,Ee){var J;const te=yt(this.router,Ee),Me=null==H||null===(J=H.location)||void 0===J?void 0:J.nativeElement,mt=Bt(this.zone,H.instance,Me);return{id:this.nextId++,stackId:rr(this.tabsPrefix,te),unlistenEvents:mt,element:Me,ref:H,url:te}}getExistingView(H){const Ee=yt(this.router,H),J=this.views.find(te=>te.url===Ee);return J&&J.ref.changeDetectorRef.reattach(),J}setActive(H){var Ee,J;const te=this.navCtrl.consumeTransition();let{direction:Me,animation:mt,animationBuilder:Gt}=te;const an=this.activeView,wn=nr(H,an);wn&&(Me="back",mt=void 0);const gr=this.views.slice();let Nn;const si=this.router;si.getCurrentNavigation?Nn=si.getCurrentNavigation():null!==(Ee=si.navigations)&&void 0!==Ee&&Ee.value&&(Nn=si.navigations.value),null!==(J=Nn)&&void 0!==J&&null!==(J=J.extras)&&void 0!==J&&J.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const ir=this.views.includes(H),ai=this.insertView(H,Me);ir||H.ref.changeDetectorRef.detectChanges();const ei=H.animationBuilder;return void 0===Gt&&"back"===Me&&!wn&&void 0!==ei&&(Gt=ei),an&&(an.animationBuilder=Gt),this.zone.runOutsideAngular(()=>this.wait(()=>(an&&an.ref.changeDetectorRef.detach(),H.ref.changeDetectorRef.reattach(),this.transition(H,an,mt,this.canGoBack(1),!1,Gt).then(()=>ot(H,ai,gr,this.location,this.zone)).then(()=>({enteringView:H,direction:Me,animation:mt,tabSwitch:wn})))))}canGoBack(H,Ee=this.getActiveStackId()){return this.getStack(Ee).length>H}pop(H,Ee=this.getActiveStackId()){return this.zone.run(()=>{const J=this.getStack(Ee);if(J.length<=H)return Promise.resolve(!1);const te=J[J.length-H-1];let Me=te.url;const mt=te.savedData;if(mt){var Gt;const wn=mt.get("primary");null!=wn&&null!==(Gt=wn.route)&&void 0!==Gt&&null!==(Gt=Gt._routerState)&&void 0!==Gt&&Gt.snapshot.url&&(Me=wn.route._routerState.snapshot.url)}const{animationBuilder:an}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Me,{...te.savedExtras,animation:an}).then(()=>!0)})}startBackTransition(){const H=this.activeView;if(H){const Ee=this.getStack(H.stackId),J=Ee[Ee.length-2],te=J.animationBuilder;return this.wait(()=>this.transition(J,H,"back",this.canGoBack(2),!0,te))}return Promise.resolve()}endBackTransition(H){H?(this.skipTransition=!0,this.pop(1)):this.activeView&&ke(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(H){const Ee=this.getStack(H);return Ee.length>0?Ee[Ee.length-1]:void 0}getRootUrl(H){const Ee=this.getStack(H);return Ee.length>0?Ee[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Fe),this.activeView=void 0,this.views=[]}getStack(H){return this.views.filter(Ee=>Ee.stackId===H)}insertView(H,Ee){return this.activeView=H,this.views=((ne,H,Ee)=>"root"===Ee?or(ne,H):"forward"===Ee?((ne,H)=>(ne.indexOf(H)>=0?ne=ne.filter(J=>J.stackId!==H.stackId||J.id<=H.id):ne.push(H),ne))(ne,H):((ne,H)=>ne.indexOf(H)>=0?ne.filter(J=>J.stackId!==H.stackId||J.id<=H.id):or(ne,H))(ne,H))(this.views,H,Ee),this.views.slice()}transition(H,Ee,J,te,Me,mt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(Ee===H)return Promise.resolve(!1);const Gt=H?H.element:void 0,an=Ee?Ee.element:void 0,wn=this.containerEl;return Gt&&Gt!==an&&(Gt.classList.add("ion-page"),Gt.classList.add("ion-page-invisible"),wn.commit)?wn.commit(Gt,an,{duration:void 0===J?0:void 0,direction:J,showGoBack:te,progressAnimation:Me,animationBuilder:mt}):Promise.resolve(!1)}wait(H){var Ee=this;return(0,c.A)(function*(){void 0!==Ee.runningTask&&(yield Ee.runningTask,Ee.runningTask=void 0);const J=Ee.runningTask=H();return J.finally(()=>Ee.runningTask=void 0),J})()}}const ot=(ne,H,Ee,J,te)=>"function"==typeof requestAnimationFrame?new Promise(Me=>{requestAnimationFrame(()=>{ke(ne,H,Ee,J,te),Me()})}):Promise.resolve(),ke=(ne,H,Ee,J,te)=>{te.run(()=>Ee.filter(Me=>!H.includes(Me)).forEach(Fe)),H.forEach(Me=>{const Gt=J.path().split("?")[0].split("#")[0];if(Me!==ne&&Me.url!==Gt){const an=Me.element;an.setAttribute("aria-hidden","true"),an.classList.add("ion-page-hidden"),Me.ref.changeDetectorRef.detach()}})};let Ue=(()=>{var ne;class H{get activatedComponentRef(){return this.activated}set animation(J){this.nativeEl.animation=J}set animated(J){this.nativeEl.animated=J}set swipeGesture(J){this._swipeGesture=J,this.nativeEl.swipeHandler=J?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:te=>this.stackCtrl.endBackTransition(te)}:void 0}constructor(J,te,Me,mt,Gt,an,wn,gr){(0,h.A)(this,"parentOutlet",void 0),(0,h.A)(this,"nativeEl",void 0),(0,h.A)(this,"activatedView",null),(0,h.A)(this,"tabsPrefix",void 0),(0,h.A)(this,"_swipeGesture",void 0),(0,h.A)(this,"stackCtrl",void 0),(0,h.A)(this,"proxyMap",new WeakMap),(0,h.A)(this,"currentActivatedRoute$",new yn.t(null)),(0,h.A)(this,"activated",null),(0,h.A)(this,"_activatedRoute",null),(0,h.A)(this,"name",Re.Xk),(0,h.A)(this,"stackWillChange",new F.bkB),(0,h.A)(this,"stackDidChange",new F.bkB),(0,h.A)(this,"activateEvents",new F.bkB),(0,h.A)(this,"deactivateEvents",new F.bkB),(0,h.A)(this,"parentContexts",(0,F.WQX)(Re.Zp)),(0,h.A)(this,"location",(0,F.WQX)(F.c1b)),(0,h.A)(this,"environmentInjector",(0,F.WQX)(F.uvJ)),(0,h.A)(this,"inputBinder",(0,F.WQX)(R,{optional:!0})),(0,h.A)(this,"supportsBindingToComponentInputs",!0),(0,h.A)(this,"config",(0,F.WQX)(Sn)),(0,h.A)(this,"navCtrl",(0,F.WQX)(Nt)),this.parentOutlet=gr,this.nativeEl=mt.nativeElement,this.name=J||Re.Xk,this.tabsPrefix="true"===te?yt(Gt,wn):void 0,this.stackCtrl=new rt(this.tabsPrefix,this.nativeEl,Gt,this.navCtrl,an,Me),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var J;this.stackCtrl.destroy(),null===(J=this.inputBinder)||void 0===J||J.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const J=this.getContext();null!=J&&J.route&&this.activateWith(J.route,J.injector)}new Promise(J=>((ne,H)=>{ne.componentOnReady?ne.componentOnReady().then(Ee=>H(Ee)):(ne=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ne):"function"==typeof requestAnimationFrame?requestAnimationFrame(ne):setTimeout(ne)})(()=>H(ne))})(this.nativeEl,J)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(J,te){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const te=this.getContext();this.activatedView.savedData=new Map(te.children.contexts);const Me=this.activatedView.savedData.get("primary");if(Me&&te.route&&(Me.route={...te.route}),this.activatedView.savedExtras={},te.route){const mt=te.route.snapshot;this.activatedView.savedExtras.queryParams=mt.queryParams,this.activatedView.savedExtras.fragment=mt.fragment}}const J=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(J)}}activateWith(J,te){var Me;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=J;let mt,Gt=this.stackCtrl.getExistingView(J);if(Gt){mt=this.activated=Gt.ref;const gr=Gt.savedData;gr&&(this.getContext().children.contexts=gr),this.updateActivatedRouteProxy(mt.instance,J)}else{var an;const gr=J._futureSnapshot,Nn=this.parentContexts.getOrCreateContext(this.name).children,si=new yn.t(null),ir=this.createActivatedRouteProxy(si,J),ai=new W(ir,Nn,this.location.injector),ei=null!==(an=gr.routeConfig.component)&&void 0!==an?an:gr.component;mt=this.activated=this.outletContent.createComponent(ei,{index:this.outletContent.length,injector:ai,environmentInjector:null!=te?te:this.environmentInjector}),si.next(mt.instance),Gt=this.stackCtrl.createView(this.activated,J),this.proxyMap.set(mt.instance,ir),this.currentActivatedRoute$.next({component:mt.instance,activatedRoute:J})}null===(Me=this.inputBinder)||void 0===Me||Me.bindActivatedRouteToOutletComponent(this),this.activatedView=Gt,this.navCtrl.setTopOutlet(this);const wn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Gt,tabSwitch:nr(Gt,wn)}),this.stackCtrl.setActive(Gt).then(gr=>{this.activateEvents.emit(mt.instance),this.stackDidChange.emit(gr)})}canGoBack(J=1,te){return this.stackCtrl.canGoBack(J,te)}pop(J=1,te){return this.stackCtrl.pop(J,te)}getLastUrl(J){const te=this.stackCtrl.getLastUrl(J);return te?te.url:void 0}getLastRouteView(J){return this.stackCtrl.getLastUrl(J)}getRootView(J){return this.stackCtrl.getRootUrl(J)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(J,te){const Me=new Re.nX;return Me._futureSnapshot=te._futureSnapshot,Me._routerState=te._routerState,Me.snapshot=te.snapshot,Me.outlet=te.outlet,Me.component=te.component,Me._paramMap=this.proxyObservable(J,"paramMap"),Me._queryParamMap=this.proxyObservable(J,"queryParamMap"),Me.url=this.proxyObservable(J,"url"),Me.params=this.proxyObservable(J,"params"),Me.queryParams=this.proxyObservable(J,"queryParams"),Me.fragment=this.proxyObservable(J,"fragment"),Me.data=this.proxyObservable(J,"data"),Me}proxyObservable(J,te){return J.pipe((0,we.p)(Me=>!!Me),(0,xe.n)(Me=>this.currentActivatedRoute$.pipe((0,we.p)(mt=>null!==mt&&mt.component===Me),(0,xe.n)(mt=>mt&&mt.activatedRoute[te]),(0,ee.F)())))}updateActivatedRouteProxy(J,te){const Me=this.proxyMap.get(J);if(!Me)throw new Error("Could not find activated route proxy for view");Me._futureSnapshot=te._futureSnapshot,Me._routerState=te._routerState,Me.snapshot=te.snapshot,Me.outlet=te.outlet,Me.component=te.component,this.currentActivatedRoute$.next({component:J,activatedRoute:te})}}return ne=H,(0,h.A)(H,"\u0275fac",function(J){return new(J||ne)(F.kS0("name"),F.kS0("tabs"),F.rXU(ue.aZ),F.rXU(F.aKT),F.rXU(Re.Ix),F.rXU(F.SKi),F.rXU(Re.nX),F.rXU(ne,12))}),(0,h.A)(H,"\u0275dir",F.FsC({type:ne,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),H})();class W{constructor(H,Ee,J){(0,h.A)(this,"route",void 0),(0,h.A)(this,"childContexts",void 0),(0,h.A)(this,"parent",void 0),this.route=H,this.childContexts=Ee,this.parent=J}get(H,Ee){return H===Re.nX?this.route:H===Re.Zp?this.childContexts:this.parent.get(H,Ee)}}const R=new F.nKC("");let k=(()=>{var ne;class H{constructor(){(0,h.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(J){this.unsubscribeFromRouteData(J),this.subscribeToRouteData(J)}unsubscribeFromRouteData(J){var te;null===(te=this.outletDataSubscriptions.get(J))||void 0===te||te.unsubscribe(),this.outletDataSubscriptions.delete(J)}subscribeToRouteData(J){const{activatedRoute:te}=J,Me=(0,en.z)([te.queryParams,te.params,te.data]).pipe((0,xe.n)(([mt,Gt,an],wn)=>(an={...mt,...Gt,...an},0===wn?(0,Dn.of)(an):Promise.resolve(an)))).subscribe(mt=>{if(!J.isActivated||!J.activatedComponentRef||J.activatedRoute!==te||null===te.component)return void this.unsubscribeFromRouteData(J);const Gt=(0,F.HJs)(te.component);if(Gt)for(const{templateName:an}of Gt.inputs)J.activatedComponentRef.setInput(an,mt[an]);else this.unsubscribeFromRouteData(J)});this.outletDataSubscriptions.set(J,Me)}}return ne=H,(0,h.A)(H,"\u0275fac",function(J){return new(J||ne)}),(0,h.A)(H,"\u0275prov",F.jDH({token:ne,factory:ne.\u0275fac})),H})();const ce=()=>({provide:R,useFactory:se,deps:[Re.Ix]});function se(ne){return null!=ne&&ne.componentInputBindingEnabled?new k:null}const Ye=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let bt=(()=>{var ne;let H=((0,h.A)(ne=class{constructor(J,te,Me,mt,Gt,an){(0,h.A)(this,"routerOutlet",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"config",void 0),(0,h.A)(this,"r",void 0),(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.routerOutlet=J,this.navCtrl=te,this.config=Me,this.r=mt,this.z=Gt,an.detach(),this.el=this.r.nativeElement}onClick(J){var te;const Me=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(te=this.routerOutlet)&&void 0!==te&&te.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),J.preventDefault()):null!=Me&&(this.navCtrl.navigateBack(Me,{animation:this.routerAnimation}),J.preventDefault())}},"\u0275fac",function(J){return new(J||ne)(F.rXU(Ue,8),F.rXU(Nt),F.rXU(Sn),F.rXU(F.aKT),F.rXU(F.SKi),F.rXU(F.gRc))}),(0,h.A)(ne,"\u0275dir",F.FsC({type:ne,hostBindings:function(J,te){1&J&&F.bIt("click",function(mt){return te.onClick(mt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),ne);return H=(0,Et.Cg)([$n({inputs:Ye})],H),H})(),Lt=(()=>{var ne;class H{constructor(J,te,Me,mt,Gt){(0,h.A)(this,"locationStrategy",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"elementRef",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"routerLink",void 0),(0,h.A)(this,"routerDirection","forward"),(0,h.A)(this,"routerAnimation",void 0),this.locationStrategy=J,this.navCtrl=te,this.elementRef=Me,this.router=mt,this.routerLink=Gt}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const te=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(te.tagName)&&"0"===te.getAttribute("tabindex")&&te.removeAttribute("tabindex")}updateTargetUrlAndHref(){var J;if(null!==(J=this.routerLink)&&void 0!==J&&J.urlTree){const te=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=te}}onClick(J){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),J.preventDefault()}}return ne=H,(0,h.A)(H,"\u0275fac",function(J){return new(J||ne)(F.rXU(ue.hb),F.rXU(Nt),F.rXU(F.aKT),F.rXU(Re.Ix),F.rXU(Re.Wk,8))}),(0,h.A)(H,"\u0275dir",F.FsC({type:ne,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(J,te){1&J&&F.bIt("click",function(mt){return te.onClick(mt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[F.OA$]})),H})(),hn=(()=>{var ne;class H{constructor(J,te,Me,mt,Gt){(0,h.A)(this,"locationStrategy",void 0),(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"elementRef",void 0),(0,h.A)(this,"router",void 0),(0,h.A)(this,"routerLink",void 0),(0,h.A)(this,"routerDirection","forward"),(0,h.A)(this,"routerAnimation",void 0),this.locationStrategy=J,this.navCtrl=te,this.elementRef=Me,this.router=mt,this.routerLink=Gt}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var J;if(null!==(J=this.routerLink)&&void 0!==J&&J.urlTree){const te=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=te}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return ne=H,(0,h.A)(H,"\u0275fac",function(J){return new(J||ne)(F.rXU(ue.hb),F.rXU(Nt),F.rXU(F.aKT),F.rXU(Re.Ix),F.rXU(Re.Wk,8))}),(0,h.A)(H,"\u0275dir",F.FsC({type:ne,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(J,te){1&J&&F.bIt("click",function(){return te.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[F.OA$]})),H})();const rn=["animated","animation","root","rootParams","swipeGesture"],gn=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let on=(()=>{var ne;let H=((0,h.A)(ne=class{constructor(J,te,Me,mt,Gt,an){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=Gt,an.detach(),this.el=J.nativeElement,J.nativeElement.delegate=mt.create(te,Me),lr(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(J){return new(J||ne)(F.rXU(F.aKT),F.rXU(F.uvJ),F.rXU(F.zZn),F.rXU(Wt),F.rXU(F.SKi),F.rXU(F.gRc))}),(0,h.A)(ne,"\u0275dir",F.FsC({type:ne,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),ne);return H=(0,Et.Cg)([$n({inputs:rn,methods:gn})],H),H})(),er=(()=>{var ne;class H{constructor(J){(0,h.A)(this,"navCtrl",void 0),(0,h.A)(this,"tabsInner",void 0),(0,h.A)(this,"ionTabsWillChange",new F.bkB),(0,h.A)(this,"ionTabsDidChange",new F.bkB),(0,h.A)(this,"tabBarSlot","bottom"),(0,h.A)(this,"hasTab",!1),(0,h.A)(this,"selectedTab",void 0),(0,h.A)(this,"leavingTab",void 0),this.navCtrl=J}ngAfterViewInit(){const J=this.tabs.length>0?this.tabs.first:void 0;J&&(this.hasTab=!0,this.setActiveTab(J.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:J,tabSwitch:te}){const Me=J.stackId;te&&void 0!==Me&&this.ionTabsWillChange.emit({tab:Me})}onStackDidChange({enteringView:J,tabSwitch:te}){const Me=J.stackId;te&&void 0!==Me&&(this.tabBar&&(this.tabBar.selectedTab=Me),this.ionTabsDidChange.emit({tab:Me}))}select(J){const te="string"==typeof J,Me=te?J:J.detail.tab;if(this.hasTab)return this.setActiveTab(Me),void this.tabSwitch();const mt=this.outlet.getActiveStackId()===Me,Gt=`${this.outlet.tabsPrefix}/${Me}`;if(te||J.stopPropagation(),mt){const an=this.outlet.getActiveStackId(),wn=this.outlet.getLastRouteView(an);if((null==wn?void 0:wn.url)===Gt)return;const gr=this.outlet.getRootView(Me);return this.navCtrl.navigateRoot(Gt,{...gr&&Gt===gr.url&&gr.savedExtras,animated:!0,animationDirection:"back"})}{const an=this.outlet.getLastRouteView(Me);return this.navCtrl.navigateRoot((null==an?void 0:an.url)||Gt,{...null==an?void 0:an.savedExtras,animated:!0,animationDirection:"back"})}}setActiveTab(J){const Me=this.tabs.find(mt=>mt.tab===J);Me?(this.leavingTab=this.selectedTab,this.selectedTab=Me,this.ionTabsWillChange.emit({tab:J}),Me.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${J}" does not exist`)}tabSwitch(){const{selectedTab:J,leavingTab:te}=this;this.tabBar&&J&&(this.tabBar.selectedTab=J.tab),(null==te?void 0:te.tab)!==(null==J?void 0:J.tab)&&null!=te&&te.el&&(te.el.active=!1),J&&this.ionTabsDidChange.emit({tab:J.tab})}getSelected(){var J;return this.hasTab?null===(J=this.selectedTab)||void 0===J?void 0:J.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(J=>{const te=J.el.getAttribute("slot");te!==this.tabBarSlot&&(this.tabBarSlot=te,this.relocateTabBar())})}relocateTabBar(){const J=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(J):this.tabsInner.nativeElement.after(J)}}return ne=H,(0,h.A)(H,"\u0275fac",function(J){return new(J||ne)(F.rXU(Nt))}),(0,h.A)(H,"\u0275dir",F.FsC({type:ne,selectors:[["ion-tabs"]],viewQuery:function(J,te){if(1&J&&F.GBs(fe,7,F.aKT),2&J){let Me;F.mGM(Me=F.lsd())&&(te.tabsInner=Me.first)}},hostBindings:function(J,te){1&J&&F.bIt("ionTabButtonClick",function(mt){return te.select(mt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),H})();const Tn=ne=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ne):"function"==typeof requestAnimationFrame?requestAnimationFrame(ne):setTimeout(ne);let xn=(()=>{var ne;class H{constructor(J,te){(0,h.A)(this,"injector",void 0),(0,h.A)(this,"elementRef",void 0),(0,h.A)(this,"onChange",()=>{}),(0,h.A)(this,"onTouched",()=>{}),(0,h.A)(this,"lastValue",void 0),(0,h.A)(this,"statusChanges",void 0),this.injector=J,this.elementRef=te}writeValue(J){this.elementRef.nativeElement.value=this.lastValue=J,Qr(this.elementRef)}handleValueChange(J,te){J===this.elementRef.nativeElement&&(te!==this.lastValue&&(this.lastValue=te,this.onChange(te)),Qr(this.elementRef))}_handleBlurEvent(J){J===this.elementRef.nativeElement&&(this.onTouched(),Qr(this.elementRef))}registerOnChange(J){this.onChange=J}registerOnTouched(J){this.onTouched=J}setDisabledState(J){this.elementRef.nativeElement.disabled=J}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let J;try{J=this.injector.get(oe.vO)}catch{}if(!J)return;J.statusChanges&&(this.statusChanges=J.statusChanges.subscribe(()=>Qr(this.elementRef)));const te=J.control;te&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(mt=>{if(typeof te[mt]<"u"){const Gt=te[mt].bind(te);te[mt]=(...an)=>{Gt(...an),Qr(this.elementRef)}}})}}return ne=H,(0,h.A)(H,"\u0275fac",function(J){return new(J||ne)(F.rXU(F.zZn),F.rXU(F.aKT))}),(0,h.A)(H,"\u0275dir",F.FsC({type:ne,hostBindings:function(J,te){1&J&&F.bIt("ionBlur",function(mt){return te._handleBlurEvent(mt.target)})}})),H})();const Qr=ne=>{Tn(()=>{const H=ne.nativeElement,Ee=null!=H.value&&H.value.toString().length>0,J=_r(H);Mn(H,J);const te=H.closest("ion-item");te&&Mn(te,Ee?[...J,"item-has-value"]:J)})},_r=ne=>{const H=ne.classList,Ee=[];for(let J=0;J<H.length;J++){const te=H.item(J);null!==te&&Ti(te,"ng-")&&Ee.push(`ion-${te.substring(3)}`)}return Ee},Mn=(ne,H)=>{const Ee=ne.classList;Ee.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),Ee.add(...H)},Ti=(ne,H)=>ne.substring(0,H.length)===H;class ur{shouldDetach(H){return!1}shouldAttach(H){return!1}store(H,Ee){}retrieve(H){return null}shouldReuseRoute(H,Ee){if(H.routeConfig!==Ee.routeConfig)return!1;const J=H.params,te=Ee.params,Me=Object.keys(J),mt=Object.keys(te);if(Me.length!==mt.length)return!1;for(const Gt of Me)if(te[Gt]!==J[Gt])return!1;return!0}}class Ar{constructor(H){(0,h.A)(this,"ctrl",void 0),this.ctrl=H}create(H){return this.ctrl.create(H||{})}dismiss(H,Ee,J){return this.ctrl.dismiss(H,Ee,J)}getTop(){return this.ctrl.getTop()}}},4742:(vn,vt,L)=>{"use strict";L.d(vt,{U1:()=>pr,mC:()=>Sn,el:()=>pi,Jm:()=>kt,QW:()=>Ot,W9:()=>$n,Q8:()=>Fr,YW:()=>sr,eU:()=>or,iq:()=>Lr,$w:()=>rr,uz:()=>Fe,LU:()=>ke,CE:()=>Ue,A7:()=>W,he:()=>R,nf:()=>k,Rg:()=>zo,BC:()=>It,ai:()=>Ki,bv:()=>Pi,Xi:()=>co,W3:()=>Wo,N7:()=>uo,Gw:()=>fe,K_:()=>Ko});var c=L(9842),h=L(4438),F=L(4341),Re=L(2872),ue=L(1635),ge=L(3726),Ce=L(177),ze=L(4964),qe=(L(9986),L(3604),L(5022),L(3615),L(8607),L(9483)),it=L(464),Be=(L(9568),L(9440)),ct=(L(8476),L(4261));L(1970),L(7192);var nt=L(467);const _t=qe.i,xt=function(){var M=(0,nt.A)(function*(Y,me){if(!(typeof window>"u"))return yield _t(),(0,ct.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),me)});return function(me,O){return M.apply(this,arguments)}}(),Ie=["*"],At=["outletContent"];let fe=(()=>{var M;class Y extends Re.fL{constructor(O,C){super(O,C)}_handleInputEvent(O){this.handleValueChange(O,O.value)}}return M=Y,(0,c.A)(Y,"\u0275fac",function(O){return new(O||M)(h.rXU(h.zZn),h.rXU(h.aKT))}),(0,c.A)(Y,"\u0275dir",h.FsC({type:M,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(O,C){1&O&&h.bIt("ionInput",function(Ne){return C._handleInputEvent(Ne.target)})},features:[h.Jv_([{provide:F.kq,useExisting:M,multi:!0}]),h.Vt3]})),Y})();const le=(M,Y)=>{const me=M.prototype;Y.forEach(O=>{Object.defineProperty(me,O,{get(){return this.el[O]},set(C){this.z.runOutsideAngular(()=>this.el[O]=C)},configurable:!0})})},be=(M,Y)=>{const me=M.prototype;Y.forEach(O=>{me[O]=function(){const C=arguments;return this.z.runOutsideAngular(()=>this.el[O].apply(this.el,C))}})},Se=(M,Y,me)=>{me.forEach(O=>M[O]=(0,ge.R)(Y,O))};function He(M){return function(me){const{defineCustomElementFn:O,inputs:C,methods:j}=M;return void 0!==O&&O(),C&&le(me,C),j&&be(me,j),me}}let pr=(()=>{var M;let Y=((0,c.A)(M=class{constructor(O,C,j){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=j,O.detach(),this.el=C.nativeElement}},"\u0275fac",function(O){return new(O||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-app"]],ngContentSelectors:Ie,decls:1,vars:0,template:function(O,C){1&O&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Y=(0,ue.Cg)([He({methods:["setFocus"]})],Y),Y})(),Sn=(()=>{var M;let Y=((0,c.A)(M=class{constructor(O,C,j){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=j,O.detach(),this.el=C.nativeElement}},"\u0275fac",function(O){return new(O||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-avatar"]],ngContentSelectors:Ie,decls:1,vars:0,template:function(O,C){1&O&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Y=(0,ue.Cg)([He({})],Y),Y})(),kt=(()=>{var M;let Y=((0,c.A)(M=class{constructor(O,C,j){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=j,O.detach(),this.el=C.nativeElement,Se(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(O){return new(O||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ie,decls:1,vars:0,template:function(O,C){1&O&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Y=(0,ue.Cg)([He({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],Y),Y})(),Ot=(()=>{var M;let Y=((0,c.A)(M=class{constructor(O,C,j){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=j,O.detach(),this.el=C.nativeElement}},"\u0275fac",function(O){return new(O||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ie,decls:1,vars:0,template:function(O,C){1&O&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Y=(0,ue.Cg)([He({inputs:["collapse"]})],Y),Y})(),$n=(()=>{var M;let Y=((0,c.A)(M=class{constructor(O,C,j){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=j,O.detach(),this.el=C.nativeElement,Se(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(O){return new(O||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ie,decls:1,vars:0,template:function(O,C){1&O&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Y=(0,ue.Cg)([He({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],Y),Y})(),Fr=(()=>{var M;let Y=((0,c.A)(M=class{constructor(O,C,j){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=j,O.detach(),this.el=C.nativeElement}},"\u0275fac",function(O){return new(O||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:Ie,decls:1,vars:0,template:function(O,C){1&O&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Y=(0,ue.Cg)([He({inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],Y),Y})(),sr=(()=>{var M;let Y=((0,c.A)(M=class{constructor(O,C,j){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=j,O.detach(),this.el=C.nativeElement,Se(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(O){return new(O||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:Ie,decls:1,vars:0,template:function(O,C){1&O&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Y=(0,ue.Cg)([He({inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],Y),Y})(),or=(()=>{var M;let Y=((0,c.A)(M=class{constructor(O,C,j){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=j,O.detach(),this.el=C.nativeElement}},"\u0275fac",function(O){return new(O||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ie,decls:1,vars:0,template:function(O,C){1&O&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Y=(0,ue.Cg)([He({inputs:["collapse","mode","translucent"]})],Y),Y})(),Lr=(()=>{var M;let Y=((0,c.A)(M=class{constructor(O,C,j){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=j,O.detach(),this.el=C.nativeElement}},"\u0275fac",function(O){return new(O||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ie,decls:1,vars:0,template:function(O,C){1&O&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Y=(0,ue.Cg)([He({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],Y),Y})(),rr=(()=>{var M;let Y=((0,c.A)(M=class{constructor(O,C,j){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=j,O.detach(),this.el=C.nativeElement,Se(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(O){return new(O||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ie,decls:1,vars:0,template:function(O,C){1&O&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Y=(0,ue.Cg)([He({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],Y),Y})(),Fe=(()=>{var M;let Y=((0,c.A)(M=class{constructor(O,C,j){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=j,O.detach(),this.el=C.nativeElement}},"\u0275fac",function(O){return new(O||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ie,decls:1,vars:0,template:function(O,C){1&O&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Y=(0,ue.Cg)([He({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],Y),Y})(),ke=(()=>{var M;let Y=((0,c.A)(M=class{constructor(O,C,j){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=j,O.detach(),this.el=C.nativeElement}},"\u0275fac",function(O){return new(O||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Ie,decls:1,vars:0,template:function(O,C){1&O&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Y=(0,ue.Cg)([He({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],Y),Y})(),Ue=(()=>{var M;let Y=((0,c.A)(M=class{constructor(O,C,j){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=j,O.detach(),this.el=C.nativeElement,Se(this,this.el,["ionSwipe"])}},"\u0275fac",function(O){return new(O||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Ie,decls:1,vars:0,template:function(O,C){1&O&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Y=(0,ue.Cg)([He({inputs:["side"]})],Y),Y})(),W=(()=>{var M;let Y=((0,c.A)(M=class{constructor(O,C,j){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=j,O.detach(),this.el=C.nativeElement,Se(this,this.el,["ionDrag"])}},"\u0275fac",function(O){return new(O||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Ie,decls:1,vars:0,template:function(O,C){1&O&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Y=(0,ue.Cg)([He({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],Y),Y})(),R=(()=>{var M;let Y=((0,c.A)(M=class{constructor(O,C,j){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=j,O.detach(),this.el=C.nativeElement}},"\u0275fac",function(O){return new(O||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ie,decls:1,vars:0,template:function(O,C){1&O&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Y=(0,ue.Cg)([He({inputs:["color","mode","position"]})],Y),Y})(),k=(()=>{var M;let Y=((0,c.A)(M=class{constructor(O,C,j){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=j,O.detach(),this.el=C.nativeElement}},"\u0275fac",function(O){return new(O||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ie,decls:1,vars:0,template:function(O,C){1&O&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Y=(0,ue.Cg)([He({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],Y),Y})(),It=(()=>{var M;let Y=((0,c.A)(M=class{constructor(O,C,j){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=j,O.detach(),this.el=C.nativeElement}},"\u0275fac",function(O){return new(O||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ie,decls:1,vars:0,template:function(O,C){1&O&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Y=(0,ue.Cg)([He({inputs:["color","size"]})],Y),Y})(),Ki=(()=>{var M;let Y=((0,c.A)(M=class{constructor(O,C,j){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=j,O.detach(),this.el=C.nativeElement}},"\u0275fac",function(O){return new(O||M)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi))}),(0,c.A)(M,"\u0275cmp",h.VBU({type:M,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ie,decls:1,vars:0,template:function(O,C){1&O&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),M);return Y=(0,ue.Cg)([He({inputs:["color","mode"]})],Y),Y})(),zo=(()=>{var M;class Y extends Re.Rg{constructor(O,C,j,Ne,$e,ht,st,Yt){super(O,C,j,Ne,$e,ht,st,Yt),(0,c.A)(this,"parentOutlet",void 0),(0,c.A)(this,"outletContent",void 0),this.parentOutlet=Yt}}return M=Y,(0,c.A)(Y,"\u0275fac",function(O){return new(O||M)(h.kS0("name"),h.kS0("tabs"),h.rXU(Ce.aZ),h.rXU(h.aKT),h.rXU(ze.Ix),h.rXU(h.SKi),h.rXU(ze.nX),h.rXU(M,12))}),(0,c.A)(Y,"\u0275cmp",h.VBU({type:M,selectors:[["ion-router-outlet"]],viewQuery:function(O,C){if(1&O&&h.GBs(At,7,h.c1b),2&O){let j;h.mGM(j=h.lsd())&&(C.outletContent=j.first)}},features:[h.Vt3],ngContentSelectors:Ie,decls:3,vars:0,consts:[["outletContent",""]],template:function(O,C){1&O&&(h.NAR(),h.qex(0,null,0),h.SdG(2),h.bVm())},encapsulation:2})),Y})(),pi=(()=>{var M;class Y extends Re.el{constructor(O,C,j,Ne,$e,ht){super(O,C,j,Ne,$e,ht)}}return M=Y,(0,c.A)(Y,"\u0275fac",function(O){return new(O||M)(h.rXU(zo,8),h.rXU(Re.q9),h.rXU(Re.TS),h.rXU(h.aKT),h.rXU(h.SKi),h.rXU(h.gRc))}),(0,c.A)(Y,"\u0275cmp",h.VBU({type:M,selectors:[["ion-back-button"]],features:[h.Vt3],ngContentSelectors:Ie,decls:1,vars:0,template:function(O,C){1&O&&(h.NAR(),h.SdG(0))},encapsulation:2,changeDetection:0})),Y})(),uo=(()=>{var M;class Y extends Re.CE{}return M=Y,(0,c.A)(Y,"\u0275fac",(()=>{let me;return function(C){return(me||(me=h.xGo(M)))(C||M)}})()),(0,c.A)(Y,"\u0275dir",h.FsC({type:M,selectors:[["","routerLink","",5,"a",5,"area"]],features:[h.Vt3]})),Y})();const _s={provide:F.cz,useExisting:(0,h.Rfq)(()=>Jn),multi:!0};let Jn=(()=>{var M;class Y extends F.zX{}return M=Y,(0,c.A)(Y,"\u0275fac",(()=>{let me;return function(C){return(me||(me=h.xGo(M)))(C||M)}})()),(0,c.A)(Y,"\u0275dir",h.FsC({type:M,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(O,C){2&O&&h.BMQ("max",C._enabled?C.max:null)},features:[h.Jv_([_s]),h.Vt3]})),Y})();const Sr={provide:F.cz,useExisting:(0,h.Rfq)(()=>ss),multi:!0};let ss=(()=>{var M;class Y extends F.VZ{}return M=Y,(0,c.A)(Y,"\u0275fac",(()=>{let me;return function(C){return(me||(me=h.xGo(M)))(C||M)}})()),(0,c.A)(Y,"\u0275dir",h.FsC({type:M,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(O,C){2&O&&h.BMQ("min",C._enabled?C.min:null)},features:[h.Jv_([Sr]),h.Vt3]})),Y})(),co=(()=>{var M;class Y extends Re.Kb{constructor(){super(Be.l)}}return M=Y,(0,c.A)(Y,"\u0275fac",function(O){return new(O||M)}),(0,c.A)(Y,"\u0275prov",h.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})),Y})(),Wo=(()=>{var M;class Y extends Re.Kb{constructor(){super(Be.m),(0,c.A)(this,"angularDelegate",(0,h.WQX)(Re.Yq)),(0,c.A)(this,"injector",(0,h.WQX)(h.zZn)),(0,c.A)(this,"environmentInjector",(0,h.WQX)(h.uvJ))}create(O){return super.create({...O,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return M=Y,(0,c.A)(Y,"\u0275fac",function(O){return new(O||M)}),(0,c.A)(Y,"\u0275prov",h.jDH({token:M,factory:M.\u0275fac})),Y})();class Li extends Re.Kb{constructor(){super(Be.c),(0,c.A)(this,"angularDelegate",(0,h.WQX)(Re.Yq)),(0,c.A)(this,"injector",(0,h.WQX)(h.zZn)),(0,c.A)(this,"environmentInjector",(0,h.WQX)(h.uvJ))}create(Y){return super.create({...Y,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let Ko=(()=>{var M;class Y extends Re.Kb{constructor(){super(Be.t)}}return M=Y,(0,c.A)(Y,"\u0275fac",function(O){return new(O||M)}),(0,c.A)(Y,"\u0275prov",h.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})),Y})();const Ls=(M,Y,me)=>()=>{const O=Y.defaultView;if(O&&typeof window<"u"){(0,it.s)({...M,_zoneGate:j=>me.run(j)});const C="__zone_symbol__addEventListener"in Y.body?"__zone_symbol__addEventListener":"addEventListener";return function Le(){var M=[];if(typeof window<"u"){var Y=window;(!Y.customElements||Y.Element&&(!Y.Element.prototype.closest||!Y.Element.prototype.matches||!Y.Element.prototype.remove||!Y.Element.prototype.getRootNode))&&M.push(L.e(7278).then(L.t.bind(L,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Y.NodeList&&!Y.NodeList.prototype.forEach||!Y.fetch||!function(){try{var O=new URL("b","http://a");return O.pathname="c%20d","http://a/c%20d"===O.href&&O.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&M.push(L.e(9329).then(L.t.bind(L,7783,23)))}return Promise.all(M)}().then(()=>xt(O,{exclude:["ion-tabs"],syncQueue:!0,raf:Re.er,jmp:j=>me.runOutsideAngular(j),ael(j,Ne,$e,ht){j[C](Ne,$e,ht)},rel(j,Ne,$e,ht){j.removeEventListener(Ne,$e,ht)}}))}};let Pi=(()=>{var M;class Y{static forRoot(O={}){return{ngModule:Y,providers:[{provide:Re.sR,useValue:O},{provide:h.hnV,useFactory:Ls,multi:!0,deps:[Re.sR,Ce.qQ,h.SKi]},Re.Yq,(0,Re.YV)()]}}}return M=Y,(0,c.A)(Y,"\u0275fac",function(O){return new(O||M)}),(0,c.A)(Y,"\u0275mod",h.$C({type:M})),(0,c.A)(Y,"\u0275inj",h.G2t({providers:[Wo,Li],imports:[Ce.MD]})),Y})()},2214:(vn,vt,L)=>{"use strict";L.d(vt,{Dk:()=>c.getApps,Sx:()=>c.getApp});var c=L(7852);(0,c.registerVersion)("firebase","10.14.1","app")},7935:(vn,vt,L)=>{"use strict";L.d(vt,{A:()=>c.A});var c=L(3345);c.A.registerVersion("firebase","10.14.1","app-compat")},2438:(vn,vt,L)=>{"use strict";var c=L(467),h=L(3345),F=L(5504),Re=L(1076),Ce=(L(7852),L(8041),L(1362));function ze(){return window}function pe(){return pe=(0,c.A)(function*(W,R,k){var ce;const{BuildInfo:se}=ze();(0,F.au)(R.sessionId,"AuthEvent did not contain a session ID");const Ye=yield function Qe(W){return ct.apply(this,arguments)}(R.sessionId),bt={};return(0,F.av)()?bt.ibi=se.packageName:(0,F.aw)()?bt.apn=se.packageName:(0,F.ax)(W,"operation-not-supported-in-this-environment"),se.displayName&&(bt.appDisplayName=se.displayName),bt.sessionId=Ye,(0,F.ay)(W,k,R.type,void 0,null!==(ce=R.eventId)&&void 0!==ce?ce:void 0,bt)}),pe.apply(this,arguments)}function Ke(){return(Ke=(0,c.A)(function*(W){const{BuildInfo:R}=ze(),k={};(0,F.av)()?k.iosBundleId=R.packageName:(0,F.aw)()?k.androidPackageName=R.packageName:(0,F.ax)(W,"operation-not-supported-in-this-environment"),yield(0,F.az)(W,k)})).apply(this,arguments)}function ut(){return(ut=(0,c.A)(function*(W,R,k){const{cordova:ce}=ze();let se=()=>{};try{yield new Promise((Ye,bt)=>{let Lt=null;function hn(){var on;Ye();const er=null===(on=ce.plugins.browsertab)||void 0===on?void 0:on.close;"function"==typeof er&&er(),"function"==typeof(null==k?void 0:k.close)&&k.close()}function rn(){Lt||(Lt=window.setTimeout(()=>{bt((0,F.aB)(W,"redirect-cancelled-by-user"))},2e3))}function gn(){"visible"===(null==document?void 0:document.visibilityState)&&rn()}R.addPassiveListener(hn),document.addEventListener("resume",rn,!1),(0,F.aw)()&&document.addEventListener("visibilitychange",gn,!1),se=()=>{R.removePassiveListener(hn),document.removeEventListener("resume",rn,!1),document.removeEventListener("visibilitychange",gn,!1),Lt&&window.clearTimeout(Lt)}})}finally{se()}})).apply(this,arguments)}function ct(){return(ct=(0,c.A)(function*(W){const R=function at(W){if((0,F.au)(/[0-9a-zA-Z]+/.test(W),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(W);const R=new ArrayBuffer(W.length),k=new Uint8Array(R);for(let ce=0;ce<W.length;ce++)k[ce]=W.charCodeAt(ce);return k}(W),k=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(k)).map(se=>se.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class De extends F.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInitialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInitialized(),this.passiveListeners.forEach(k=>k(R)),super.onEvent(R)}initialized(){var R=this;return(0,c.A)(function*(){yield R.initPromise})()}}function _t(W){return xt.apply(this,arguments)}function xt(){return(xt=(0,c.A)(function*(W){const R=yield Vt()._get(Qt(W));return R&&(yield Vt()._remove(Qt(W))),R})).apply(this,arguments)}function At(){const W=[];for(let k=0;k<20;k++){const ce=Math.floor(62*Math.random());W.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ce))}return W.join("")}function Vt(){return(0,F.aE)(F.b)}function Qt(W){return(0,F.aF)("authEvent",W.config.apiKey,W.name)}function Dn(W){if(null==W||!W.includes("?"))return{};const[R,...k]=W.split("?");return(0,Re.I9)(k.join("?"))}const xe=class we{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aG,this._overrideRedirectResult=F.aH}_initialize(R){var k=this;return(0,c.A)(function*(){const ce=R._key();let se=k.eventManagers.get(ce);return se||(se=new De(R),k.eventManagers.set(ce,se),k.attachCallbackListeners(R,se)),se})()}_openPopup(R){(0,F.ax)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,k,ce,se){var Ye=this;return(0,c.A)(function*(){!function Be(W){var R,k,ce,se,Ye,bt,Lt,hn,rn,gn;const on=ze();(0,F.aC)("function"==typeof(null===(R=null==on?void 0:on.universalLinks)||void 0===R?void 0:R.subscribe),W,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.aC)(typeof(null===(k=null==on?void 0:on.BuildInfo)||void 0===k?void 0:k.packageName)<"u",W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.aC)("function"==typeof(null===(Ye=null===(se=null===(ce=null==on?void 0:on.cordova)||void 0===ce?void 0:ce.plugins)||void 0===se?void 0:se.browsertab)||void 0===Ye?void 0:Ye.openUrl),W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aC)("function"==typeof(null===(hn=null===(Lt=null===(bt=null==on?void 0:on.cordova)||void 0===bt?void 0:bt.plugins)||void 0===Lt?void 0:Lt.browsertab)||void 0===hn?void 0:hn.isAvailable),W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aC)("function"==typeof(null===(gn=null===(rn=null==on?void 0:on.cordova)||void 0===rn?void 0:rn.InAppBrowser)||void 0===gn?void 0:gn.open),W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const bt=yield Ye._initialize(R);yield bt.initialized(),bt.resetRedirect(),(0,F.aI)(),yield Ye._originValidation(R);const Lt=function Le(W,R,k=null){return{type:R,eventId:k,urlResponse:null,sessionId:At(),postBody:null,tenantId:W.tenantId,error:(0,F.aB)(W,"no-auth-event")}}(R,ce,se);yield function nt(W,R){return Vt()._set(Qt(W),R)}(R,Lt);const hn=yield function Pe(W,R,k){return pe.apply(this,arguments)}(R,Lt,k),rn=yield function qe(W){const{cordova:R}=ze();return new Promise(k=>{R.plugins.browsertab.isAvailable(ce=>{let se=null;ce?R.plugins.browsertab.openUrl(W):se=R.InAppBrowser.open(W,(0,F.aA)()?"_blank":"_system","location=yes"),k(se)})})}(hn);return function it(W,R,k){return ut.apply(this,arguments)}(R,bt,rn)})()}_isIframeWebStorageSupported(R,k){throw new Error("Method not implemented.")}_originValidation(R){const k=R._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function Ge(W){return Ke.apply(this,arguments)}(R)),this.originValidationPromises[k]}attachCallbackListeners(R,k){const{universalLinks:ce,handleOpenURL:se,BuildInfo:Ye}=ze(),bt=setTimeout((0,c.A)(function*(){yield _t(R),k.onEvent(ee())}),500),Lt=function(){var gn=(0,c.A)(function*(on){clearTimeout(bt);const er=yield _t(R);let Tn=null;er&&null!=on&&on.url&&(Tn=function Ie(W,R){var k,ce;const se=function en(W){const R=Dn(W),k=R.link?decodeURIComponent(R.link):void 0,ce=Dn(k).link,se=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return Dn(se).link||se||ce||k||W}(R);if(se.includes("/__/auth/callback")){const Ye=Dn(se),bt=Ye.firebaseError?function yn(W){try{return JSON.parse(W)}catch{return null}}(decodeURIComponent(Ye.firebaseError)):null,Lt=null===(ce=null===(k=null==bt?void 0:bt.code)||void 0===k?void 0:k.split("auth/"))||void 0===ce?void 0:ce[1],hn=Lt?(0,F.aB)(Lt):null;return hn?{type:W.type,eventId:W.eventId,tenantId:W.tenantId,error:hn,urlResponse:null,sessionId:null,postBody:null}:{type:W.type,eventId:W.eventId,tenantId:W.tenantId,sessionId:W.sessionId,urlResponse:se,postBody:null}}return null}(er,on.url)),k.onEvent(Tn||ee())});return function(er){return gn.apply(this,arguments)}}();typeof ce<"u"&&"function"==typeof ce.subscribe&&ce.subscribe(null,Lt);const hn=se,rn=`${Ye.packageName.toLowerCase()}://`;ze().handleOpenURL=function(){var gn=(0,c.A)(function*(on){if(on.toLowerCase().startsWith(rn)&&Lt({url:on}),"function"==typeof hn)try{hn(on)}catch(er){console.error(er)}});return function(on){return gn.apply(this,arguments)}}()}};function ee(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.aB)("no-auth-event")}}function Se(){var W;return(null===(W=null==self?void 0:self.location)||void 0===W?void 0:W.protocol)||null}function He(W=(0,Re.ZQ)()){return!("file:"!==Se()&&"ionic:"!==Se()&&"capacitor:"!==Se()||!W.toLowerCase().match(/iphone|ipad|ipod|android/))}function pr(){try{const W=self.localStorage,R=F.aN();if(W)return W.setItem(R,"1"),W.removeItem(R),!function In(W=(0,Re.ZQ)()){return function Nt(){return(0,Re.lT)()&&11===(null==document?void 0:document.documentMode)}()||function dn(W=(0,Re.ZQ)()){return/Edge\/\d+/.test(W)}(W)}()||(0,Re.zW)()}catch{return Sn()&&(0,Re.zW)()}return!1}function Sn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function zn(){return(function tt(){return"http:"===Se()||"https:"===Se()}()||(0,Re.sr)()||He())&&!function dt(){return(0,Re.lV)()||(0,Re.Ll)()}()&&pr()&&!Sn()}function Xn(){return He()&&typeof document<"u"}function Wt(){return(Wt=(0,c.A)(function*(){return!!Xn()&&new Promise(W=>{const R=setTimeout(()=>{W(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(R),W(!0)})})})).apply(this,arguments)}const Ot={LOCAL:"local",NONE:"none",SESSION:"session"},fn=F.aC,Bt="persistence";function Zn(W){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,c.A)(function*(W){yield W._initializationPromise;const R=Wn(),k=F.aF(Bt,W.config.apiKey,W.name);R&&R.setItem(k,W._getPersistence())})).apply(this,arguments)}function Wn(){var W;try{return(null===(W=function kt(){return typeof window<"u"?window:null}())||void 0===W?void 0:W.sessionStorage)||null}catch{return null}}const lr=F.aC;class $n{constructor(){this.browserResolver=F.aE(F.k),this.cordovaResolver=F.aE(xe),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aG,this._overrideRedirectResult=F.aH}_initialize(R){var k=this;return(0,c.A)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,k,ce,se){var Ye=this;return(0,c.A)(function*(){return yield Ye.selectUnderlyingResolver(),Ye.assertedUnderlyingResolver._openPopup(R,k,ce,se)})()}_openRedirect(R,k,ce,se){var Ye=this;return(0,c.A)(function*(){return yield Ye.selectUnderlyingResolver(),Ye.assertedUnderlyingResolver._openRedirect(R,k,ce,se)})()}_isIframeWebStorageSupported(R,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,k)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return Xn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,c.A)(function*(){if(R.underlyingResolver)return;const k=yield function Kn(){return Wt.apply(this,arguments)}();R.underlyingResolver=k?R.cordovaResolver:R.browserResolver})()}}function Vn(W){return W.unwrap()}function Fr(W){return Er(W)}function Er(W){const{_tokenResponse:R}=W instanceof Re.g?W.customData:W;if(!R)return null;if(!(W instanceof Re.g)&&"temporaryProof"in R&&"phoneNumber"in R)return F.P.credentialFromResult(W);const k=R.providerId;if(!k||k===F.p.PASSWORD)return null;let ce;switch(k){case F.p.GOOGLE:ce=F.X;break;case F.p.FACEBOOK:ce=F.W;break;case F.p.GITHUB:ce=F.Y;break;case F.p.TWITTER:ce=F.$;break;default:const{oauthIdToken:se,oauthAccessToken:Ye,oauthTokenSecret:bt,pendingToken:Lt,nonce:hn}=R;return Ye||bt||se||Lt?Lt?k.startsWith("saml.")?F.aQ._create(k,Lt):F.N._fromParams({providerId:k,signInMethod:k,pendingToken:Lt,idToken:se,accessToken:Ye}):new F.Z(k).credential({idToken:se,accessToken:Ye,rawNonce:hn}):null}return W instanceof Re.g?ce.credentialFromError(W):ce.credentialFromResult(W)}function mn(W,R){return R.catch(k=>{throw k instanceof Re.g&&function sr(W,R){var k;const ce=null===(k=R.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===(null==R?void 0:R.code))R.resolver=new Lr(W,F.as(W,R));else if(ce){const se=Er(R),Ye=R;se&&(Ye.credential=se,Ye.tenantId=ce.tenantId||void 0,Ye.email=ce.email||void 0,Ye.phoneNumber=ce.phoneNumber||void 0)}}(W,k),k}).then(k=>{const se=k.user;return{operationType:k.operationType,credential:Fr(k),additionalUserInfo:F.aq(k),user:Bn.getOrCreate(se)}})}function Gr(W,R){return or.apply(this,arguments)}function or(){return(or=(0,c.A)(function*(W,R){const k=yield R;return{verificationId:k.verificationId,confirm:ce=>mn(W,k.confirm(ce))}})).apply(this,arguments)}class Lr{constructor(R,k){this.resolver=k,this.auth=function fr(W){return W.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return mn(Vn(this.auth),this.resolver.resolveSignIn(R))}}class Bn{constructor(R){this._delegate=R,this.multiFactor=F.at(R)}static getOrCreate(R){return Bn.USER_MAP.has(R)||Bn.USER_MAP.set(R,new Bn(R)),Bn.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var k=this;return(0,c.A)(function*(){return mn(k.auth,F.a2(k._delegate,R))})()}linkWithPhoneNumber(R,k){var ce=this;return(0,c.A)(function*(){return Gr(ce.auth,F.l(ce._delegate,R,k))})()}linkWithPopup(R){var k=this;return(0,c.A)(function*(){return mn(k.auth,F.d(k._delegate,R,$n))})()}linkWithRedirect(R){var k=this;return(0,c.A)(function*(){return yield Zn(F.aJ(k.auth)),F.g(k._delegate,R,$n)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var k=this;return(0,c.A)(function*(){return mn(k.auth,F.a3(k._delegate,R))})()}reauthenticateWithPhoneNumber(R,k){return Gr(this.auth,F.r(this._delegate,R,k))}reauthenticateWithPopup(R){return mn(this.auth,F.e(this._delegate,R,$n))}reauthenticateWithRedirect(R){var k=this;return(0,c.A)(function*(){return yield Zn(F.aJ(k.auth)),F.h(k._delegate,R,$n)})()}sendEmailVerification(R){return F.ag(this._delegate,R)}unlink(R){var k=this;return(0,c.A)(function*(){return yield F.ap(k._delegate,R),k})()}updateEmail(R){return F.al(this._delegate,R)}updatePassword(R){return F.am(this._delegate,R)}updatePhoneNumber(R){return F.u(this._delegate,R)}updateProfile(R){return F.ak(this._delegate,R)}verifyBeforeUpdateEmail(R,k){return F.ah(this._delegate,R,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bn.USER_MAP=new WeakMap;const yt=F.aC;let nr=(()=>{class W{constructor(k,ce){if(this.app=k,ce.isInitialized())return this._delegate=ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:se}=k.options;yt(se,"invalid-api-key",{appName:k.name}),yt(se,"invalid-api-key",{appName:k.name});const Ye=typeof window<"u"?$n:void 0;this._delegate=ce.initialize({options:{persistence:St(se,k.name),popupRedirectResolver:Ye}}),this._delegate._updateErrorMap(F.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,ce){F.K(this._delegate,k,ce)}applyActionCode(k){return F.a7(this._delegate,k)}checkActionCode(k){return F.a8(this._delegate,k)}confirmPasswordReset(k,ce){return F.a6(this._delegate,k,ce)}createUserWithEmailAndPassword(k,ce){var se=this;return(0,c.A)(function*(){return mn(se._delegate,F.aa(se._delegate,k,ce))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return F.af(this._delegate,k)}isSignInWithEmailLink(k){return F.ad(this._delegate,k)}getRedirectResult(){var k=this;return(0,c.A)(function*(){yt(zn(),k._delegate,"operation-not-supported-in-this-environment");const ce=yield F.j(k._delegate,$n);return ce?mn(k._delegate,Promise.resolve(ce)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function oe(W,R){(0,F.aJ)(W)._logFramework(R)}(this._delegate,k)}onAuthStateChanged(k,ce,se){const{next:Ye,error:bt,complete:Lt}=rr(k,ce,se);return this._delegate.onAuthStateChanged(Ye,bt,Lt)}onIdTokenChanged(k,ce,se){const{next:Ye,error:bt,complete:Lt}=rr(k,ce,se);return this._delegate.onIdTokenChanged(Ye,bt,Lt)}sendSignInLinkToEmail(k,ce){return F.ac(this._delegate,k,ce)}sendPasswordResetEmail(k,ce){return F.a5(this._delegate,k,ce||void 0)}setPersistence(k){var ce=this;return(0,c.A)(function*(){let se;switch(function hr(W,R){fn(Object.values(Ot).includes(R),W,"invalid-persistence-type"),(0,Re.lV)()?fn(R!==Ot.SESSION,W,"unsupported-persistence-type"):(0,Re.Ll)()?fn(R===Ot.NONE,W,"unsupported-persistence-type"):Sn()?fn(R===Ot.NONE||R===Ot.LOCAL&&(0,Re.zW)(),W,"unsupported-persistence-type"):fn(R===Ot.NONE||pr(),W,"unsupported-persistence-type")}(ce._delegate,k),k){case Ot.SESSION:se=F.a;break;case Ot.LOCAL:se=(yield F.aE(F.i)._isAvailable())?F.i:F.b;break;case Ot.NONE:se=F.U;break;default:return F.ax("argument-error",{appName:ce._delegate.name})}return ce._delegate.setPersistence(se)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return mn(this._delegate,F.a0(this._delegate))}signInWithCredential(k){return mn(this._delegate,F.a1(this._delegate,k))}signInWithCustomToken(k){return mn(this._delegate,F.a4(this._delegate,k))}signInWithEmailAndPassword(k,ce){return mn(this._delegate,F.ab(this._delegate,k,ce))}signInWithEmailLink(k,ce){return mn(this._delegate,F.ae(this._delegate,k,ce))}signInWithPhoneNumber(k,ce){return Gr(this._delegate,F.s(this._delegate,k,ce))}signInWithPopup(k){var ce=this;return(0,c.A)(function*(){return yt(zn(),ce._delegate,"operation-not-supported-in-this-environment"),mn(ce._delegate,F.c(ce._delegate,k,$n))})()}signInWithRedirect(k){var ce=this;return(0,c.A)(function*(){return yt(zn(),ce._delegate,"operation-not-supported-in-this-environment"),yield Zn(ce._delegate),F.f(ce._delegate,k,$n)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return F.a9(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return W.Persistence=Ot,W})();function rr(W,R,k){let ce=W;"function"!=typeof W&&({next:ce,error:R,complete:k}=W);const se=ce;return{next:bt=>se(bt&&Bn.getOrCreate(bt)),error:R,complete:k}}function St(W,R){const k=function En(W,R){const k=Wn();if(!k)return[];const ce=F.aF(Bt,W,R);switch(k.getItem(ce)){case Ot.NONE:return[F.U];case Ot.LOCAL:return[F.i,F.a];case Ot.SESSION:return[F.a];default:return[]}}(W,R);if(typeof self<"u"&&!k.includes(F.i)&&k.push(F.i),typeof window<"u")for(const ce of[F.b,F.a])k.includes(ce)||k.push(ce);return k.includes(F.U)||k.push(F.U),k}class Fe{constructor(){this.providerId="phone",this._delegate=new F.P(Vn(h.A.auth()))}static credential(R,k){return F.P.credential(R,k)}verifyPhoneNumber(R,k){return this._delegate.verifyPhoneNumber(R,k)}unwrap(){return this._delegate}}Fe.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,Fe.PROVIDER_ID=F.P.PROVIDER_ID;const rt=F.aC;class ot{constructor(R,k,ce=h.A.app()){var se;rt(null===(se=ce.options)||void 0===se?void 0:se.apiKey,"invalid-api-key",{appName:ce.name}),this._delegate=new F.R(ce.auth(),R,k),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ue(W){W.INTERNAL.registerComponent(new Ce.uA("auth-compat",R=>{const k=R.getProvider("app-compat").getImmediate(),ce=R.getProvider("auth");return new nr(k,ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.V,FacebookAuthProvider:F.W,GithubAuthProvider:F.Y,GoogleAuthProvider:F.X,OAuthProvider:F.Z,SAMLAuthProvider:F._,PhoneAuthProvider:Fe,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:ot,TwitterAuthProvider:F.$,Auth:nr,AuthCredential:F.L,Error:Re.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),W.registerVersion("@firebase/auth-compat","0.5.14")}(h.A)},467:(vn,vt,L)=>{"use strict";function c(F,Re,ue,ge,Ce,ze,et){try{var Pe=F[ze](et),pe=Pe.value}catch(Ge){return void ue(Ge)}Pe.done?Re(pe):Promise.resolve(pe).then(ge,Ce)}function h(F){return function(){var Re=this,ue=arguments;return new Promise(function(ge,Ce){var ze=F.apply(Re,ue);function et(pe){c(ze,ge,Ce,et,Pe,"next",pe)}function Pe(pe){c(ze,ge,Ce,et,Pe,"throw",pe)}et(void 0)})}}L.d(vt,{A:()=>h})},9842:(vn,vt,L)=>{"use strict";function c(ue){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ge){return typeof ge}:function(ge){return ge&&"function"==typeof Symbol&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge})(ue)}function Re(ue,ge,Ce){return(ge=function F(ue){var ge=function h(ue,ge){if("object"!=c(ue)||!ue)return ue;var Ce=ue[Symbol.toPrimitive];if(void 0!==Ce){var ze=Ce.call(ue,ge||"default");if("object"!=c(ze))return ze;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ge?String:Number)(ue)}(ue,"string");return"symbol"==c(ge)?ge:ge+""}(ge))in ue?Object.defineProperty(ue,ge,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):ue[ge]=Ce,ue}L.d(vt,{A:()=>Re})},1635:(vn,vt,L)=>{"use strict";function Re(ee,oe){var fe={};for(var le in ee)Object.prototype.hasOwnProperty.call(ee,le)&&oe.indexOf(le)<0&&(fe[le]=ee[le]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var be=0;for(le=Object.getOwnPropertySymbols(ee);be<le.length;be++)oe.indexOf(le[be])<0&&Object.prototype.propertyIsEnumerable.call(ee,le[be])&&(fe[le[be]]=ee[le[be]])}return fe}function ue(ee,oe,fe,le){var tt,be=arguments.length,Se=be<3?oe:null===le?le=Object.getOwnPropertyDescriptor(oe,fe):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Se=Reflect.decorate(ee,oe,fe,le);else for(var He=ee.length-1;He>=0;He--)(tt=ee[He])&&(Se=(be<3?tt(Se):be>3?tt(oe,fe,Se):tt(oe,fe))||Se);return be>3&&Se&&Object.defineProperty(oe,fe,Se),Se}function Ge(ee,oe,fe,le){return new(fe||(fe=Promise))(function(Se,tt){function He(dn){try{Nt(le.next(dn))}catch(In){tt(In)}}function dt(dn){try{Nt(le.throw(dn))}catch(In){tt(In)}}function Nt(dn){dn.done?Se(dn.value):function be(Se){return Se instanceof fe?Se:new fe(function(tt){tt(Se)})}(dn.value).then(He,dt)}Nt((le=le.apply(ee,oe||[])).next())})}function lt(ee){return this instanceof lt?(this.v=ee,this):new lt(ee)}function De(ee,oe,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,le=fe.apply(ee,oe||[]),Se=[];return be=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),He("next"),He("throw"),He("return",function tt(Sn){return function(zn){return Promise.resolve(zn).then(Sn,In)}}),be[Symbol.asyncIterator]=function(){return this},be;function He(Sn,zn){le[Sn]&&(be[Sn]=function(Xn){return new Promise(function(Kn,Wt){Se.push([Sn,Xn,Kn,Wt])>1||dt(Sn,Xn)})},zn&&(be[Sn]=zn(be[Sn])))}function dt(Sn,zn){try{!function Nt(Sn){Sn.value instanceof lt?Promise.resolve(Sn.value.v).then(dn,In):pr(Se[0][2],Sn)}(le[Sn](zn))}catch(Xn){pr(Se[0][3],Xn)}}function dn(Sn){dt("next",Sn)}function In(Sn){dt("throw",Sn)}function pr(Sn,zn){Sn(zn),Se.shift(),Se.length&&dt(Se[0][0],Se[0][1])}}function nt(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,oe=ee[Symbol.asyncIterator];return oe?oe.call(ee):(ee=function ut(ee){var oe="function"==typeof Symbol&&Symbol.iterator,fe=oe&&ee[oe],le=0;if(fe)return fe.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&le>=ee.length&&(ee=void 0),{value:ee&&ee[le++],done:!ee}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),fe={},le("next"),le("throw"),le("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function le(Se){fe[Se]=ee[Se]&&function(tt){return new Promise(function(He,dt){!function be(Se,tt,He,dt){Promise.resolve(dt).then(function(Nt){Se({value:Nt,done:He})},tt)}(He,dt,(tt=ee[Se](tt)).done,tt.value)})}}}L.d(vt,{AQ:()=>De,Cg:()=>ue,N3:()=>lt,Tt:()=>Re,sH:()=>Ge,xN:()=>nt}),"function"==typeof SuppressedError&&SuppressedError}},vn=>{vn(vn.s=2644)}]);