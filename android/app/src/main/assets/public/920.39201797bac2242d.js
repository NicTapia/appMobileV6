"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[920],{920:(k,f,a)=>{a.r(f),a.d(f,{SignUpPageModule:()=>Y});var p=a(177),s=a(4341),m=a(4742),g=a(4964),c=a(467),e=a(4438),v=a(385),S=a(5265),h=a(9381),U=a(3683);function P(o,t){1&o&&(e.j41(0,"div"),e.EFF(1,"Este campo es requerido"),e.k0s())}function y(o,t){1&o&&(e.j41(0,"div"),e.EFF(1,"El nomnbre debe tener al menos 4 caracteres"),e.k0s())}function G(o,t){if(1&o&&(e.j41(0,"div",9),e.DNE(1,P,2,0,"div",10)(2,y,2,0,"div",10),e.k0s()),2&o){const i=e.XpG();e.R7$(),e.Y8G("ngIf",null==i.form.controls.name.errors?null:i.form.controls.name.errors.required),e.R7$(),e.Y8G("ngIf",null==i.form.controls.name.errors?null:i.form.controls.name.errors.minlenght)}}function R(o,t){1&o&&(e.j41(0,"div"),e.EFF(1,"El correo es requerido"),e.k0s())}function b(o,t){1&o&&(e.j41(0,"div"),e.EFF(1,"Ingrese un correo valido"),e.k0s())}function I(o,t){if(1&o&&(e.j41(0,"div",9),e.DNE(1,R,2,0,"div",10)(2,b,2,0,"div",10),e.k0s()),2&o){const i=e.XpG();e.R7$(),e.Y8G("ngIf",null==i.form.controls.email.errors?null:i.form.controls.email.errors.required),e.R7$(),e.Y8G("ngIf",null==i.form.controls.email.errors?null:i.form.controls.email.errors.email)}}function F(o,t){1&o&&(e.j41(0,"div"),e.EFF(1,"La contrase\xf1a es requerida"),e.k0s())}function E(o,t){if(1&o&&(e.j41(0,"div",9),e.DNE(1,F,2,0,"div",10),e.k0s()),2&o){const i=e.XpG();e.R7$(),e.Y8G("ngIf",null==i.form.controls.password.errors?null:i.form.controls.password.errors.required)}}const T=[{path:"",component:(()=>{var o;class t{constructor(){this.form=new s.gE({uid:new s.MJ(""),email:new s.MJ("",[s.k0.required,s.k0.email]),password:new s.MJ("",[s.k0.required]),name:new s.MJ("",[s.k0.required,s.k0.minLength(4)])}),this.firebaseSvc=(0,e.WQX)(v.f),this.utilsSvc=(0,e.WQX)(S.T)}ngOnInit(){}submit(){var r=this;return(0,c.A)(function*(){if(r.form.valid){const n=yield r.utilsSvc.loading();yield n.present(),r.firebaseSvc.singUp(r.form.value).then(function(){var l=(0,c.A)(function*(d){yield r.firebaseSvc.updateUser(r.form.value.name);let u=d.user.uid;r.form.controls.uid.setValue(u),r.setUserInfo(u)});return function(d){return l.apply(this,arguments)}}()).catch(l=>{console.log(l),r.utilsSvc.presentToast({message:l.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"})}).finally(()=>{n.dismiss()})}})()}setUserInfo(r){var n=this;return(0,c.A)(function*(){if(n.form.valid){const l=yield n.utilsSvc.loading();yield l.present();let d=`users/${r}`;delete n.form.value.password,n.firebaseSvc.setDocument(d,n.form.value).then(function(){var u=(0,c.A)(function*(j){n.utilsSvc.saveInLocalStorage("user",n.form.value),n.utilsSvc.routerLink("/main/home"),n.form.reset()});return function(j){return u.apply(this,arguments)}}()).catch(u=>{console.log(u),n.utilsSvc.presentToast({message:u.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"})}).finally(()=>{l.dismiss()})}})()}}return(o=t).\u0275fac=function(r){return new(r||o)},o.\u0275cmp=e.VBU({type:o,selectors:[["app-sign-up"]],decls:13,vars:8,consts:[["backButton","/auth","title","Registro"],[1,"d-flex-center"],["keypress.enter","submit()",1,"auth-form",3,"ngSubmit","formGroup"],["autocomplete","name","icon","person-outline","type","text","label","Nombre",3,"control"],["class","validators",4,"ngIf"],["autocomplete","email","icon","mail-outline","type","email","label","Correo",3,"control"],["icon","lock-closed-outline","type","password","label","Contrase\xf1a",3,"control"],["expand","block","mode","ios","type","submit",1,"submit",3,"disabled"],["slot","end","name","person-add-outline"],[1,"validators"],[4,"ngIf"]],template:function(r,n){1&r&&(e.nrm(0,"app-header",0),e.j41(1,"ion-content")(2,"div",1)(3,"form",2),e.bIt("ngSubmit",function(){return n.submit()}),e.nrm(4,"app-custom-input",3),e.DNE(5,G,3,2,"div",4),e.nrm(6,"app-custom-input",5),e.DNE(7,I,3,2,"div",4),e.nrm(8,"app-custom-input",6),e.DNE(9,E,2,1,"div",4),e.j41(10,"ion-button",7),e.EFF(11," Registrate "),e.nrm(12,"ion-icon",8),e.k0s()()()()),2&r&&(e.R7$(3),e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("control",n.form.controls.name),e.R7$(),e.Y8G("ngIf",n.form.controls.name.errors&&n.form.controls.name.touched),e.R7$(),e.Y8G("control",n.form.controls.email),e.R7$(),e.Y8G("ngIf",n.form.controls.email.errors&&n.form.controls.email.touched),e.R7$(),e.Y8G("control",n.form.controls.password),e.R7$(),e.Y8G("ngIf",n.form.controls.password.errors&&n.form.controls.password.touched),e.R7$(),e.Y8G("disabled",n.form.invalid))},dependencies:[p.bT,s.qT,s.cb,m.Jm,m.W9,m.iq,h.l,U.H,s.j4]}),t})()}];let $=(()=>{var o;class t{}return(o=t).\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[g.iI.forChild(T),g.iI]}),t})();var M=a(3887);let Y=(()=>{var o;class t{}return(o=t).\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[p.MD,s.YN,m.bv,$,M.G]}),t})()}}]);